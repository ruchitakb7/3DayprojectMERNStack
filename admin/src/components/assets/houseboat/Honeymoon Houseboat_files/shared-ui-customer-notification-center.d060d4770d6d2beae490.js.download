/*@license For license information please refer to shared-ui-customer-notification-center.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2194],{87162:function(e,n,t){t.d(n,{b:function(){return de}});var i=t(96540),o=t(70111),r=t(1723),a=t(39938),l=t(74),c=t(94495),u=t(46198),s=t(94220),d=t(90745),m=t(36360),f=t(75826),v=t(68174),p=t(10159),E=t(16484),y=t(15144),b=t(93149),g=t(86544),S=t(68963),k=t(20917),h=t(91214),C=t(67045),I=t(15043),A=t(82960),_=t(34638),O=t(85625);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){x(e,n,t[n])}))}return e}function z(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,r=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(r.push(i.value),!n||r.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return r}}(e,n)||R(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function j(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}function T(){var e=L(["\n  mutation DeleteNotificationById($contextInput: ContextInput, $notificationId: String!) {\n    deleteNotificationById(context: $contextInput, notificationId: $notificationId) {\n      operationStatus\n    }\n  }\n"]);return T=function(){return e},e}function P(){var e=L(["\n  mutation UpdateInboxState($contextInput: ContextInput, $ids: [String!]!, $state: NotificationState!) {\n    updateInboxState(context: $contextInput, notificationIds: $ids, state: $state) {\n      notificationId\n      operationStatus\n      notificationState\n    }\n  }\n"]);return P=function(){return e},e}function M(){var e=L(["\n  query NotificationCenterQuery($context: ContextInput!) {\n    notification(context: $context) {\n      notificationCenter {\n        unseen\n        redirectPath\n        revealActions {\n          __typename\n          ... on NotificationAnalytics {\n            description\n            referrerId\n          }\n        }\n        title {\n          completeText\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                __typename\n                ... on NotificationAnalytics {\n                  description\n                  referrerId\n                }\n              }\n            }\n          }\n        }\n        icon {\n          id\n          description\n        }\n        emptyState {\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n        }\n        deleteActionForm {\n          title\n          sections {\n            title\n            fields {\n              label\n              __typename\n            }\n          }\n          feedbackMessages {\n            name\n            title\n            text\n            displayType\n            level\n          }\n        }\n        notifications {\n          type\n          subType\n          containerLink {\n            id\n            uri {\n              __typename\n              value\n            }\n            target\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          logo {\n            url\n          }\n          backgroundImage {\n            url\n          }\n          title {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          body {\n            completeText\n            items {\n              __typename\n              text\n              styles\n              ... on NotificationPhraseLinkNode {\n                id\n                type\n                uri {\n                  __typename\n                  value\n                }\n                target\n                actions {\n                  __typename\n                  ... on NotificationAnalytics {\n                    description\n                    referrerId\n                  }\n                }\n              }\n            }\n          }\n          icon {\n            id\n            description\n          }\n          revealActions {\n            __typename\n            ... on NotificationAnalytics {\n              description\n              referrerId\n            }\n            ... on NotificationMarketing {\n              marketingCode\n              marketingCodeDetail\n            }\n          }\n          links {\n            text\n            uri {\n              __typename\n              value\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n          state\n          timeStamp\n          notificationId\n          userActions {\n            __typename\n            type\n            text\n            icon {\n              id\n              description\n              title\n            }\n            actions {\n              __typename\n              ... on NotificationAnalytics {\n                description\n                referrerId\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}function B(){var e=L(["\n  query NotificationCenterGlobalHeaderQuery(\n    $context: ContextInput!\n    $viewSize: HeaderViewSize\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $layout: HeaderLayout\n  ) {\n    globalHeader(context: $context, viewSize: $viewSize, lineOfBusiness: $lineOfBusiness, layout: $layout) {\n      redDotState @client\n    }\n  }\n"]);return B=function(){return e},e}var H=function(e,n){var t=function(e){var t,i=null===(t=n.payload)||void 0===t?void 0:t.find((function(n){return n.notificationId===e.notificationId}));return null!=i},i=function(n){var i;return(null!==(i=null==e?void 0:e.notificationsList)&&void 0!==i?i:[]).map((function(e){return t(e)?z(N({},e),{state:n}):e}))};switch(n.action){case 0:return z(N({},e),{notificationsList:i("SEEN"),unseenCount:0});case 1:return z(N({},e),{notificationsList:i("READ"),unseenCount:0});case 2:var o;return z(N({},e),{notificationsList:(null!==(o=e.notificationsList)&&void 0!==o?o:[]).filter((function(e){return!t(e)})),unseenCount:0});default:return{notificationsList:[],unseenCount:0}}},F=(0,i.createContext)({lineOfBusiness:"UNKNOWN",notificationCenterObject:{notificationsList:[],unseenCount:0},viewSize:null,dispatch:function(){return[]}}),$=function(e){var n=e.notificationCenterObject,t=e.lineOfBusiness,o=e.viewSize,r=e.children,a=D((0,i.useReducer)(H,{notificationsList:n.notificationsList,unseenCount:n.unseenCount}),2),l=a[0],c=a[1];return i.createElement(F.Provider,{value:(0,i.useMemo)((function(){return{notificationCenterObject:l,dispatch:c,lineOfBusiness:t,viewSize:o}}),[l,c,t,o])},r||null)},U=function(){return i.useContext(F)},G=function(e,n,t){if(e){var i=[];e.forEach((function(e){"NotificationAnalytics"===e.__typename&&(i=i.concat(e))})),n&&i.forEach((function(e){var i=e.referrerId;t&&(i="".concat(e.referrerId,".Click")),n(i,e.description||"")}))}},K=function(e){var n="";if(null!==window.location){var t=window.location.pathname?window.location.pathname:"",i=window.location.search?window.location.search:"",o=window.location.hash?window.location.hash:"",r=t.concat(i,o);n="&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(r)))}return e+n},V=function(e){var n,t,o=e.ncIcon,r=e.emptyState;return i.createElement(y.i,{alignContent:"center",justifyContent:"center",direction:"column",blockSize:"full_size"},i.createElement(E.m,{padded:!1},i.createElement(s.b,{padding:{inlinestart:"four",inlineend:"four"}},i.createElement("div",null,i.createElement(y.j,{alignSelf:"center"},i.createElement("section",null,i.createElement(d.c,{align:"center"},i.createElement(c.a,{name:o,size:c.E.LARGE})),i.createElement(s.b,{padding:{blockstart:"four",blockend:"four"}},i.createElement(d.E,{align:"center",tag:"h1",size:5},null==r||null===(n=r.title)||void 0===n?void 0:n.items[0].text)),i.createElement(d.c,{align:"center",size:300},null==r||null===(t=r.body)||void 0===t?void 0:t[0].items[0].text)))))))},q=function(e){var n,t,o,r,a=e.notification,l=e.onClick,c=e.children,u=(null===(t=a.links)||void 0===t||null===(n=t[0].uri)||void 0===n?void 0:n.value)?null===(r=a.links)||void 0===r||null===(o=r[0].uri)||void 0===o?void 0:o.value:"#";return i.createElement("a",{href:u,target:"_blank",rel:"noopener",onClick:l},c)},Y=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick;return i.createElement(C.E,{size:t,onClick:r},i.createElement(c.a,{name:n,size:o}))},J=function(e){var n=e.sheetState,t=e.onSheetOpenTriggerClick,o=e.actionItems;return i.createElement(i.Fragment,null,i.createElement(Y,{name:"more_vert",buttonSize:l.E.MEDIUM,iconSize:c.E.MEDIUM,onClick:t}),n&&i.createElement("div",{tabIndex:0,role:"button",onKeyDown:t,onClick:t},i.createElement(h.E,{type:h.a.OVERLAY,color:h.b.PRIMARY})),i.createElement(S.h,{isVisible:n},i.createElement(S.e,{isVisible:n,triggerRef:null},i.createElement(s.b,{padding:{block:"three"}},i.createElement("div",null,i.createElement(k.d,{items:o}))))))},Q=function(e){var n=e.menuState,t=e.onMenuOpenTriggerClick,o=e.actionItems,r=e.actionState,a=e.setActionState,u=i.useRef(null);return i.useEffect((function(){var e=function(e){var t;!(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))&&n&&a(new Array(r.length).fill(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[u,r,n,a]),i.createElement("div",{ref:u},i.createElement(k.E,{isOpen:n},i.createElement(k.b,null,i.createElement(Y,{name:"more_vert",buttonSize:l.E.MEDIUM,iconSize:c.E.MEDIUM,onClick:t})),i.createElement(k.c,{position:k.P.RIGHT},i.createElement(k.d,{items:o}))))},W=(0,I.J1)(T());function X(e,n,t,i){return e({variables:{contextInput:n,ids:t,state:i}})}var Z=(0,I.J1)(P()),ee=function(e){var n=function(e){var n;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(n=e.icon)||void 0===n?void 0:n.id},label:e.text,onClick:P,typeAnchor:!0}},t=function(e,n){var t;return{attributes:{role:"menuitem",tabindex:0},className:"uitk-list-item",icon:{name:null===(t=e.icon)||void 0===t?void 0:t.id},onClick:n,label:e.text,typeAnchor:!0}},o=function(){var e=l.state,i=l.userActions;return i&&3===i.length?"READ"===e?function(e){return[n(e[0]),t(e[2],(function(){return B(e[2])}))]}(i):function(e){return[n(e[0]),t(e[1],(function(){return M(e[1])}))]}(i):[]},r=e.deleteActionForm,l=e.notification,c=e.actionState,u=e.setActionState,s=e.index,E=e.setMenuClickHandlerState,y=null!=r?r:{},b=y.title,k=void 0===b?"":b,h=y.sections,C=void 0===h?[]:h,I=new Array(c.length).fill(!1),A=U().dispatch,_=(0,m.R)().context,O=D((0,p.useDialog)("notification-center-delete-action-".concat(l.notificationId),"notificationCenterDeleteDialog"),3),w=O[0],x=O[1],N=O[2],z=D((0,a.n)(W),1)[0],L=D((0,a.n)(Z),1)[0],R=(0,f.KY)(),T=function(){c[s]||R("Web.Notification.InApp.ActionList.Click","user action list click");var e=j(I);e[s]=!c[s],u(e)};i.useEffect((function(){var e=function(e){E&&E(e)};e(!!w)}),[w,E]);var P=function(){u(I),x.openDialog()},M=function(e){G(e.actions,R,!1),u(I),A({action:1,payload:[l]}),X(L,_,[l.notificationId||""],"READ")},B=function(e){G(e.actions,R,!1),u(I),A({action:0,payload:[l]}),X(L,_,[l.notificationId||""],"SEEN")};return i.createElement(i.Fragment,null,i.createElement(v.LM,null,i.createElement(v.rw,null,i.createElement(Q,{menuState:c[s],onMenuOpenTriggerClick:function(){return T()},actionItems:o(),actionState:c,setActionState:u})),i.createElement(v.NP,null,i.createElement(J,{sheetState:c[s],onSheetOpenTriggerClick:function(){return T()},actionItems:o()}))),w&&i.createElement(S.h,{isVisible:w},i.createElement(N,null,i.createElement(g.a,{dialogShow:w,returnFocusOnClose:!0,autoFocus:!0},i.createElement(g.b,null,i.createElement(d.E,{tag:"h1",size:5,key:"dialogHeading"},k),i.createElement(d.a,{key:"dialogParagraph",size:2},C[0].title),i.createElement(g.c,{key:"EGDSDialogFooter",stacked:!0,buttonOne:{onClick:function(){var e,n;G(null==(e=l)||null===(n=e.userActions)||void 0===n?void 0:n[0].actions,R,!1),A({action:2,payload:[e]}),u(I),x.closeDialog(),function(e,n,t){e({variables:{contextInput:n,notificationId:t}})}(z,_,l.notificationId||"")},text:C[0].fields[0].label,type:"primary"},buttonTwo:{onClick:function(){u(I),x.closeDialog()},text:C[0].fields[1].label,type:"tertiary"}}))))))},ne=function(e){var n,t,o=e.deleteActionForm,r=e.setMenuClickHandlerState,l=U().notificationCenterObject,u=(0,m.R)().context,v=(0,f.KY)(),p=U().dispatch,g=D((0,a.n)(Z),1)[0],S=function(e){G(e.revealActions,v,!0),"READ"!==e.state&&(p({action:1,payload:[e]}),X(g,u,[e.notificationId],"READ"))},k=new Array(null===(n=l.notificationsList)||void 0===n?void 0:n.length).fill(!1),h=D(i.useState(k),2),C=h[0],I=h[1];return i.createElement(i.Fragment,null,null===(t=l.notificationsList)||void 0===t?void 0:t.map((function(e,n){var t,a,l,u,m,f,v,p,g,k,h,A,_,O,w,x,N;return i.createElement("div",{key:"notifications-cell-".concat(n),"data-stid":"notifications-cell"},i.createElement(s.b,{padding:{block:"three",inlinestart:"one",inlineend:"half"}},i.createElement(y.i,null,i.createElement(y.j,{alignSelf:"start",grow:0},i.createElement(q,{notification:e,onClick:function(){return S(e)}},i.createElement(E.m,{padded:["blockstart","blockend","inlinestart"]},i.createElement(s.b,{margin:{blockstart:"one"}},i.createElement(b.o,{visible:"SEEN"===e.state}))))),i.createElement(y.j,{alignSelf:"start",grow:0},i.createElement(q,{notification:e,onClick:function(){return S(e)}},i.createElement(E.m,{"data-stid":"notification-center-lob-icon",padded:["blockstart","blockend","inlinestart"]},e.icon&&i.createElement(c.a,{name:null===(t=e.icon)||void 0===t?void 0:t.id,size:c.E.MEDIUM})))),i.createElement(y.j,{grow:1},i.createElement(E.m,{padded:["blockstart","blockend","inlinestart"]},i.createElement(E.q,null,i.createElement("a",{href:(null===(l=e.links)||void 0===l||null===(a=l[0].uri)||void 0===a?void 0:a.value)?null===(m=e.links)||void 0===m||null===(u=m[0].uri)||void 0===u?void 0:u.value:"#",target:"_blank",rel:"noopener",onClick:function(){return S(e)}},null===(v=e.title)||void 0===v||null===(f=v.items)||void 0===f?void 0:f[0].text)),(null===(g=e.title)||void 0===g||null===(p=g.items)||void 0===p?void 0:p[0].text)&&i.createElement(d.E,{tag:"h2",size:5},null===(h=e.title)||void 0===h||null===(k=h.items)||void 0===k?void 0:k[0].text),(null===(O=e.body)||void 0===O||null===(_=O[0])||void 0===_||null===(A=_.items)||void 0===A?void 0:A[0].text)&&i.createElement(s.b,{padding:{blockstart:"two"}},i.createElement(d.c,{overflow:"truncate-3-lines",size:300,theme:"standard",weight:"SEEN"===e.state?"bold":"regular"},null===(N=e.body)||void 0===N||null===(x=N[0])||void 0===x||null===(w=x.items)||void 0===w?void 0:w[0].text)),e.timeStamp&&i.createElement(s.b,{padding:{blockstart:"two"}},i.createElement(d.c,{size:100,theme:"standard",spacing:"two"},null==e?void 0:e.timeStamp)))),i.createElement(y.j,null,i.createElement(E.m,{padded:["blockstart","blockend","inlineend"]},i.createElement(ee,{deleteActionForm:o,notification:e,actionState:C,setActionState:I,index:n,setMenuClickHandlerState:r}))))))})))},te=function(e){var n=e.ncIcon,t=e.emptyState,o=e.deleteActionForm,r=e.setMenuClickHandlerState,a=U().notificationCenterObject;return a.notificationsList&&0!==a.notificationsList.length?i.createElement(ne,{deleteActionForm:o,setMenuClickHandlerState:r}):i.createElement(v.LM,null,i.createElement(v.rw,null,i.createElement("div",{style:{height:450}},i.createElement(V,{ncIcon:n,emptyState:t}))),i.createElement(v.NP,null,i.createElement("div",{style:{height:500}},i.createElement(V,{ncIcon:n,emptyState:t}))))},ie=(0,I.J1)(M()),oe=(0,I.J1)(B()),re=function(e){var n=e.ncTitle,t=e.ncRevealActions,r=e.children,a=e.isDialogOpen,l=e.dialogActions,c=e.DialogComponent,v=e.onClick,p=U(),E=p.notificationCenterObject,g=p.lineOfBusiness,k=p.viewSize,h=p.dispatch,C=(0,o.m)(),I=(0,m.R)().context,_=i.useRef(null),O=null==t?void 0:t[1],w=(null==O?void 0:O.referrerId)||"",x=(null==O?void 0:O.description)||"",N=null!==E.unseenCount&&E.unseenCount>0,z=i.createElement(y.i,null,i.createElement(y.j,null,i.createElement(d.c,{size:300,theme:"standard"},n)),i.createElement(y.j,null,N&&i.createElement(f.ee,{referrerId:w,linkName:x},i.createElement(b.n,{visible:!0}))));return i.createElement(i.Fragment,null,i.createElement(s.b,{padding:{block:"three",inline:"six"}},i.createElement(u.E,{onClick:function(){C.writeQuery({query:oe,data:{globalHeader:{redDotState:"NOT_VISIBLE"}},variables:{context:I,viewSize:k,lineOfBusiness:g}}),v(E,h),l.toggleDialog()},domRef:_},i.createElement("button",{type:"button"},z))),a&&i.createElement(S.h,{isVisible:a},i.createElement(c,null,i.createElement(S.e,{type:"full",isVisible:a,triggerRef:_,returnFocusOnClose:!0},i.createElement(A.b,{navigationContent:{onClick:l.closeDialog,navType:"close"},toolbarTitle:n}),i.createElement(S.f,{padded:!1},r)))))},ae=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,a=e.deleteActionForm,l=e.onClick,c=D((0,p.useDialog)("notification-center-settings"),3),u=c[0],s=c[1],d=c[2];return i.createElement(re,{ncTitle:n,ncRevealActions:o,isDialogOpen:u,dialogActions:s,DialogComponent:d,onClick:l},i.createElement(te,{ncIcon:t,emptyState:r,deleteActionForm:a}))};ae.displayName="sharedui-NotificationCenterDialog";var le=function(e){var n=e.name,t=e.buttonSize,o=e.iconSize,r=e.onClick,a=e.description,l=U().notificationCenterObject,u=(0,O.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(C.E,{className:u,size:t,onClick:r},i.createElement(_.d,{display:"inline-block",type:"relative"},i.createElement(c.a,{name:n,size:o,id:"".concat(n,"-icon"),title:a}),i.createElement(_.d,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},i.createElement(b.n,{visible:null!==l.unseenCount&&l.unseenCount>0}))))},ce=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.children,a=e.isOpen,u=e.setOpen,s=e.onClick,m=e.menuClickHandlerState,v=e.ncDescription,p=U(),g=p.notificationCenterObject,S=p.dispatch,h=null==o?void 0:o[1],I=(null==h?void 0:h.referrerId)||"",A=(null==h?void 0:h.description)||"",w=null!==g.unseenCount&&g.unseenCount>0,x=(0,O.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0?"uitk-button-only-icon":"uitk-button-only-icon global-navigation-nav-button";return i.createElement(y.j,{minWidth:"zero",grow:0},i.createElement(k.E,{isOpen:a,onTriggerClick:function(){u(!a)},disableBodyClickHandler:m},i.createElement(k.b,null,i.createElement(C.E,{className:x,size:l.E.LARGE,onClick:function(){a||s(g,S)},id:"".concat(t,"-button")},i.createElement(_.d,{display:"inline-block",type:"relative"},i.createElement(c.a,{name:t,size:c.E.LARGE,id:"".concat(t,"-icon"),title:v}),i.createElement(_.d,{cloneElement:!0,position:{right:"zero",top:"zero"},type:"absolute"},w&&i.createElement(f.ee,{referrerId:I,linkName:A},i.createElement(b.n,{visible:!0})))))),i.createElement(k.c,{position:k.P.RIGHT,autoPosition:!0,width:375,maxHeight:576},i.createElement("div",{style:{height:576},role:"menu"},i.createElement(E.m,{padded:!0,border:"bottom"},i.createElement(d.E,{size:5,tag:"h1"},n)),r))))},ue=function(e){var n=e.ncTitle,t=e.ncIcon,o=e.ncRevealActions,r=e.emptyState,a=e.deleteActionForm,l=e.onClick,c=e.ncDescription,u=D(i.useState(!1),2),s=u[0],d=u[1],m=D(i.useState(!1),2),f=m[0],v=m[1];return i.createElement(ce,{ncTitle:n,ncRevealActions:o,ncIcon:t,isOpen:s,setOpen:d,onClick:l,menuClickHandlerState:f,ncDescription:c},i.createElement(te,{ncIcon:t,emptyState:r,deleteActionForm:a,setMenuClickHandlerState:v}))};ue.displayName="sharedui-NotificationCenterMenu";var se=ie,de=function(e){var n,t,p,E,y,b=e.inputs,g=e.skipSsr,S=b.lineOfBusiness,k=b.viewSize,h=(0,m.R)().context,C=(0,o.m)(),I={context:h},A=(0,r.I)(se,{variables:I,ssr:!g,onCompleted:function(e){var n,t,i,o=null==e||null===(t=e.notification)||void 0===t||null===(n=t.notificationCenter)||void 0===n?void 0:n.unseen;null!==o&&o>0&&"AUTHENTICATED"===(null==h||null===(i=h.identity)||void 0===i?void 0:i.authState)&&C.writeQuery({query:oe,data:{globalHeader:{redDotState:"VISIBLE"}},variables:{context:h,viewSize:k,lineOfBusiness:S}})}}),_=A.data,O=A.error,w=A.loading,x=D((0,a.n)(Z),1)[0],N=(0,f.KY)();if(w||O||!_)return null;var z,L=null==_||null===(n=_.notification)||void 0===n?void 0:n.notificationCenter,j=null===(p=L.title)||void 0===p||null===(t=p.items[0])||void 0===t?void 0:t.text,R=null!==(z=null==L?void 0:L.revealActions)&&void 0!==z?z:[],T=null===(E=L.icon)||void 0===E?void 0:E.id,P=null===(y=L.icon)||void 0===y?void 0:y.description,M=null==L?void 0:L.unseen,B=L.emptyState,H=L.deleteActionForm,F=L.notifications,U=L.redirectPath;if(!(j&&T&&B&&H&&F))return null;var V=function(){var e=L.revealActions;if(e&&(null==e?void 0:e.length)>0){var n=new Array(1).fill(e[0]);G(n,N,!1)}},q=function(e,n){var t;V();var i,o=null===(t=e.notificationsList)||void 0===t?void 0:t.filter((function(e){return"UNSEEN"===(null==e?void 0:e.state)}));if(o&&o.length>0){n({action:0,payload:o});var r=(null==(i=o)?void 0:i.map((function(e){return e.notificationId||""})).filter((function(e){return""!==e})))||[];r&&r.length>0&&X(x,h,r,"SEEN")}!function(e,n){if(n){var t="Web.Notification.NC.Opened.".concat(n.length);e(t,"Notification Screen load"),n.length>0&&n.forEach((function(n){G(n.revealActions,e,!1)}))}}(N,e.notificationsList)};return U&&U.length>0?i.createElement($,{notificationCenterObject:{notificationsList:F,unseenCount:M||0},lineOfBusiness:S,viewSize:k},i.createElement("a",{href:K(U),"aria-label":j},i.createElement(v.LM,null,i.createElement(v.rw,null,i.createElement(le,{name:T,buttonSize:l.E.LARGE,iconSize:c.E.LARGE,onClick:V,description:null!=P?P:j})),i.createElement(v.NP,null,i.createElement(s.b,{padding:{block:"three",inline:"six"}},i.createElement(u.E,{className:"uitk-list-item"},i.createElement("button",{type:"button",onClick:V},i.createElement(d.c,{size:300,theme:"standard"},j)))))))):i.createElement($,{notificationCenterObject:{notificationsList:F,unseenCount:M||0},lineOfBusiness:S,viewSize:k},i.createElement(v.LM,null,i.createElement(v.rw,null,i.createElement(ue,{ncTitle:j,ncRevealActions:R,ncIcon:T,emptyState:B,deleteActionForm:H,onClick:q,ncDescription:null!=P?P:j})),i.createElement(v.NP,null,i.createElement(ae,{ncTitle:j,ncRevealActions:R,ncIcon:T,emptyState:B,deleteActionForm:H,onClick:q}))))};de.displayName="sharedui-NotificationCenter"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-customer-notification-center.d060d4770d6d2beae490.js.map
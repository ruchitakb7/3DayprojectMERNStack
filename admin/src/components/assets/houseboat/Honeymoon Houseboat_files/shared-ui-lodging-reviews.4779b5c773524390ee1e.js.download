/*@license For license information please refer to shared-ui-lodging-reviews.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3728],{63676:function(e,n,t){t.d(n,{u6:function(){return gt}});var r=t(96540),a=t(15043),i=t(1723),l=t(36360),o=t(70111),c=t(67811),s=t(16484),u=t(94220),d=t(75826),m=t(13274),p=t(94495),v=t(46198),f=t(68963),y=t(90745),g=t(43623),E=t(10159),b=t(39938),w=t(86544),h=t(82960),I=t(1192),S=t(71831),k=t(74),R=t(38209),x=t(87512),F=t(15144),P=t(77969),T=t(42782),A=t(54206),_=t(91040),C=t(21181),D=t(67226),L=t(30313),O=t(71034),N=t(1474),M=t(62473),$=t(34638),z=t(70313),j=t(47576),V=t(85625),J=t(74139),G=t(27227),B=t(13783),H=t(63134),U=t(40051),W=t(68174),Y=t(93149);function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function K(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){K(e,n,t[n])}))}return e}function X(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function Z(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(c){o=!0,a=c}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||re(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function te(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,n){if(e){if("string"==typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q(e,n):void 0}}function ae(){var e=ne(["\n  fragment SpannableTextContentsFragment on EGDSSpannableText {\n    text\n    contents {\n      ...SpannableTextContentFragment\n    }\n    egdsElementId\n  }\n\n  fragment SpannableTextContentFragment on EGDSText {\n    ...SpannableContentPlainTextFragment\n    ...SpannableContentStandardLinkFragment\n    ...SpannableContentInlineLinkFragment\n  }\n\n  fragment SpannableContentPlainTextFragment on EGDSPlainText {\n    text\n  }\n\n  fragment SpannableContentStandardLinkFragment on EGDSStandardLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n    icon {\n      description\n      id\n      size\n      theme\n    }\n    iconPosition\n  }\n\n  fragment SpannableContentInlineLinkFragment on EGDSInlineLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n  }\n"]);return ae=function(){return e},e}function ie(){var e=ne(["\n  fragment InputFieldParts on EGDSInputField {\n    value\n    label\n    placeholder\n    validations {\n      errorMessage\n      __typename\n      ... on EGDSMaxLengthInputValidation {\n        maxLength\n      }\n      ... on EGDSMinLengthInputValidation {\n        minLength\n      }\n      ... on EGDSRegexInputValidation {\n        pattern\n      }\n    }\n  }\n\n  fragment PageParts on DirectFeedbackFormPage {\n    __typename\n    title\n    elements {\n      __typename\n      ... on EGDSElement {\n        egdsElementId\n      }\n      ... on DirectFeedbackInputField {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackTextArea {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackMultiSelectGroup {\n        ...DirectFeedbackMultiSelectGroupFragment\n      }\n      ... on EGDSPlainText {\n        text\n      }\n      ... on EGDSHeading {\n        text\n        headingType\n      }\n      ...SpannableTextContentsFragment\n    }\n    submitButton {\n      primary\n      egdsElementId\n    }\n    displayCondition {\n      fieldId\n      expectedValue\n    }\n  }\n\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    groupName\n    required\n    errorMessage\n    options {\n      label {\n        text\n      }\n      name\n    }\n  }\n\n  ","\n"]);return ie=function(){return e},e}function le(){var e=ne(["\n  fragment ContentDirectFeedbackPromptFragment on DirectFeedbackPrompt {\n    title\n    pages {\n      ...PageParts\n    }\n  }\n\n  ","\n"]);return le=function(){return e},e}function oe(){var e=ne(["\n  mutation ContentDirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        fieldId\n        error\n      }\n    }\n  }\n"]);return oe=function(){return e},e}function ce(){var e=ne(["\n  query ContentDirectFeedbackPromptQuery($context: ContextInput!, $id: ID!) {\n    directFeedbackPromptById(context: $context, id: $id) {\n      callToAction {\n        egdsElementId\n        icon {\n          id\n          size\n        }\n        primary\n      }\n      ...ContentDirectFeedbackPromptFragment\n    }\n  }\n  ","\n"]);return ce=function(){return e},e}function se(){var e=ne(["\n  fragment EmptyStateFragment on UIEmptyState {\n    heading\n    body\n  }\n"]);return se=function(){return e},e}function ue(){var e=ne(["\n  fragment MessagingCardFragment on UIMessagingCard {\n    graphic {\n      __typename\n      ... on Icon {\n        id\n        description\n      }\n    }\n    primary\n    secondaries\n  }\n"]);return ue=function(){return e},e}function de(){var e=ne(["\n  fragment NoResultsMessageFragment on PropertyReviews {\n    noResultsMessage {\n      __typename\n      ...MessagingCardFragment\n      ...EmptyStateFragment\n    }\n  }\n  ","\n  ","\n"]);return de=function(){return e},e}function me(){var e=ne(["\n  fragment ReviewChildFragment on ManagementResponse {\n    id\n    header {\n      text\n    }\n    response\n  }\n"]);return me=function(){return e},e}function pe(){var e=ne(["\n  fragment FeedbackIndicatorFragment on PropertyReview {\n    reviewInteractionSections {\n      primaryDisplayString\n      accessibilityLabel\n      reviewInteractionType\n      feedbackAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n"]);return pe=function(){return e},e}function ve(){var e=ne(["\n  mutation UpvotePropertyReviewWithAccessibility($context: ContextInput!, $reviewId: String!, $index: Int!) {\n    upvotePropertyReviewWithAccessibility(context: $context, reviewId: $reviewId, index: $index) {\n      primaryDisplayString\n      accessibilityLabel\n    }\n  }\n"]);return ve=function(){return e},e}function fe(){var e=ne(["\n  fragment PhotosFragment on PropertyReview {\n    id\n    photoSection {\n      imageClickAnalytics {\n        referrerId\n        linkName\n      }\n      exitAnalytics {\n        referrerId\n        linkName\n      }\n      navClickAnalytics {\n        referrerId\n        linkName\n      }\n      intersectionAnalytics {\n        referrerId\n        linkName\n      }\n    }\n    photos {\n      description\n      url\n    }\n  }\n"]);return fe=function(){return e},e}function ye(){var e=ne(["\n  fragment AuthorFragment on PropertyReview {\n    reviewAuthorAttribution {\n      text\n    }\n  }\n"]);return ye=function(){return e},e}function ge(){var e=ne(["\n  fragment PropertyReviewFooterSectionFragment on PropertyReviewFooterSection {\n    messages {\n      seoStructuredData {\n        itemscope\n        itemprop\n        itemtype\n        content\n      }\n      text {\n        ... on EGDSPlainText {\n          text\n        }\n        ... on EGDSGraphicText {\n          text\n          graphic {\n            ... on Mark {\n              description\n              id\n              size\n              url {\n                ... on HttpURI {\n                  relativePath\n                  value\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=ne(["\n  fragment PropertyReviewRegionFragment on PropertyReview {\n    reviewRegion {\n      id\n    }\n  }\n"]);return Ee=function(){return e},e}function be(){var e=ne(["\n  fragment PropertyReviewSourceFragment on PropertyReview {\n    propertyReviewSource {\n      accessibilityLabel\n      graphic {\n        description\n        id\n        size\n        token\n        url {\n          value\n        }\n      }\n      text {\n        value\n      }\n    }\n  }\n"]);return be=function(){return e},e}function we(){var e=ne(["\n  fragment ReviewThemeFragment on ReviewThemes {\n    icon {\n      id\n    }\n    label\n  }\n"]);return we=function(){return e},e}function he(){var e=ne(["\n  fragment ReviewTranslationInfoFragment on PropertyReview {\n    translationInfo {\n      loadingTranslationText\n      targetLocale\n      translatedBy {\n        description\n      }\n      translationCallToActionLabel\n      seeOriginalText\n    }\n  }\n"]);return he=function(){return e},e}function Ie(){var e=ne(["\n  fragment TravelersFragment on PropertyReview {\n    travelers\n  }\n"]);return Ie=function(){return e},e}function Se(){var e=ne(["\n  fragment ReviewParentFragment on PropertyReview {\n    id\n    superlative\n    locale\n    title\n    brandType\n    disclaimer\n    reviewScoreWithDescription {\n      label\n      value\n    }\n    text\n    highlightedText {\n      ...EGDSSpannableTextFragment\n    }\n    seeMoreAnalytics {\n      linkName\n      referrerId\n    }\n    submissionTime {\n      longDateFormat\n    }\n    impressionAnalytics {\n      event\n      referrerId\n    }\n    themes {\n      ...ReviewThemeFragment\n    }\n    reviewFooter {\n      ...PropertyReviewFooterSectionFragment\n    }\n    reviewAnalytics\n    ...FeedbackIndicatorFragment\n    ...AuthorFragment\n    ...PhotosFragment\n    ...TravelersFragment\n    ...ReviewTranslationInfoFragment\n    ...PropertyReviewSourceFragment\n    ...PropertyReviewRegionFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}function ke(){var e=ne(["\n  query TranslateReviewQuery($context: ContextInput!, $propertyId: String!, $locale: Locale!, $reviewId: String!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      review(id: $reviewId, locale: $locale) {\n        translatedReviewId: id\n        translatedLocale: locale\n        translatedTitle: title\n        translatedText: text\n        translatedHighlightedText: highlightedText {\n          ...EGDSSpannableTextFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Re(){var e=ne(["\n  fragment __PropertyReviewsListFragment on PropertyReviews {\n    summary {\n      paginateAction {\n        text\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    reviews {\n      contentDirectFeedbackPromptId\n      ...ReviewParentFragment\n      managementResponses {\n        ...ReviewChildFragment\n      }\n      reviewInteractionSections {\n        primaryDisplayString\n        reviewInteractionType\n      }\n    }\n    impressionAnalytics\n    ...NoResultsMessageFragment\n  }\n  ","\n  ","\n  ",",\n"]);return Re=function(){return e},e}function xe(){var e=ne(["\n  query ReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(propertyId: $propertyId, context: $context) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  ","\n"]);return xe=function(){return e},e}function Fe(){var e=ne(["\n  fragment __PropertyReviewSummaryFragment on PropertyReviewSummary {\n    accessibilityLabel\n    overallScoreWithDescriptionA11y {\n      ...LodgingEnrichedMessageFragment\n    }\n    propertyReviewCountDetails {\n      fullDescription\n    }\n    ...ReviewDisclaimerFragment\n    reviewSummaryDetails {\n      label\n      ratingPercentage\n      formattedRatingOutOfMax\n    }\n    totalCount {\n      raw\n    }\n  }\n  ","\n  ","\n"]);return Fe=function(){return e},e}function Pe(){var e=ne(["\n  query PropertyReviewSummaries($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...__PropertyReviewSummaryFragment\n    }\n  }\n  ","\n"]);return Pe=function(){return e},e}function Te(){var e=ne(["\n  query PropertyReviewAggregates($propertyIds: [String!]!, $context: ContextInput!) {\n    propertyReviewAggregates(propertyIds: $propertyIds, context: $context) {\n      propertySentiment {\n        text\n        subtext\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function Ae(){var e=ne(["\n  query PropertyReviewSummariesLine($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      overallScoreWithDescription\n      propertyReviewCountDetails {\n        fullDescription\n      }\n      reviewDisclaimer\n      reviewDisclaimerAccessibilityLabel\n      totalCount {\n        raw\n      }\n    }\n  }\n"]);return Ae=function(){return e},e}function _e(){var e=ne(["\n  fragment PopularMentionsFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      title\n      placeholder\n      label\n      name\n      showListOptions {\n        seeLessLabel\n        seeMoreLabel\n      }\n      options {\n        ariaLabel\n        clickAnalytics {\n          referrerId\n          linkName\n        }\n        optionValue\n        label\n        isSelected\n      }\n      clickAnalytics {\n        referrerId\n        linkName\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function Ce(){var e=ne(["\n  fragment SearchTextFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      graphic {\n        ...SearchTextIconFragment\n      }\n      submittedAnalytics\n      initiatedAnalytics\n    }\n  }\n\n  fragment SearchTextIconFragment on Icon {\n    description\n    id\n    token\n  }\n"]);return Ce=function(){return e},e}function De(){var e=ne(["\n  fragment SortTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      clickAnalytics {\n        linkName\n        referrerId\n      }\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n"]);return De=function(){return e},e}function Le(){var e=ne(["\n  fragment TravelerTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      clickAnalytics {\n        linkName\n        referrerId\n      }\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n"]);return Le=function(){return e},e}function Oe(){var e=ne(["\n  query PropertyFilteredReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyReviewSummaries(context: $context, propertyIds: [$propertyId], searchCriteria: $searchCriteria) {\n      ...__PropertyReviewSummaryFragment\n    }\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n        sortAndFilter {\n          ...TravelerTypeFragment\n          ...SortTypeFragment\n          ...SearchTextFragment\n          ...PopularMentionsFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Ne(){var e=ne(["\n  query PropertyReviewsBreakdownQuery($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...PropertyReviewsBreakdownFragment\n    }\n  }\n  ","\n"]);return Ne=function(){return e},e}function Me(){var e=ne(["\n  fragment PopularMentionsBadgesFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      title\n      placeholder\n      label\n      name\n      showListOptions {\n        seeLessLabel\n        seeMoreLabel\n      }\n      options {\n        ariaLabel\n        clickStreamAnalytics\n        clickAnalytics {\n          referrerId\n          linkName\n        }\n        optionValue\n        label\n        isSelected\n      }\n      clickAnalytics {\n        referrerId\n        linkName\n      }\n      clickStreamAnalytics\n    }\n  }\n"]);return Me=function(){return e},e}function $e(){var e=ne(["\n  query PropertyReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        summary {\n          seeAllReviewsCallToActionLabel\n          accessibilityLabel\n          strategy\n          ...PropertyReviewsBreakdownFragment\n        }\n        sortAndFilter {\n          ...PopularMentionsBadgesFragment\n          __typename\n        }\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return $e=function(){return e},e}function ze(){var e=ne(["\n  query PropertyRoomScoresQuery($propertyIds: [String!]!, $context: ContextInput!, $withTags: Boolean!) {\n    propertyReviewAggregates(propertyIds: $propertyIds, context: $context) {\n      ...PropertyReviewAggregatesFragment\n    }\n  }\n\n  fragment PropertyReviewAggregatesFragment on PropertyReviewAggregates {\n    propertySummaries {\n      propertyId\n      roomsScore {\n        ...RoomSummaryFragment\n      }\n    }\n  }\n\n  fragment RoomSummaryFragment on RoomSummary {\n    scoreLabel\n    id\n    roomRatingListTitle @include(if: $withTags)\n    tags @include(if: $withTags) {\n      label\n    }\n  }\n"]);return ze=function(){return e},e}var je=function(e,n){return e&&n?te(n).concat(te(e.filter((function(e){var t=e.id;return!n.some((function(e){return t===(null==e?void 0:e.id)}))})))):e},Ve=function(e,n){var t,r,a,i,l,o,c,s,u,d;return e&&n?X(Q({},e,n),{secondary:{booleans:je(null===(t=e.secondary)||void 0===t?void 0:t.booleans,null===(r=n.secondary)||void 0===r?void 0:r.booleans),counts:je(null===(a=e.secondary)||void 0===a?void 0:a.counts,null===(i=n.secondary)||void 0===i?void 0:i.counts),dates:je(null===(l=e.secondary)||void 0===l?void 0:l.dates,null===(o=n.secondary)||void 0===o?void 0:o.dates),ranges:je(null===(c=e.secondary)||void 0===c?void 0:c.ranges,null===(s=n.secondary)||void 0===s?void 0:s.ranges),selections:je(null===(u=e.secondary)||void 0===u?void 0:u.selections,null===(d=n.secondary)||void 0===d?void 0:d.selections)}}):e},Je=function(e,n){return function(t){var r=t.updateQuery,a=t.variables;e({updateQuery:r,variables:X(Q({},n,a),{searchCriteria:Ve(n.searchCriteria,a.searchCriteria)})})}};var Ge="upvote a review",Be="HOT.HIS.REVIEW.THUMB_UP.UPVOTE",He="Google translated review",Ue="HOT.HIS.Reviews.GoogleTranslate",We=function(e,n){var t,r,a;try{a=JSON.parse(n)}catch(c){return{clientPayload:void 0,serverPayload:n}}var i=a.events,l=Object.keys((null==i?void 0:i[e])||{});l.sort((function(e,n){return parseInt(n.slice(1),10)-parseInt(e.slice(1),10)}));var o=l[0];return{clientPayload:o?null===(r=i[e])||void 0===r||null===(t=r[o])||void 0===t?void 0:t.event_data:void 0,serverPayload:n}},Ye="NEWEST_TO_OLDEST_BY_LANGUAGE",qe="",Ke="popularMentions",Qe="1.0.0",Xe="Impression",Ze=function(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{event:Q({event_name:e,event_version:n,action_location:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""},t&&{event_type:t})}},en="HOT.HIS.REVIEW.Report.FlagOpenDialog",nn="Report Review Dialog",tn="HOT.HIS.REVIEW.Report.OpenPartnerDisputeForm",rn="Report Review Partner Dispute Form",an="HOT.HIS.REVIEW.Report.Submit",ln="Report Review Partner Submit Form",on=(0,a.J1)(ae()),cn=function(e){var n=e.content,t=(0,d.KY)(),a=function(){return t(tn,rn)};switch(n.__typename){case"EGDSPlainText":return r.createElement(r.Fragment,null,n.text);case"EGDSInlineLink":return"HttpURI"===n.action.resource.__typename?r.createElement(v.E,{inline:!0,size:n.size.toLowerCase()},r.createElement("a",{target:"_blank",href:n.action.resource.value,onClick:a,rel:"noopener"},n.text)):null;case"EGDSStandardLink":var i,l,o,c;return"HttpURI"===n.action.resource.__typename?r.createElement(v.E,{inline:!0,size:n.size.toLowerCase()},r.createElement("a",{target:"_blank",href:n.action.resource.value,onClick:a,rel:"noopener"},n.text,r.createElement(u.b,{margin:{blockend:"half"}},r.createElement(p.a,{id:(null===(i=n.icon)||void 0===i?void 0:i.id)||"",name:(null===(l=n.icon)||void 0===l?void 0:l.id)||"",size:(null===(o=n.icon)||void 0===o?void 0:o.size)&&p.E[n.icon.size],title:null===(c=n.icon)||void 0===c?void 0:c.description})))):null;default:return null}},sn=function(e){var n=e.data;return r.createElement(y.c,{size:300,spacing:"two"},n.contents.map((function(e,n){return r.createElement(cn,{key:"".concat(e.__typename,"-").concat(n),content:e})})))};sn.displayName="SpannableText",sn.fragment=on;var un=(0,a.J1)(ie(),sn.fragment),dn=function(e){var n=e.data,t=e.handleSubmit,a=e.loading,i=e.reportStateUpdatetoParent,l=ee((0,r.useState)({}),2),o=l[0],c=l[1],s=function(e){var n=X(Q({},o),K({},e.currentTarget.value,e.currentTarget.checked));c(n),i(n)},d=n.elements.find((function(e){return"DirectFeedbackMultiSelectGroup"===e.__typename})),m=!!(null==d?void 0:d.required),p=Object.keys(o).some((function(e){return o[e]})),v=a||m&&!p;return r.createElement(r.Fragment,null,n.elements.map((function(e,n){switch(e.__typename){case"EGDSPlainText":return r.createElement(u.b,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"six",blockend:"two"}},r.createElement(y.c,{size:300,spacing:"two"},e.text));case"EGDSSpannableText":return r.createElement(u.b,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"six",blockend:"two"}},r.createElement(sn,{data:e}));case"EGDSHeading":var t;return r.createElement(u.b,{key:"".concat(e.__typename,"-").concat(n),margin:{blockstart:"three",blockend:"two"}},r.createElement(y.E,{tag:null===(t=e.headingType)||void 0===t?void 0:t.toLowerCase(),size:5},e.text));case"DirectFeedbackMultiSelectGroup":return r.createElement(r.Fragment,{key:"".concat(e.__typename,"-").concat(n)},e.options.map((function(e,n){var t=e.label.text,a=e.name;return r.createElement(R.E,{id:"".concat(t,"-").concat(a),key:"".concat(e.__typename,"-").concat(n),onChange:s,value:a||"",checked:o[a||""]},t)})));default:return null}})),r.createElement(u.b,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(S.E,{disabled:v,onClick:t,size:k.E.SMALL},n.submitButton.primary))))};dn.displayName="ContentDirectFeedbackPromptPage",dn.fragment=un;var mn=(0,a.J1)(le(),dn.fragment),pn=(0,a.J1)(oe()),vn=function(e){var n=e.closeReportDialog,t=e.data,a=e.feedbackContext,i=e.handleShowToast,o=e.hideReview,c=e.inputs,s=e.triggerRef,u=(0,I.useLocalization)().formatText,m=ee((0,b.n)(pn),2),p=m[0],v=m[1].loading,y=(0,l.R)().context,g=ee((0,r.useState)({}),2),E=g[0],S=g[1],k=(0,d.KY)(),R=t.title||"Report review",x=u("close.dialog"),F=t.pages[0];if(!F)return null;return r.createElement(f.e,{type:"centered",isVisible:!0,triggerRef:s},r.createElement(h.b,{toolbarTitle:R,navigationContent:{onClick:n,navIconLabel:x,navType:"close"}}),r.createElement(w.b,null,r.createElement(dn,{data:F,handleSubmit:function(){if(!v){var e=function(e,n){var t;return{context:e,formValues:[(t=n,{key:"report_category",value:Object.keys(t).filter((function(e){return t[e]})).join(",")})]}}(a,E);p({variables:{context:y,feedback:e,id:null==c?void 0:c.id}}),o();var t=Object.entries(E).filter((function(e){var n=ee(e,2);n[0];return n[1]}));t.forEach((function(e){var n,t=ee(e,2),r=t[0],a=(t[1],{rfrr:"HOT.HIS.REVIEW.Report.".concat(n=r),link:"Review report reason is ".concat(n)});k(a.rfrr,a.link,!0)})),k(an,ln,!0),n(),i()}},loading:v,reportStateUpdatetoParent:function(e){S(e)}})))};vn.displayName="ContentDirectFeedbackPrompt",vn.fragment=mn;var fn=(0,a.J1)(ce(),vn.fragment),yn=function(e){var n,t,a=e.dialogId,o=e.inputs.id,c=(0,l.R)().context,s=(0,i.I)(fn,{variables:{id:o,context:c}}),m=s.data,b=s.error,w=s.loading,h=ee((0,r.useState)(!1),2),I=h[0],S=h[1],k=ee((0,E.useDialog)("content-direct-feedback-dialog-".concat(a),"pwaDialogNested"),3),R=k[0],x=k[1],F=k[2],P=(0,d.KY)(),T=r.useRef(null),A=null==m?void 0:m.directFeedbackPromptById;if(b||w||!A)return null;var _=x.openDialog,C=x.closeDialog,D=null===(n=A.callToAction)||void 0===n?void 0:n.primary,L=null===(t=A.callToAction)||void 0===t?void 0:t.icon,O=null==A?void 0:A.pages[1],N=null==O?void 0:O.elements.find((function(e){return"EGDSPlainText"===e.__typename}));return r.createElement(r.Fragment,null,r.createElement(v.E,{inline:!0,onClick:function(){P(en,nn),_(),S(!1)}},r.createElement("button",{type:"button",ref:T},r.createElement(p.a,{name:(null==L?void 0:L.id)||"",key:null==L?void 0:L.id,size:(null==L?void 0:L.size)&&p.E[L.size]}),r.createElement(u.b,{padding:{inlinestart:"one"}},r.createElement(y.c,{inline:!0,size:200},D)))),r.createElement(f.h,{isVisible:R},r.createElement(F,null,r.createElement(vn,X(Q({},e),{closeReportDialog:C,data:A,handleShowToast:function(){return S(!0)},triggerRef:T})))),N&&r.createElement(g.E,{show:I},N.text))};yn.displayName="ContentDirectFeedbackCallToAction";var gn=(0,a.J1)(se()),En=function(e){var n=e.data,t=n.heading,a=n.body;return r.createElement(x.E,null,r.createElement(u.b,{margin:{blockstart:"six"}},r.createElement(y.E,{size:5,tag:"h3"},t)),r.createElement(y.c,{spacing:"two",size:300},a))};En.displayName="EmptyState",En.fragment=X(Q({},gn),{__typename:"UIEmptyState"});var bn=(0,a.J1)(ue()),wn=function(e){var n=e.data,t=n.graphic,a=n.primary,i=n.secondaries,l="Icon"===(null==t?void 0:t.__typename)&&r.createElement(p.a,{name:t.id,id:t.id,description:t.description,spotlight:"info"});return r.createElement(s.i,{padded:!0,border:!0},r.createElement(F.i,{alignItems:"center",space:"two"},r.createElement(F.j,null,r.createElement("div",null,l)),r.createElement(u.b,{margin:{inlinestart:"two"}},r.createElement(F.j,null,r.createElement("div",null,a&&r.createElement(y.E,{tag:"h4"},a),r.createElement(y.c,{size:300},null==i?void 0:i[0]))))))};wn.displayName="MessagingCard",wn.fragment=X(Q({},bn),{__typename:"UIMessagingCard"});var hn=(0,a.J1)(de(),wn.fragment,En.fragment),In=function(e){var n,t=e.data.noResultsMessage;return t?(t.__typename===wn.fragment.__typename?n=r.createElement(wn,{data:t}):t.__typename===En.fragment.__typename&&(n=r.createElement(En,{data:t})),n):null};In.fragment=hn,In.displayName="NoResultsMessage";var Sn=(0,a.J1)(me()),kn=function(e){var n=e.data,t=n.id,a=n.header,i=n.response;return t&&i?r.createElement(u.b,{border:["inlinestart"],padding:{inlinestart:"three"},margin:{blockstart:"four"}},r.createElement("article",{id:t},r.createElement("section",null,(null==a?void 0:a.text)&&r.createElement(y.c,{weight:"bold",size:200},a.text)),r.createElement("section",null,r.createElement(u.b,{padding:{block:"two"}},r.createElement(y.c,{size:200,theme:"standard"},i))))):null};kn.displayName="ReviewChild",kn.fragment=Sn;var Rn=kn,xn=(0,a.J1)(pe()),Fn=(0,a.J1)(ve()),Pn=function(e){var n,t=e.data,a=e.reviewId,i=e.reviewIndex,o=e.reviewsPage,c=(0,l.R)().context,s=t.reviewInteractionSections,m=ee((0,b.n)(Fn),2),f=m[0],y=m[1],g=(0,d.KY)(),E=null==y||null===(n=y.data)||void 0===n?void 0:n.upvotePropertyReviewWithAccessibility;if((0,r.useEffect)((function(){var e;(null==E?void 0:E.accessibilityLabel)&&(0,C.liveAnnounce)(null!==(e=null==E?void 0:E.accessibilityLabel)&&void 0!==e?e:"",C.Level.POLITE)}),[E]),!(null==s?void 0:s.length))return null;var w=null==s?void 0:s.find((function(e){return"HELPFUL_REVIEW"===e.reviewInteractionType}));if(!w)return null;var h,I,S=w.primaryDisplayString,k=w.accessibilityLabel,R=w.feedbackAnalytics,x=null!==(h=null==E?void 0:E.primaryDisplayString)&&void 0!==h?h:S,F=null!==(I=null==E?void 0:E.accessibilityLabel)&&void 0!==I?I:k;return r.createElement(u.b,{padding:{inlineend:"one"}},r.createElement("div",{"data-stid":"property-review-feedback-indicator"},r.createElement(v.E,{disabled:null==y?void 0:y.called,onClick:function(){R&&"ReviewsOverlay"===o?g(R.referrerId,R.linkName):g(Be,Ge),f({variables:{context:c,reviewId:a,index:i}})}},r.createElement("button",{"aria-label":null!=F?F:"",type:"button"},r.createElement(p.a,{name:"thumb_up",size:p.E.EXTRA_SMALL}),x&&r.createElement(Tn,{count:x})))))},Tn=function(e){var n=e.count;return r.createElement(u.b,{padding:{inlinestart:"one"}},r.createElement(y.c,{inline:!0,size:200},n))};Pn.displayName="FeedbackIndicator",Pn.fragment=xn;var An=Pn,_n=(0,a.J1)(fe()),Cn=function(e){var n=e.data,t=e.reviewsPage,a=n.id,i=n.photos,l=n.photoSection||{},o=l.imageClickAnalytics,c=l.exitAnalytics,s=l.navClickAnalytics,m=l.intersectionAnalytics,p=(0,d.KY)(),v=r.useRef(null),y=ee(r.useState(0),2),g=y[0],b=y[1],w=ee((0,E.useDialog)("review-".concat(a,"-photo-gallery-dialog"),"pwaPhotosReviewsDialog"),3),h=w[0],I=w[1],S=w[2],R=r.useCallback((function(e){if(o){var n=o.linkName,r=o.referrerId;t&&r&&n&&(r=r.replace("reviewsPage",t),p(r,n))}v.current=document.activeElement,b(e),I.openDialog()}),[I,o,t,p]),x=t&&(null==s?void 0:s.referrerId)?{id:s.referrerId,description:s.linkName,callback:function(e,n){return p(e,n)}}:void 0,F=r.useMemo((function(){return null==i?void 0:i.map((function(e){return{src:e.url,caption:e.description}}))}),[i]);if(!(null==i?void 0:i.length))return null;var P={currentIndex:g,onIndexChange:b},T=r.createElement(r.Fragment,null,r.createElement(u.b,{padding:{block:"two"}},r.createElement(L.E,{columns:4,rows:1},i.slice(0,4).map((function(e,n){return r.createElement(L.a,{key:e.url},r.createElement(D.a,{ratio:D.E.R4_3,className:"all-image-fit-cover"},r.createElement(D.b,{src:e.url,alt:e.description}),r.createElement(D.c,null,r.createElement(k.b,{onClick:function(){return R(n)},domRef:v}))))})))),r.createElement(f.h,{isVisible:h},r.createElement(S,null,r.createElement(O.d,{dialogShow:h,onDismiss:function(){var e;if(null===(e=v.current)||void 0===e||e.focus(),I.closeDialog(),c){var n=c.linkName,r=c.referrerId;t&&r&&n&&(r=r.replace("reviewsPage",t),p(r,n))}},triggerRef:v,strictFullscreen:!0},r.createElement(O.c,X(Q({},P),{images:F,stretchToFill:!1,galleryName:t,analytics:x}))))));if("ReviewsOverlay"===t&&m){var A=m.referrerId,_=m.linkName;return r.createElement(d.ee,{trackOnce:!0,referrerId:A.replace("reviewsPage","ReviewsOverlay"),linkName:_},T)}return T};Cn.displayName="Photos",Cn.fragment=_n;var Dn=(0,a.J1)(ye()),Ln=function(e){var n,t=null===(n=e.data.reviewAuthorAttribution)||void 0===n?void 0:n.text;return t?r.createElement(y.E,{size:7,tag:"h4"},t):null};Ln.displayName="PropertyReviewAuthor",Ln.fragment=Dn;var On=(0,a.J1)(ge()),Nn=function(e){var n=e.data;return r.createElement(r.Fragment,null,n.messages.map((function(e,n){var t;return r.createElement("div",{key:"review-footer-message-".concat(n)},e.seoStructuredData&&r.createElement(y.E,{size:7,tag:"h5",itemScope:e.seoStructuredData.itemscope,itemProp:e.seoStructuredData.itemprop,itemType:e.seoStructuredData.itemtype,hidden:!0},r.createElement("span",{itemProp:"name"},e.seoStructuredData.content)),e.text&&r.createElement(F.i,{space:"two"},"EGDSGraphicText"===e.text.__typename&&"Mark"===(null===(t=e.text.graphic)||void 0===t?void 0:t.__typename)&&r.createElement(F.j,null,r.createElement(N.a,{name:e.text.graphic.id})),r.createElement(F.j,null,r.createElement(y.c,{size:200,theme:"standard"},e.text.text))))})))};Nn.displayName="PropertyReviewFooterSectionFragment",Nn.fragment=On;var Mn=(0,a.J1)(Ee()),$n=function(e){var n=e.data;return n&&n.reviewRegion?r.createElement(N.a,{name:n.reviewRegion.id}):null};$n.displayName="PropertyReviewRegion",$n.fragment=Mn;var zn=(0,a.J1)(be()),jn=function(e){var n=e.data.propertyReviewSource||{},t=n.text,a=n.graphic,i=n.accessibilityLabel;if(!t||!t.value)return null;var l=a||{},o=l.id,c=l.description,s=l.url;return r.createElement(r.Fragment,null,r.createElement(F.i,{space:"one",tabIndex:-1,alignItems:"end"},r.createElement(F.j,null,r.createElement(y.c,{size:200,theme:"standard",overflow:"truncate","data-stid":"property-source"},t.value)),r.createElement(F.j,null,r.createElement(r.Fragment,null,o&&r.createElement(u.b,{padding:{blockend:"one"}},r.createElement("div",null,r.createElement(N.E,{name:o,size:N.c.EXTRA_SMALL,description:c}))),!o&&(null==s?void 0:s.value)&&r.createElement(N.E,{url:s.value,size:N.c.EXTRA_SMALL,description:c})))),i&&r.createElement(y.c,{className:"is-visually-hidden"},i))};jn.displayName="PropertyReviewSource",jn.fragment=zn;var Vn=(0,a.J1)(we()),Jn=function(e){var n=e.data,t=e.themeUniqueId,a=n.label,i=n.icon;return i&&a?r.createElement(u.b,{margin:{blockstart:"two"}},r.createElement("div",null,r.createElement(p.a,{"aria-hidden":!0,size:p.E.SMALL,name:i.id,id:"".concat(i.id,"-").concat(t)}),r.createElement(u.b,{padding:{inlinestart:"two"}},r.createElement(y.c,{size:200,theme:"standard",inline:!0},a)))):null};Jn.displayName="ReviewTheme",Jn.fragment=Vn;var Gn=(0,a.J1)(he()),Bn=function(e){var n=e.data,t=e.isLoading,a=e.isTranslated,i=e.onTranslateClicked,l=n.translationInfo,o=(0,d.KY)();if(!l)return null;return t?r.createElement(y.c,{size:200,theme:"standard"},l.loadingTranslationText):r.createElement(r.Fragment,null,a?r.createElement(r.Fragment,null,r.createElement(y.c,{inline:!0,size:200,theme:"standard"},l.translatedBy.description),r.createElement(u.b,{margin:{block:"two",inlinestart:"two"}},r.createElement(v.E,{className:"uitk-type-300",size:"small",inline:!0},r.createElement("button",{type:"button",onClick:i},l.seeOriginalText)))):r.createElement(u.b,{margin:{block:"two"}},r.createElement(v.E,{className:"uitk-type-300 ",size:"small",inline:!0},r.createElement("button",{type:"button",onClick:function(){o(Ue,He),i()}},l.translationCallToActionLabel))))};Bn.displayName="ReviewTranslationInfo",Bn.fragment=Gn;var Hn=(0,a.J1)(Ie()),Un=function(e){var n=e.data.travelers;return(null==n?void 0:n.length)?r.createElement(y.c,{size:300,theme:"standard"},n.join(", ")):null};Un.displayName="Travelers",Un.fragment=Hn;var Wn=(0,a.J1)(Se(),Ln.fragment,Cn.fragment,Un.fragment,Jn.fragment,An.fragment,Bn.fragment,jn.fragment,$n.fragment,Nn.fragment,_.$BV.fragment),Yn=(0,a.J1)(ke(),_.$BV.fragment),qn=function(e){var n,t,a,i,o=e.data,c=e.children,s=e.propertyId,m=e.reviewIndex,p=e.reviewsPage,v=o.id,f=o.superlative,g=o.disclaimer,E=o.themes,b=o.submissionTime,w=o.title,h=o.text,I=o.highlightedText,S=o.seeMoreAnalytics,k=o.reviewScoreWithDescription,R=o.impressionAnalytics,x=o.reviewFooter,_=o.reviewAnalytics,C=o.reviewInteractionSections,D=ee(r.useState(!1),2),L=D[0],O=D[1],N=ee(r.useState(!1),2),M=N[0],$=N[1],z=(0,l.R)().context,j=ee((0,P._)(Yn),2),V=j[0],J=j[1],G=J.data,B=J.called,H=J.loading,U=(0,d.KY)(),W=r.useCallback((function(){!M&&S&&S.referrerId&&p&&U(S.referrerId.concat(p),S.linkName),$(!M)}),[M,U,S,p]),Y=(null==C?void 0:C.find((function(e){return"REVIEW_EXPAND_LABEL"===e.reviewInteractionType})))||{},q=Y.primaryDisplayString,K=Y.accessibilityLabel,Q=(null==C?void 0:C.find((function(e){return"REVIEW_COLLAPSE_LABEL"===e.reviewInteractionType})))||{},X=Q.primaryDisplayString,Z=Q.accessibilityLabel,ne=null==G||null===(t=G.propertyInfo)||void 0===t||null===(n=t.review)||void 0===n?void 0:n.translatedText,te=null==G||null===(i=G.propertyInfo)||void 0===i||null===(a=i.review)||void 0===a?void 0:a.translatedTitle,re=L&&te?te:w,ae=function(e,n){var t;return(null==n||null===(t=n.inlineContent)||void 0===t?void 0:t.length)?r.createElement(r.Fragment,null,r.createElement("span",{className:"is-visually-hidden"},e),r.createElement(A.Vx,{inlineContentList:n.inlineContent,isHiddenFromScreenReader:!0})):e},ie={clientPayload:Ze("review.presented",Qe,"ReviewsOverlay"===p?"reviews_overlay":"pdp",Xe),serverPayload:_},le=r.createElement("article",{itemProp:"review",itemScope:!0,itemType:"http://schema.org/Review",id:v},g&&r.createElement(u.b,{margin:{blockend:"two"}},r.createElement(y.c,{size:200,theme:"standard"},r.createElement("span",null,g))),f&&r.createElement(u.b,{padding:{blockend:"two"}},r.createElement("section",{itemProp:"reviewRating",itemScope:!0,itemType:"http://schema.org/Rating","data-stid":"property-reviews-parent__section-superlative"},(null==k?void 0:k.value)&&r.createElement(y.E,{tag:"h3",size:5,"aria-label":k.label||""},r.createElement("span",{itemProp:"ratingValue"},k.value)))),r.createElement("section",null,r.createElement(Ln,{data:o}),r.createElement(Un,{data:o}),r.createElement(y.c,{size:300,theme:"standard"},r.createElement("span",{itemProp:"datePublished"},b.longDateFormat))),E&&E.length>0&&r.createElement(u.b,{margin:{block:"two"}},r.createElement("section",{"data-stid":"property-reviews-parent__section-sentiments"},E.map((function(e,n){return r.createElement(Jn,{themeUniqueId:"".concat(v,"-").concat(n),data:e,key:"review-theme-".concat(n)})})))),r.createElement(Bn,{data:o,isLoading:H,isTranslated:L,onTranslateClicked:function(){B||V({variables:{context:z,propertyId:s,reviewId:v,locale:z.locale}}),O(!L)}}),(w||h||I)&&r.createElement(u.b,{margin:{block:"two"}},r.createElement("section",null,re&&r.createElement(y.E,{tag:"h5",size:6,"data-stid":"review_section_title"},r.createElement("span",{itemProp:"name"},re)),r.createElement(u.b,{padding:{blockstart:"two"}},q&&X?r.createElement(T.a,{isVisible:M,lines:5,expandLabel:q,collapseLabel:X,expandA11yLabel:null!=K?K:"",collapseA11yLabel:null!=Z?Z:"",handleClick:W},r.createElement(y.c,{size:300,theme:"standard"},r.createElement("span",{itemProp:"description"},L&&ne?ne:ae(h,I)))):r.createElement(y.c,{size:300,theme:"standard"},r.createElement("span",{itemProp:"description"},L&&ne?ne:ae(h,I)))))),r.createElement(Cn,{data:o,reviewsPage:p}),r.createElement(u.b,{margin:{block:"two"}},r.createElement("section",null,r.createElement(F.i,{justifyContent:"space-between",alignItems:"end"},r.createElement(F.j,null,r.createElement(F.i,{direction:"column"},x&&r.createElement(F.j,null,r.createElement(F.i,{space:"two",direction:"row"},r.createElement(Nn,{data:x}))),r.createElement(F.j,null,r.createElement(u.b,{margin:{blockstart:"three"}},r.createElement(F.i,{justifyContent:"start"},r.createElement(F.j,null,r.createElement(An,{reviewId:v,reviewIndex:m,data:o,reviewsPage:p})),r.createElement(F.j,null,c)))))),r.createElement(F.j,null,r.createElement(jn,{data:o})))))),oe=R||{},ce=oe.referrerId,se=void 0===ce?"":ce,ue=oe.event,de=void 0===ue?"":ue;return"ReviewsOverlay"===p&&se&&de?r.createElement(d.ee,{trackOnce:!0,referrerId:se,linkName:de},r.createElement(d.E0,{eventData:ie}," ",le," ")):r.createElement(d.E0,{eventData:ie}," ",le," ")};qn.displayName="ReviewParent",qn.fragment=Wn;var Kn=qn,Qn=(0,a.J1)(Re(),Kn.fragment,Rn.fragment,In.fragment),Xn=function(e){var n,t=e.data,a=e.fetchMore,i=e.hideManagementResponse,l=e.propertyId,p=e.size,v=e.showLoadMoreCTA,f=void 0===v||v,y=e.reviewsPage,g=e.searchFilterOrPopularMentionFilter,E=(0,o.m)().cache,b=t.reviews,w=t.summary,h=t.noResultsMessage,I=null==w?void 0:w.paginateAction,S=(null==I?void 0:I.analytics)||{},k=S.referrerId,R=S.linkName,x=(0,d.KY)(),F=(n=(0,m.zy)(),(0,r.useMemo)((function(){return new URLSearchParams(n.search)}),[n.search])),P=function(){var e=(0,m.Zp)(),n=(0,m.zy)();return(0,r.useCallback)((function(t){var r=new URLSearchParams(n.search);r.delete(t),e("".concat(n.pathname,"?").concat(r),{replace:!0})}),[e,n])}(),T=ee((0,r.useState)(!1),2),A=T[0],_=T[1],C=ee((0,r.useState)(!1),2),D=C[0],L=C[1],O=ee((0,r.useState)(10),2),N=O[0],M=O[1],$=(0,r.useRef)(),z="ReviewsOverlay"===y;r.useEffect((function(){if(z&&F.get("reviewId")){var e,n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:n?"auto":"smooth",block:"start"}),P("reviewId")}}),[P,z,F,y]),(0,r.useEffect)((function(){f&&_(!(!I||h))}),[f,I,h]);var j={clientPayload:Ze("reviews.viewed",Qe,z?"reviews_overlay":"pdp",Xe),serverPayload:t.impressionAnalytics},V=r.createElement(s.i,null,b&&b.length>0&&b.map((function(e,n){var t,a=e.managementResponses,o=e.id,c=e.brandType;return r.createElement(s.m,{padded:!z||["blockstart","blockend"],border:"bottom",key:"review-".concat(o),"data-stid":"property-reviews-list-item"},r.createElement("div",{ref:e.id===F.get("reviewId")?$:null},r.createElement(Kn,{data:e,propertyId:l,reviewIndex:n+1,reviewsPage:y},e.contentDirectFeedbackPromptId&&r.createElement(yn,{dialogId:o,feedbackContext:[{key:"brand",value:c||""},{key:"property_id",value:l},{key:"review_id",value:o}],hideReview:(t=o,function(){var e=E.identify({id:t,__typename:"PropertyReview"});E.evict({id:e}),E.gc()}),inputs:{id:e.contentDirectFeedbackPromptId}}))),!i&&a.length>0&&e.managementResponses[0]&&r.createElement(Rn,{data:e.managementResponses[0]}))})),r.createElement(In,{data:t})),J=r.createElement(d.E0,{eventData:j},V);return r.createElement("section",null,z?J:V,A&&r.createElement(u.b,{margin:{block:"three"}},r.createElement("div",{className:"uitk-type-center"},r.createElement(c.E,{onClick:function(){L(!0),k&&R&&x(k,R),a({variables:{searchCriteria:{secondary:{counts:[{id:"startIndex",value:g?N:b.length},{id:"size",value:p}]}}},updateQuery:function(e,n){var t=n.fetchMoreResult;return t?(t.propertyInfo.reviewInfo.noResultsMessage&&_(!1),X(Q({},e),{propertyInfo:X(Q({},e.propertyInfo),{reviewInfo:X(Q({},e.propertyInfo.reviewInfo),{summary:Q({},e.propertyInfo.reviewInfo.summary,t.propertyInfo.reviewInfo.summary),reviews:te(e.propertyInfo.reviewInfo.reviews).concat(te(t.propertyInfo.reviewInfo.reviews))})})})):e}}),L(!1),g&&M((function(e){return e+10}))},disabled:D},null==I?void 0:I.text))))};Xn.displayName="PropertyReviewsList",Xn.fragment=Qn;var Zn=Xn,et=(0,a.J1)(xe(),Qn);r.memo((function(e){var n,t,a=e.inputs.searchCriteria,o=Z(e.inputs,["searchCriteria"]),c=(0,l.R)().context,s=String(o.propertyId),u=(null==o||null===(n=o.pagination)||void 0===n?void 0:n.size)||10,d=(null==o||null===(t=o.pagination)||void 0===t?void 0:t.startingIndex)||0,m={context:c,propertyId:s,searchCriteria:{primary:a.primary,secondary:{booleans:[{id:"includeRecentReviews",value:!0},{id:"includeRatingsOnlyReviews",value:!0}],counts:[{id:"startIndex",value:d},{id:"size",value:u}],selections:[{id:"sortBy",value:Ye}]}}},p=(0,i.I)(et,{variables:m,errorPolicy:"all",fetchPolicy:"cache-first"}),v=p.data,f=p.error,y=p.loading,g=p.fetchMore;if(y||f||!v)return null;var E=Je(g,m);return r.createElement(Zn,{propertyId:s,size:u,data:v.propertyInfo.reviewInfo,fetchMore:E})})).displayName="sharedui-PropertyReviewsList";var nt=(0,a.J1)(Fe(),_.yJZ.fragment,_.UKE.fragment),tt=function(e){var n=e.data,t=e.withAggregateRating,a=void 0!==t&&t,i=e.reviewPage,l=e.children,o=void 0===l?null:l,c=n.overallScoreWithDescriptionA11y,s=n.propertyReviewCountDetails,d=n.reviewSummaryDetails,m=n.totalCount;return r.createElement(u.b,{margin:{blockend:"two"}},r.createElement("div",Q({"data-stid":"property-reviews-summary"},(0,_.ixk)("aggregateRating",a)),c&&r.createElement(_.UKE,{data:c,textSize:500}),r.createElement("span",Q({className:"is-visually-hidden","aria-hidden":"true"},(0,_.ixk)("reviewCount",a)),null==m?void 0:m.raw),r.createElement(y.c,{size:400,spacing:"one"},null==s?void 0:s.fullDescription),r.createElement(_.yJZ,{data:n,reviewPage:i}),o,!!(null==d?void 0:d.length)&&r.createElement(F.i,{direction:"column",space:"two"},d.map((function(e,n){return r.createElement(u.b,{padding:{blockstart:"two"},key:"category-".concat(null==e?void 0:e.label)},r.createElement("div",null,r.createElement(M.E,{percent:null==e?void 0:e.ratingPercentage,progressDescription:null==e?void 0:e.formattedRatingOutOfMax,title:null==e?void 0:e.label})))})))))};tt.displayName="PropertyReviewsSummaryFragment",tt.fragment=nt;var rt=tt,at=((0,a.J1)(Pe(),rt.fragment),(0,a.J1)(Te()),(0,a.J1)(Ae()),(0,a.J1)(_e())),it=function(e){var n,t=e.data,a=e.popularMentionInput,i=e.otherFiltersApplied,l=void 0!==i&&i,o=e.setPopularMention,c=e.resetFilters,s=t.sortAndFilter.find((function(e){return e.title===Ke})),m=r.createRef(),p=ee(r.useState(!1),2),v=p[0],f=p[1],g=(0,d.KY)(),E=r.useCallback((function(){var e=((null==s?void 0:s.options.find((function(e){return e.isSelected})))||{}).clickAnalytics;e&&g("".concat(e.referrerId,".False"),"Deselected ".concat(e.linkName))}),[s,g]);if(!s||!(null==s||null===(n=s.options)||void 0===n?void 0:n.length)||!s.label)return null;var b=s.clickAnalytics,w=s.placeholder,h=s.label,I=s.showListOptions,S=s.options,k={id:"".concat(null==b?void 0:b.referrerId,".").concat(v?"SeeLess":"SeeMore"),description:"".concat(v?"See less ":"See more ").concat(null==b?void 0:b.linkName),callback:function(e,n){g(e.replace(/\.closed|\.opened/g,""),n)}};return r.createElement("div",{ref:m},r.createElement(u.b,{margin:{blockend:"four"},border:["blockend"],padding:{blockend:S.length>9?"one":"four"}},r.createElement(F.i,{space:"two",direction:"column"},r.createElement(y.E,{tag:"h3",size:6,"aria-label":w||""},h),r.createElement(u.b,{margin:{blockend:"unset"}},r.createElement(T.a,{items:9,hideScrim:!0,isVisible:v,expandLabel:null==I?void 0:I.seeMoreLabel,collapseLabel:null==I?void 0:I.seeLessLabel,handleClick:function(){return f((function(e){return!e}))},analytics:k},r.createElement(B.c,{wrap:!0},S.map((function(e,n){return r.createElement(B.E,{id:"wrapped-popular-".concat(n),key:"popular-mention-".concat(n),checked:!l&&a===(null==e?void 0:e.optionValue),onChange:function(){return t=(n=e).optionValue,r=n.clickAnalytics,a=n.ariaLabel,void(n.isSelected||((0,C.liveAnnounce)(a,C.Level.POLITE,"is-visually-hidden",m,"popular-mention-live-announce-id"),null==c||c("popularMention"),o(t),g("".concat(r.referrerId,".True"),"Selected ".concat(r.linkName)),E()));var n,t,r,a}},e.label)}))))))))};it.fragment=at,it.displayName="PopularMentions";var lt=it,ot=(0,a.J1)(Ce()),ct=function(e){var n=e.data,t=e.setSearchInputVal,a=e.searchInputVal,i=e.resetFilters,l=ee(r.useState(a),2),o=l[0],c=l[1],s=n.sortAndFilter.find((function(e){return"reviewsSearch"===e.name})),u=(0,d.iQ)();if((0,r.useMemo)((function(){c(a)}),[a]),!(s&&s.label&&s.name&&s.graphic))return null;var m=s.label,v=s.name,f=s.submittedAnalytics,y=s.initiatedAnalytics,g=s.graphic,E=g.id,b=g.description,w=g.token;if(!E||!b||!w)return null;var h=function(e){e.preventDefault(),t(o),null==i||i("search"),u({clientPayload:Ze("reviews_search.submitted",Qe),serverPayload:f})},I=r.createElement(r.Fragment,null,r.createElement(F.j,null,r.createElement(U.b,{size:300,id:"search-input-box",label:m,name:v,value:o,onChange:function(e){var n=e.target.value;c(n),""===n&&(null==i||i("reset"))},hasClearButton:!0,onClick:function(){return u({clientPayload:Ze("reviews_search.initiated",Qe),serverPayload:y})}})),r.createElement(F.j,null,r.createElement(S.E,{size:k.E.LARGE,type:"submit",name:b,title:b,id:"search-btn","aria-label":b,disabled:0===(null==o?void 0:o.trim().length)},r.createElement(p.a,{name:w,id:E}))));return r.createElement(W.LM,null,r.createElement(W.NP,null,r.createElement(H.E,{onSubmit:h},r.createElement(F.i,{space:"four"},I))),r.createElement(W.rw,null,r.createElement(H.E,{onSubmit:h},r.createElement(F.i,{space:"two"},I))))};ct.fragment=ot,ct.displayName="SearchBox";var st=ct,ut=(0,a.J1)(De()),dt=function(e){var n,t=e.data,a=e.setSortType,i=e.resetFilters,l=t.sortAndFilter.find((function(e){return"sortBy"===e.name})),o=ee(r.useState((null==l||null===(n=l.options[0])||void 0===n?void 0:n.optionValue)||""),2),c=o[0],s=o[1],u=(0,d.KY)();if((0,r.useMemo)((function(){var e=null==l?void 0:l.options.find((function(e){return!0===e.isSelected}));s((null==e?void 0:e.optionValue)||"")}),[l]),!l||!l.options||!l.label||0===l.options.length)return null;var m=l.name,p=l.label,v=l.options,f=l.clickAnalytics;return r.createElement(U.i,{id:m,value:c,label:p,name:m,emptyState:!1,onChange:function(e){var n=e.target.options.selectedIndex,t=(v[n]||{clickAnalytics:void 0}).clickAnalytics||{},r=t.referrerId,l=t.linkName;r&&l&&u(r,l),s(e.currentTarget.value),a(e.currentTarget.value),null==i||i("sortBy")},onClick:function(){var e=f||{},n=e.referrerId,t=e.linkName;n&&t&&u(n,t)}},r.createElement(r.Fragment,null,v.map((function(e,n){return e.optionValue&&e.label?r.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null}))))};dt.displayName="SortType",dt.fragment=ut;var mt=dt,pt=(0,a.J1)(Le()),vt=function(e){var n,t,a=e.data,i=e.setTravelerType,l=(e.selectedTravelerTypes,e.resetFilters),o=a.sortAndFilter.find((function(e){return"travelerType"===e.name})),c=ee(r.useState((null==o||null===(n=o.options[0])||void 0===n?void 0:n.optionValue)||""),2),s=c[0],u=c[1],m=(0,d.KY)();if((0,r.useMemo)((function(){var e=null==o?void 0:o.options.find((function(e){return!0===e.isSelected}));u((null==e?void 0:e.optionValue)||"")}),[o]),!(null==o?void 0:o.label)||0===(null===(t=o.options)||void 0===t?void 0:t.length))return null;var p=o.name,v=o.label,f=o.options,y=o.clickAnalytics;return r.createElement(U.i,{id:p,value:s,label:v,name:p,emptyState:!1,onChange:function(e){var n=e.target.options.selectedIndex,t=(f[n]||{clickAnalytics:void 0}).clickAnalytics||{},r=t.referrerId,a=t.linkName;r&&a&&m(r,a),u(e.currentTarget.value),i([e.currentTarget.value]),null==l||l("travelerType")},onClick:function(){var e=y||{},n=e.referrerId,t=e.linkName;n&&t&&m(n,t)}},r.createElement(r.Fragment,null,f.map((function(e,n){return e.optionValue&&e.label?r.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null}))))};vt.displayName="TravelerType",vt.fragment=pt;var ft=vt,yt=(0,a.J1)(Oe(),rt.fragment,Qn,ft.fragment,mt.fragment,st.fragment,lt.fragment),gt=function(e){var n,t,a=e.inputs,o=a.propertyId,c=a.pagination,d=a.includeRecentReviews,m=a.searchCriteria,p=(0,l.R)().context,v=(0,V.useExperiment)("Reviews_overlay_migration_no_harm_test_web",!0).exposure,f=1===(0,V.useExperiment)("PDP_Location_Highlights",!1).exposure.bucket,y=null===(t=m.secondary)||void 0===t||null===(n=t.selections)||void 0===n?void 0:n.find((function(e){return"requestFrom"===e.id})),g=(null==c?void 0:c.size)||10,E=(null==c?void 0:c.startingIndex)||0,b=ee(r.useState([]),2),w=b[0],h=b[1],I=ee(r.useState(Ye),2),S=I[0],k=I[1],R=ee(r.useState(qe),2),x=R[0],P=R[1],T=ee(r.useState(""),2),A=T[0],_=T[1],C=r.useRef(null),O=r.createElement(J.G,{inputs:{productIdentifier:{id:o,type:J.W.PROPERTY_ID,travelSearchCriteria:{property:m}}},skipSsr:!0}),N={context:p,propertyId:o,searchCriteria:{primary:m.primary,secondary:{booleans:[{id:"includeRecentReviews",value:null==d||d},{id:"includeRatingsOnlyReviews",value:!0},{id:"overrideEmbargoForIndividualReviews",value:!0},{id:"isFilteredSummary",value:!0}],counts:[{id:"startIndex",value:E},{id:"size",value:g}],selections:te(w.map((function(e){return{id:"travelerType",value:e}}))).concat([{id:"sortBy",value:S},{id:"searchTerm",value:x},{id:"popularMention",value:A}],te(f&&void 0!==y?[y]:[]))}}},M=function(e){switch(e){case"search":h([]),k(Ye),_("");break;case"popularMention":h([]),k(Ye),P(qe);break;case"travelerType":case"sortBy":P(qe),_("");break;default:h([]),k(Ye),P(qe),_("")}},B=x!==qe||""!==A?"cache-and-network":"cache-first",H=(0,i.I)(yt,{variables:N,fetchPolicy:B,errorPolicy:"all"}),U=H.data,W=H.previousData,Y=H.error,q=H.loading,K=H.fetchMore,Q=Je(K,N),X=null!=U?U:W;if(r.useEffect((function(){var e;x.length>0&&(null===(e=C.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}))}),[x]),q&&S===Ye&&!x&&0===w.length&&!A)return r.createElement(F.i,null,r.createElement($.d,{type:"absolute",position:{top:"center",left:"center"}},r.createElement(z.E,null),1===v.bucket&&r.createElement("span",{className:"is-visually-hidden"},O)));if(Y||!X)return null;var Z=X.propertyInfo.reviewInfo,ne=null;ne=q?r.createElement("div",{"data-stid":"property-reviews-list-loading"},r.createElement(s.i,null,Array.from(Array(3)).map((function(e,n){return r.createElement(s.m,{padded:["blockstart","blockend"],border:"bottom",key:n},r.createElement(F.i,{direction:"column",space:"three"},r.createElement(F.j,null,r.createElement(j.b,{animation:!0})),r.createElement(F.j,null,r.createElement(j.b,{animation:!0,type:"secondary"})),r.createElement(F.j,null,r.createElement(D.a,{ratio:D.E.R4_1},r.createElement(j.a,null)))))})))):r.createElement("div",{"data-stid":"property-reviews-list"},r.createElement(Zn,{propertyId:o,size:g,data:Z,fetchMore:Q,reviewsPage:"ReviewsOverlay",searchFilterOrPopularMentionFilter:"cache-and-network"===B}));var re=r.createElement("div",{"data-stid":"property-reviews-sort"},r.createElement(mt,{selectedSortTypes:S,setSortType:k,data:Z.sortAndFilter,resetFilters:M})),ae=r.createElement("div",{"data-stid":"property-reviews-search",ref:C},r.createElement(st,{data:Z.sortAndFilter,setSearchInputVal:P,searchInputVal:x,resetFilters:M})),ie=r.createElement("div",{"data-stid":"property-reviews-popular-mentions"},r.createElement(lt,{data:Z.sortAndFilter,popularMentionInput:A,resetFilters:M,setPopularMention:_,otherFiltersApplied:x!==qe||w.length>0&&"all"!==w[0]}));return r.createElement(L.E,{columns:{small:1,medium:1,large:1},space:"six"},0===v.bucket?r.createElement("div",null,!!X.propertyReviewSummaries.length&&X.propertyReviewSummaries[0]&&r.createElement(rt,{data:X.propertyReviewSummaries[0],reviewPage:"ReviewsOverlay".valueOf()},r.createElement(G.j,{inputs:{productIdentifier:{id:o,type:G.W.PROPERTY_ID,travelSearchCriteria:{property:m}}}}))):O,r.createElement(L.E,{columns:{small:1,medium:1,large:1}},r.createElement(L.E,{columns:1},r.createElement(u.b,{margin:{blockend:"six"}},r.createElement(L.a,null,ae))),r.createElement(L.E,{columns:1},r.createElement(L.a,null,ie)),r.createElement(L.E,{columns:2,space:"six"},r.createElement(L.a,null,r.createElement(F.j,{minWidth:205},re)),r.createElement(L.a,null,r.createElement(ft,{selectedTravelerTypes:w,setTravelerType:h,data:Z.sortAndFilter,resetFilters:M}))),r.createElement(u.b,{margin:{blockstart:"six"}},r.createElement(L.a,null,ne))))};gt.displayName="sharedui-PropertyFilteredReviews";(0,a.J1)(Ne(),_.kFY.fragment);var Et=(0,a.J1)(Me()),bt=function(e){var n,t=e.data.sortAndFilter.find((function(e){return e.title===Ke})),a=(0,d.iQ)();if(!t||!(null==t||null===(n=t.options)||void 0===n?void 0:n.length)||!t.label)return null;var i=t.placeholder,l=t.label,o=t.options,c=t.clickStreamAnalytics;return r.createElement(d.E0,{eventData:We("popular_mentions.presented",c)},r.createElement(u.b,{margin:{blockend:"four"},padding:{blockend:"one"}},r.createElement(F.i,{space:"two",direction:"column"},r.createElement(y.E,{tag:"h3",size:6,"aria-label":i||""},l),r.createElement(F.i,{wrap:"wrap",space:"two",direction:"row"},o.map((function(e,n){return r.createElement(u.b,{key:n},r.createElement("div",{onClick:function(){return function(e){var n=e.clickStreamAnalytics;a(We("popular_mention.selected",n))}(e)}},r.createElement(Y.p,{key:"popular-mention-".concat(n),theme:"emphasis",text:e.label||""})))}))))))};bt.fragment=Et,bt.displayName="PopularMentionsBadges";var wt=bt;(0,a.J1)($e(),_.kFY.fragment,Qn,wt.fragment),(0,a.J1)(ze())}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-lodging-reviews.4779b5c773524390ee1e.js.map
/*@license For license information please refer to shared-ui-retail-lodging-compare.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3880],{61752:function(e,n,t){t.d(n,{AY:function(){return Pn}});var r=t(96540),a=t(15043),o=t(1723),i=t(36360),l=t(91040),c=t(74),u=t(16484),m=t(94495),d=t(15144),s=t(30313),g=t(68963),p=t(94220),f=t(90745),v=t(70354),E=t(85625),y=t(70730),b=t(68174),h=t(34638),L=t(10159),C=t(67210),S=t(41292),A=t(93149),I=t(86776),w=t(61917),O=t(35695),R=t(75826),x=t(67226),T=t(47576),k=t(8142),_=t.n(k),D=t(54235);function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function M(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function G(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||H(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function z(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){if(e){if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(e,n):void 0}}function Y(){var e=N(["\n  fragment LodgingCompareActionSheetItemTemplateFragment on LodgingCompareActionSheetItemTemplate {\n    button {\n      ...LodgingEGDSButtonFragment\n    }\n    accessibilityLabel {\n      ...LodgingEGDSBasicLocalizedTextFragment\n    }\n  }\n"]);return Y=function(){return e},e}function J(){var e=N(["\n  fragment LodgingCompareActionSheetToolbarFragment on LodgingCompareActionSheetToolbar {\n    collapseAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    expandAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    expandAccessibilityLabel\n    collapseAccessibilityLabel\n  }\n"]);return J=function(){return e},e}function W(){var e=N(["\n  fragment LodgingCompareActionSheetFragment on LodgingCompareActionSheet {\n    sheet {\n      ...LodgingEGDSSheetFragment\n    }\n    cancelAction {\n      ...LodgingEGDSButtonFragment\n    }\n    compareActionPrompt\n    compareActionStatus {\n      ...LodgingEGDSCardinalLocalizedTextFragment\n    }\n    compareAction {\n      ...LodgingEGDSButtonFragment\n    }\n    itemTemplate {\n      ...LodgingCompareActionSheetItemTemplateFragment\n    }\n    toolbar {\n      ...LodgingCompareActionSheetToolbarFragment\n    }\n    accessibilityLabel\n  }\n"]);return W=function(){return e},e}function q(){var e=N(["\n  fragment LodgingCompareBadgeFragment on EGDSStandardBadge {\n    text\n  }\n"]);return q=function(){return e},e}function U(){var e=N(["\n  fragment LodgingCompareAttributeFragment on LodgingCompareAttribute {\n    graphic {\n      ...UIGraphicFragment\n    }\n    text {\n      ...EGDSStylizedTextFragment\n    }\n  }\n\n  fragment LodgingCompareTextItemsFragment on LodgingCompareTextItems {\n    items {\n      ...LodgingCompareAttributeFragment\n    }\n  }\n"]);return U=function(){return e},e}function $(){var e=N(["\n  fragment LodgingCompareCellContentFragment on LodgingCompareCellContent {\n    __typename\n    ...LodgingEGDSRatingFragment\n    ...LodgingCardGuestRatingFragment\n    ...LodgingCardRatingFragment\n    ... on LodgingCardPriceSection {\n      priceSummary {\n        ...PropertyPriceFragment\n      }\n      badge {\n        ...LodgingCompareBadgeFragment\n      }\n    }\n    ...LodgingCompareTextItemsFragment\n    ...EGDSBadgeFragment\n  }\n\n  ","\n"]);return $=function(){return e},e}function K(){var e=N(["\n  fragment LodgingCompareCellFragment on LodgingCompareCell {\n    content {\n      ...LodgingCompareCellContentFragment\n    }\n  }\n"]);return K=function(){return e},e}function V(){var e=N(["\n  fragment LodgingCompareFeaturesCardFragment on LodgingCompareFeaturesCard {\n    backgroundTheme\n    heading {\n      ...LodgingEGDSHeadingFragment\n    }\n    list {\n      ...LodgingEGDSTextIconListFragment\n    }\n  }\n"]);return V=function(){return e},e}function X(){var e=N(["\n  fragment LodgingCompareRemoveActionFragment on LodgingCompareRemoveAction {\n    propertyId\n    action {\n      ...LodgingEGDSButtonFragment\n    }\n  }\n"]);return X=function(){return e},e}function Q(){var e=N(["\n  fragment LodgingCompareRowFragment on LodgingCompareRow {\n    cells {\n      ...LodgingCompareCellFragment\n    }\n    theme\n  }\n"]);return Q=function(){return e},e}function Z(){var e=N(["\n  fragment LodgingCompareSectionFragment on LodgingCompareSection {\n    featuresCard {\n      ...LodgingCompareFeaturesCardFragment\n    }\n    mediaRow {\n      ...LodgingCardMediaSectionFragment\n    }\n    compareRows {\n      ...LodgingCompareRowFragment\n    }\n    viewRow {\n      ...LodgingEGDSButtonFragment\n    }\n    removeRow {\n      ...LodgingCompareRemoveActionFragment\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){var e=N(["\n  fragment LodgingErrorResponseFragment on LodgingErrorResponse {\n    header\n    body\n    button {\n      ...LodgingEGDSButtonFragment\n    }\n    errorRecoveryButtons {\n      ...LodgingEGDSButtonFragment\n    }\n  }\n"]);return ee=function(){return e},e}function ne(){var e=N(["\n  query CompareSectionQuery(\n    $context: ContextInput!\n    $criteria: PropertySearchCriteriaInput\n    $propertyIds: [String!]\n    $shoppingContext: ShoppingContextInput\n    $tripItems: TripItemsToCompareInput\n  ) {\n    propertyCompare(context: $context) {\n      compareSection(criteria: $criteria, propertyIds: $propertyIds, shoppingContext: $shoppingContext, tripItems: $tripItems) {\n        containers {\n          content {\n            ...ProductCardSheetListContentFragment\n          }\n          contentId\n        }\n        content {\n          ...LodgingCompareSectionFragment\n        }\n        error {\n          ...LodgingErrorResponseFragment\n        }\n        impressionAnalytics {\n          ...ClientSideAnalyticsFragment\n        }\n        shoppingJoinListContainer {\n          ...ShoppingJoinListContainerFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ne=function(){return e},e}function te(){var e=N(["\n  fragment LodgingCompareDialogFragment on EGDSFullScreenDialog {\n    closeAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    toolbar {\n      closeText\n      title\n    }\n  }\n"]);return te=function(){return e},e}function re(){var e=N(["\n  query PropertyCompareQuery($context: ContextInput!) {\n    propertyCompare(context: $context) {\n      actionSheet {\n        ...LodgingCompareActionSheetFragment\n      }\n      dialog {\n        ...LodgingCompareDialogFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return re=function(){return e},e}var ae=function(e){var n=e.data,t=e.closeCallback,a=e.openCallback,o=G(e,["data","closeCallback","openCallback"]),i=(0,l.heM)(n.closeAnalytics),c=(0,r.useCallback)((function(){i(),null==t||t()}),[i,t]),u=o.isVisible,m=(0,r.useMemo)((function(){return{isVisible:u,openCallback:a,closeCallback:c}}),[u,a,c]);return r.createElement(v.cj,M(B({},o),{transition:m}))};l.Tru.displayName="LodgingEGDSSheet";var oe=(0,a.J1)(Y()),ie=function(e){var n=e.data,t=e.property,a=n.button,o=n.accessibilityLabel,i=t.propertyId,u=t.isAd,m=t.heading,g=t.imageUrl,f=(0,r.useMemo)((function(){var e,n;return P({},null!==(n=null===(e=o.models[0])||void 0===e?void 0:e.source)&&void 0!==n?n:"",null!=m?m:"")}),[o,m]),E=j((0,l.NbM)(o,f),1)[0],b=(0,r.useMemo)((function(){return(null==a?void 0:a.icon)&&(null==a?void 0:a.analytics)?M(B({},a),{icon:M(B({},a.icon),{description:null!=E?E:a.icon.description}),analytics:M(B({},a.analytics),{referrerId:u?"".concat(a.analytics.referrerId,".ad"):a.analytics.referrerId})}):a}),[a,E]),L=j((0,y.J9)(),2)[1].removeCompareProperty,C=(0,r.useCallback)((function(){i&&L(i)}),[i]);return r.createElement(s.E,{rows:["18x"]},r.createElement(v.Zy,{backgroundTheme:"secondary",imageUrl:g},r.createElement(h.d,{type:"absolute",position:{left:"zero",top:"zero",right:"zero",bottom:"zero"},cloneElement:!0},r.createElement(d.i,{justifyContent:"center",alignItems:"center"},b&&r.createElement(p.b,{padding:{inline:"two"}},r.createElement(l.E_b,{data:b,size:c.E.SMALL,onClick:C,iconId:"remove-".concat(i)}))))))};ie.fragment=oe,ie.displayName="LodgingCompareActionSheetItemTemplate";var le=(0,a.J1)(J()),ce=function(e){var n=e.data,t=e.title,a=void 0===t?"":t,o=e.accessibilityTitle,i=void 0===o?"":o,c=e.expanded,u=e.onToggleExpanded,m=e.announce,d=e.hideNavigation,s=n.expandAnalytics,g=n.expandAccessibilityLabel,p=n.collapseAnalytics,f=n.collapseAccessibilityLabel,y=(0,l.heM)(s),b=(0,l.heM)(p),h=(0,r.useCallback)((function(){var e=!c;u(e),e?y():b()}),[c]),L=(0,r.useMemo)((function(){return{onClick:h,navType:c?"expand_down":"expand_up",navIconLabel:c?f:g}}),[c]),C=(0,E.useExperiment)("Property_Compare_Web_Usability").exposure.bucket>0;return r.createElement(r.Fragment,null,r.createElement(v.M7,{navigationContent:d?void 0:L,toolbarTitle:a,inverse:C}),r.createElement("span",{className:"is-visually-hidden","aria-live":m?"polite":void 0},i))};ce.fragment=le,ce.displayName="LodgingCompareActionSheetToolbar";var ue,me,de,se,ge=(0,a.J1)(W()),pe={areas:{small:["items","cta"],medium:["items cta"]},columns:{medium:["1fr","1fr"]},rows:{small:["18x"]},space:{column:"six",row:"four"},alignItems:"center"},fe=(P(ue={},b.OB.SMALL,!0),P(ue,b.OB.LARGE,!1),ue),ve=(P(me={},b.OB.SMALL,"two"),P(me,b.OB.LARGE,"three"),me),Ee=(P(de={},b.OB.SMALL,!1),P(de,b.OB.LARGE,!0),de),ye=(P(se={},b.OB.SMALL,!0),P(se,b.OB.LARGE,!1),se),be=function(e){var n=e.data,t=e.isSplitView,a=n.sheet,o=n.cancelAction,i=n.compareActionPrompt,h=n.compareActionStatus,L=n.compareAction,C=n.toolbar,S=n.itemTemplate,A=n.accessibilityLabel,I=j((0,y.J9)(),2),w=I[0],O=w.comparePropertyIds,R=w.searchResultsProperties,x=w.maxSelectable,T=w.enabled,k=w.preservedProperties,_=w.showToolbarPrompt,D=I[1],F=D.openDialog,P=D.resetSelection,M=D.setBottomSheetHeight,G=r.useRef(),N=(0,r.useCallback)((function(){var e=O.filter((function(e){return e.endsWith("-ad")})).flatMap((function(e){var n,t=e.split("-")[0];return null===(n=z(k).concat(z(R)).find((function(e){var n=e.propertyId,r=e.isAd;return t===n&&r})))||void 0===n?void 0:n.urls})).filter((function(e){return Boolean(e)}));e.forEach((function(e){return navigator.sendBeacon(e)}))}),[O,R,k]),H=(0,r.useCallback)((function(){F(),N()}),[N]),Y=(0,r.useCallback)((function(){P()}),[]),J=j((0,r.useState)(!1),2),W=J[0],q=J[1],U=j((0,r.useState)(!1),2),$=U[0],K=U[1],V=(0,r.useMemo)((function(){return O.reduce((function(e,n){var t=(0,y.yg)(n);return e.some((function(e){return t===(0,y.yg)(e)}))?e:z(e).concat([n])}),[]).map((function(e){var n=j(e.split("-"),2),t=n[0],r=n[1],a=Boolean(r);return z(k).concat(z(R)).find((function(e){var n=e.propertyId,r=e.isAd;return t===n&&a===r}))})).filter((function(e){return Boolean(e)}))}),[O,R,k]),X=V.length,Q=j((0,r.useState)(X),2),Z=Q[0],ee=Q[1],ne=(0,r.useRef)(X);ne.current=Math.max(ne.current,X);var te=(0,E.useExperiment)("Property_Compare_Web_Usability").exposure.bucket>0,re=1===ne.current&&!te,oe=(0,r.useMemo)((function(){return{properties:X}}),[X]),le=j((0,l.Hcp)(h,oe),2),ue=le[0],me=le[1],de=te&&X<2?i:ue,se=!W&&!$&&ne.current>0,ge=(0,b.s5)(fe);(0,r.useEffect)((function(){if(se&&ge){var e=document.documentElement.scrollTop,n=window.innerHeight,t=function(){var t=document.documentElement.scrollTop,r=window.innerHeight;if(r<n)return e=t,void(n=r);t-(e=Math.min(e,t))>5&&q(!0)};return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}}),[se,ge]);var be=(0,r.useCallback)((function(e){q(!e),K(!e)}),[]),he=(0,r.useCallback)((function(){ne.current=0}),[]),Le=(0,b.s5)(ve),Ce=(0,b.s5)(Ee),Se=(0,b.s5)(ye),Ae=(0,r.useCallback)((function(e){var n=e.height;M(n)}),[]);return Z!==X?(ee(X),X>Z&&q(!1),!$||X!==x&&0!==X||K(!1),null):a?r.createElement(ae,{data:a,isVisible:T&&(X>0||te&&_),type:"bottom",triggerRef:G,autoFocus:!1,closeCallback:he,expanded:se,splitView:t&&Ce,onDimensionsChange:Ae,role:"complementary","aria-label":null!=A?A:void 0,id:"compare-action-sheet"},C&&r.createElement(ce,{data:C,expanded:se,onToggleExpanded:be,title:null!=de?de:"",accessibilityTitle:null!=me?me:"",announce:!re,hideNavigation:te&&X<1}),r.createElement(g.f,{padded:!1},r.createElement(p.b,{padding:"four"},r.createElement(s.E,B({},pe),r.createElement(s.a,null,re&&r.createElement("div",{"aria-live":X>0?"polite":void 0},r.createElement(u.i,{backgroundTheme:"secondary",border:!0,padded:!0},r.createElement(d.i,{alignItems:"center",space:"two"},r.createElement(d.j,null,r.createElement("div",null,r.createElement(m.a,{name:"info_outline",spotlight:"info"}))),r.createElement(d.j,null,r.createElement(f.c,{size:400},i))))),!re&&r.createElement(s.E,{space:Le,blockSize:"full_size",columns:x},S&&V.map((function(e){return r.createElement(s.a,{key:e.propertyId},r.createElement("div",null,r.createElement(ie,{data:S,property:e})))})),Array.from({length:x-X},(function(e,n){return r.createElement(s.a,{key:"item-placeholder-".concat(n)},r.createElement(v.Zy,{placeholder:!0}))})))),r.createElement(s.a,null,r.createElement(d.i,{space:"two"},te&&r.createElement(d.j,null,o&&r.createElement(l.E_b,{data:o,onClick:Y,isFullWidth:Se,size:c.E.LARGE})),r.createElement(d.j,{grow:1},L&&r.createElement(l.E_b,{data:L,disabled:X<2,onClick:H,isFullWidth:!0,size:c.E.LARGE})))))))):null};be.fragment=ge,be.displayName="LodgingCompareActionSheet";var he={containers:null},Le=r.createContext(he),Ce=function(e){var n=e.children,t=e.value,a=r.useMemo((function(){return t?{containers:t}:he}),[t]);return r.createElement(Le.Provider,{value:a},n)},Se=(0,a.J1)(q()),Ae=function(e){var n=e.data;return n.text?r.createElement(f.c,{size:200,weight:"medium",theme:"emphasis"},n.text):null};Ae.fragment=Se,Ae.displayName="LodgingCompareBadge";var Ie=(0,r.createContext)({theme:"STANDARD"}),we=function(e){var n=e.theme,t=e.children,a=(0,r.useMemo)((function(){return{theme:n}}),[n]);return r.createElement(Ie.Provider,{value:a},t)},Oe=function(){return(0,r.useContext)(Ie)},Re=function(e){var n,t,a=e.data;return(0,r.useMemo)((function(){return Object.values(A.v).includes(a.badgeTheme)}),[a.badgeTheme])?r.createElement(A.r,{text:null!==(n=a.text)&&void 0!==n?n:void 0,theme:null!==(t=a.badgeTheme)&&void 0!==t?t:void 0}):r.createElement(l.jXc,{data:a})},xe=function(e){var n,t,a=e.data,o=r.useRef(null),i=null==a||null===(n=a.phraseParts)||void 0===n?void 0:n.find((function(e){return"ShoppingActionableIcon"===e.__typename})),c=(null==i?void 0:i.actionId)||"",u=(0,C.pC)(c),d=(0,C.RN)(c),s=function(e){var n,t=r.useContext(Le).containers;if(e)return null==t||null===(n=t.find((function(n){return n.contentId===e})))||void 0===n?void 0:n.content}(null==d?void 0:d.contentId),f=r.useMemo((function(){var e,n=null==i?void 0:i.icon,t=a.phraseParts,d=(null==t?void 0:t.length)>1?t[t.length-2]:void 0;if(c&&n&&d)return r.createElement(w.E,{onClick:u,size:"small",align:"center"},r.createElement("button",{type:"button","data-stid":"shopping-actionable-icon",ref:o},r.createElement(l.$hU,{inline:!0,data:d,overflow:"truncate-2-lines"}),r.createElement(m.a,{name:n.id,size:n.size?m.E[n.size]:void 0,theme:null!==(e=null==n?void 0:n.theme)&&void 0!==e?e:void 0})))}),[u,null==i?void 0:i.icon,c,a]);return r.createElement(r.Fragment,null,r.createElement(l.iPz,{data:a,actionIcon:f}),r.createElement(C.e3,{actionId:c||"",sheetToolbar:{title:(null==s?void 0:s.title)||"",subtitle:(null==s?void 0:s.subtitle)||""},ref:o},r.createElement(g.f,null,null==s||null===(t=s.body)||void 0===t?void 0:t.map((function(e,n){return r.createElement(p.b,{key:n},r.createElement(I.E,{type:"unordered",bullet:"no-bullet",spacing:!1},e.items.listItems.map((function(e,n){return r.createElement(I.a,{key:"sheet-list-item-".concat(n),theme:e.style},r.createElement(O.E,{htmlToParse:e.text}))}))))})))))},Te=(0,a.J1)(U()),ke=function(e){var n=e.data,t=e.margin,a="SPOTLIGHT"===Oe().theme,o=(0,r.useMemo)((function(){var e;return Array.isArray(n)?r.createElement(I.E,{bullet:"icon-standard",size:"200"===(null===(e=n[0])||void 0===e?void 0:e.text.size)?3:void 0,spacing:!1},n.map((function(e,n){return r.createElement(I.a,{key:n},a?r.createElement(d.i,{alignItems:"center"},r.createElement(l.Int,{data:e.graphic})):r.createElement(l.Int,{data:e.graphic}),r.createElement(l.Z37,{inline:!0,data:e.text}))}))):n.graphic&&n.text?r.createElement("div",null,r.createElement(l.Dvy,{data:n.graphic}),r.createElement(l.Z37,{inline:!0,data:n.text})):n.graphic?r.createElement(l.Dvy,{data:n.graphic}):n.text?r.createElement(l.Z37,{overflow:"wrap",data:n.text}):null}),[n]);return t&&o?r.createElement(p.b,{margin:t},o):o},_e={blockstart:"two"},De=function(e){var n=e.data.items,t=(0,r.useMemo)((function(){return(n||[]).reduce((function(e,n){if(!n)return e;if(function(e){var n,t;return"Icon"===(null===(n=e.graphic)||void 0===n?void 0:n.__typename)&&Boolean(null===(t=e.text)||void 0===t?void 0:t.__typename)}(n)){var t=e[e.length-1];Array.isArray(t)?t.push(n):e.push([n])}else e.push(n);return e}),[])}),[n]);return r.createElement(r.Fragment,null,t.map((function(e,n){var t=n>0&&Array.isArray(e)!==Array.isArray(e[n-1])?_e:void 0;return r.createElement(ke,{data:e,key:n,margin:t})})))};De.fragment=Te,De.displayName="LodgingCompareTextItems";var Fe=(0,a.J1)($(),l.GOx),Pe=function(e){var n=e.data;switch(n.__typename){case"EGDSIconRating":return r.createElement(l.fO,{data:n});case"LodgingCompareTextItems":return r.createElement(De,{data:n});case"LodgingCardRating":return r.createElement(f.c,{overflow:"wrap"},r.createElement(l.YLm,{data:n}));case"LodgingCardPhrase":return r.createElement(f.c,{overflow:"wrap"},r.createElement(xe,{data:n}));case"LodgingCardPriceSection":return r.createElement(r.Fragment,null,n.badge&&r.createElement(Ae,{data:n.badge}),r.createElement(l.yNC,{priceSummary:n.priceSummary,flexAlignment:"start"}));case"EGDSStandardBadge":return r.createElement(Re,{data:n});default:return null}};Pe.fragment=Fe,Pe.displayName="LodgingCompareCellContent";var Be=(0,a.J1)(K()),Me="three",Ge=function(e){return e?S.q.vertical:[S.q.horizontal,S.q.vertical]},je=function(e,n){return e||n?{inline:Me,blockstart:"zero"===n?void 0:n,blockend:e?void 0:Me}:void 0},Ne=function(e){var n=e.data,t=e.blockStartPadding,a=void 0===t?Me:t,o=Oe().theme,i="COMBINE_NEXT"===o,l="SPOTLIGHT"===o,c=n.content,u=(0,r.useMemo)((function(){return Ge(i||l)}),[i,l]),m=(0,r.useMemo)((function(){return je(i,a)}),[i,a]),d=c&&r.createElement(Pe,{data:c});return r.createElement(S.b,{border:u,align:"LodgingCardPriceSection"===(null==c?void 0:c.__typename)?{vertical:"bottom"}:{vertical:"top"},padding:m?S.v.zero:void 0},m?r.createElement(p.b,{padding:m},r.createElement("div",null,d)):d)};Ne.fragment=Be,Ne.displayName="LodgingCompareCell";var ze=(0,a.J1)(V()),He={GLOBAL_LOYALTY_EXTRAHIGH:u.h.GLOBAL_LOYALTY_EXTRAHIGH,GLOBAL_LOYALTY_HIGH:u.h.GLOBAL_LOYALTY_HIGH,GLOBAL_LOYALTY_LOW:u.h.GLOBAL_LOYALTY_LOW,GLOBAL_LOYALTY_MIDDLE:u.h.GLOBAL_LOYALTY_MIDDLE,GLOBAL_LOYALTY_STANDARD:u.h.GLOBAL_LOYALTY_STANDARD,HIGHLIGHT:u.h.HIGHLIGHT,PRIMARY:u.h.PRIMARY,SECONDARY:u.h.SECONDARY},Ye=function(e){var n=e.data,t=n.backgroundTheme,a=n.list,o=n.heading,i=(0,R.iQ)();(0,r.useEffect)((function(){i((0,l.yne)("lodging-compare-features-card","Impression"))}),[i]);var c=t?He[t]:void 0;return r.createElement(u.i,{backgroundTheme:c,padded:!0},r.createElement("div",null,r.createElement(d.i,{space:"four",direction:"column"},o&&r.createElement(l.oxS,{tag:"h6",size:6,data:o}),a&&r.createElement(l.uMM,{data:a,orientation:"inline",bullet:"icon-standard",spacing:!1,size:1}))))};Ye.fragment=ze,Ye.displayName="LodgingCompareFeaturesCard";var Je,We=new Array(5).fill(null),qe=(P(Je={},b.OB.SMALL,{padding:{inline:"six"}}),P(Je,b.OB.LARGE,{padding:{inline:"three"}}),Je),Ue=function(e){var n=e.columnCount,t=(n?new Array(n):[]).fill(0),a=(0,b.s5)(qe);return r.createElement(d.i,null,r.createElement(d.j,{grow:1},r.createElement("div",null)),r.createElement(p.b,B({},a),r.createElement(d.j,{minWidth:"zero"},r.createElement("div",null,r.createElement(S.a,{overflow:!1},r.createElement(S.f,null,r.createElement(r.Fragment,null,r.createElement(S.i,null,t.map((function(e,n){return r.createElement(S.b,{key:n,border:S.q.vertical,padding:S.v.zero},r.createElement(x.a,{ratio:x.E.R1_1},r.createElement(T.a,null)))}))),r.createElement(S.i,null,t.map((function(e,n){return r.createElement(S.b,{key:n,padding:S.v.zero},r.createElement(p.b,{padding:{blockend:"four",blockstart:"three"}},r.createElement(s.E,{columns:["minmax(154px, 154px)"]},r.createElement(s.a,null,r.createElement("div",null,r.createElement(p.b,{margin:{blockend:"two"}},r.createElement(T.b,{animation:!1})),r.createElement(T.b,{type:"secondary",animation:!1}))))))}))),We.map((function(e,n){return r.createElement(S.i,{key:n},t.map((function(e,n){return r.createElement(S.b,{key:n,padding:"zero"},r.createElement(p.b,{margin:{blockend:"four",blockstart:"four"}},r.createElement(T.b,{type:"secondary",animation:!1})))})))})))))))),r.createElement(d.j,{grow:1},r.createElement("div",null)))},$e=(0,a.J1)(X()),Ke=function(e){var n=e.data,t=n.propertyId,a=j((0,y.J9)(),2)[1].removeCompareProperty,o=(0,r.useCallback)((function(){t&&a(t)}),[t]);return n.action&&r.createElement(l.E_b,{data:n.action,onClick:o})};Ke.fragment=$e,Ke.displayName="LodgingCompareRemoveAction";var Ve=function(e){var n=e.data.content,t=e.index,a=e.isAd,o=e.blockStartPadding,i=void 0===o?Me:o,l="COMBINE_NEXT"===Oe().theme,c=(0,r.useMemo)((function(){return Ge(l)}),[l]),u=(0,r.useMemo)((function(){return je(l,i)}),[l,i]),m=(0,r.useMemo)((function(){return"HOT.SR.PROPERTY.COMPARISON.property.".concat(t+1,".impression").concat(a?".ad":"")}),[t,a]);return r.createElement(S.b,{border:c,tag:S.p.header,scope:S.D.column,padding:u?S.v.zero:void 0,align:{vertical:"top",horizontal:"leading"}},r.createElement(p.b,{padding:u},r.createElement(s.E,{columns:["minmax(130px, 130px)"]},r.createElement(s.a,null,r.createElement(R.ee,{referrerId:m,linkName:"Comparison table column impression",intersectionOptions:{threshold:.95}},r.createElement(f.c,{whiteSpace:"normal"},n&&r.createElement(Pe,{data:n})))))))};Ve.displayName="LodgingCompareCellHeader";var Xe=(0,a.J1)(Q()),Qe=new Set(["EGDSIconRating","EGDSStandardBadge"]),Ze=function(e){var n=e.isPreviousRowCombined,t=e.headingRow,a=e.getKey,o=e.data,i=e.ads,l=o.cells,c="SPOTLIGHT"===Oe().theme,u=(0,r.useMemo)((function(){if(n){if(t)return"one";if(l.some((function(e){var n;return Qe.has(null==e||null===(n=e.content)||void 0===n?void 0:n.__typename)})))return"zero"}}),[l,n,t]);return r.createElement(v.Hj,{spotlightRow:c},l.map((function(e,n){var o=a(n);return e?t?r.createElement(Ve,{key:o,data:e,isAd:Boolean(null==i?void 0:i[n]),index:n,blockStartPadding:u}):r.createElement(Ne,{key:o,data:e,blockStartPadding:u}):r.createElement(S.b,{key:o})})))};Ze.fragment=Xe,Ze.displayName="LodgingCompareRow";var en,nn=function(e){var n=e.data,t=e.propertyIds,a=e.getKey;return r.createElement(S.i,null,n.map((function(e,n){return r.createElement(S.b,{key:a(n),border:[S.q.horizontal,S.q.vertical],padding:S.v.zero},e&&r.createElement(l.KL6,{data:e,propertyId:null==t?void 0:t[n],view:l.K_G.RESPONSIVE,imageRatio:x.E.R1_1,isInCompareSection:!0}))})))},tn=function(e){var n=e.data,t=e.getKey;return r.createElement(S.i,null,n.map((function(e,n){return r.createElement(S.b,{align:{horizontal:"center"},key:t(n),border:[S.q.horizontal,S.q.vertical]},e&&r.createElement(Ke,{data:e}))})))},rn=function(e){var n=e.data,t=e.onIntersection,a=e.border,o=j((0,R.BL)(t,{threshold:.95}),1)[0];return r.createElement(S.b,{border:a},n&&r.createElement("div",{ref:o},r.createElement(l.E_b,{data:n,isFullWidth:!0})))},an={__typename:"ClientSideAnalytics",eventType:"IMPRESSION",referrerId:"HOT.SR.PRODUCT.COMPARISON.compare.table.viewbutton.impression",linkName:"Compare table view button impression",uisPrimeMessages:[]},on=function(e){var n=e.data,t=e.getKey,a=(0,l.heM)(an),o=(0,r.useRef)(!1),i=(0,r.useCallback)((function(e,n){var t;o.current?n.disconnect():(null===(t=e[0])||void 0===t?void 0:t.isIntersecting)&&(o.current=!0,a(),n.disconnect())}),[]);return r.createElement(S.i,null,n.map((function(e,n){return r.createElement(rn,{key:t(n),data:e,onIntersection:i,border:[S.q.horizontal,S.q.vertical]})})))},ln=(0,a.J1)(Z()),cn=function(e){return Boolean((null==e?void 0:e.length)&&!e.every((function(e){return null===e})))},un=function(e){var n;return null!==(null!==(n=null==e?void 0:e.propertyId)&&void 0!==n?n:null)},mn=new Set(["","-"]),dn=function(e){var n,t,r,a;return"LodgingCompareTextItems"===(null==e||null===(n=e.content)||void 0===n?void 0:n.__typename)&&1===(null===(t=e.content.items)||void 0===t?void 0:t.length)&&mn.has(null===(a=e.content.items[0])||void 0===a||null===(r=a.text)||void 0===r?void 0:r.text)},sn=(P(en={},b.OB.SMALL,{padding:{inline:"six"}}),P(en,b.OB.LARGE,{padding:{inline:"three"}}),en),gn=function(e){var n=e.propertyIds,t=e.data.featuresCard,a=G(e.data,["featuresCard"]),o=(0,b.s5)(sn),i=(0,r.useMemo)((function(){var e,t,r,o=a.compareRows.filter((function(e){return null!==e}));if(!(null===(e=a.removeRow)||void 0===e?void 0:e.length)||!a.removeRow.every(un))return M(B({},a),{compareRows:o});var i=new Set((null!=n?n:[]).map(y.yg)),l=new Set(a.removeRow.reduce((function(e,n,t){return(null==n?void 0:n.propertyId)&&i.has(n.propertyId)?z(e).concat([t]):e}),[])),c=function(e,n){return l.has(n)},u=null===(t=a.viewRow)||void 0===t?void 0:t.filter(c),m=null===(r=a.mediaRow)||void 0===r?void 0:r.filter(c),d=o.map((function(e){return M(B({},e),{cells:e.cells.filter(c)})})).reduce((function(e,n){if(function(e){return null==e?void 0:e.cells.every(dn)}(n)){var t=e[e.length-1];return"COMBINE_NEXT"===(null==t?void 0:t.theme)&&"STANDARD"===(null==n?void 0:n.theme)?z(e.slice(0,-1)).concat([M(B({},t),{theme:"STANDARD"})]):e}return z(e).concat([n])}),[]).filter((function(e){return cn(e.cells)}));return M(B({},a),{mediaRow:cn(m)?m:void 0,compareRows:d,viewRow:cn(u)?u:void 0,removeRow:a.removeRow.filter(c),ads:null==u?void 0:u.map((function(e){var n;return Boolean(null==e||null===(n=e.analytics)||void 0===n?void 0:n.referrerId.endsWith(".ad"))}))})}),[n,a]),l=i.mediaRow,c=i.compareRows,u=i.viewRow,m=i.removeRow,s=i.ads,g=(0,r.useMemo)((function(){var e,n=null!==(e=null==m?void 0:m.map((function(e,n){var t;return null!==(t=null==e?void 0:e.propertyId)&&void 0!==t?t:n})))&&void 0!==e?e:[];return function(e){var t;return null!==(t=n[e])&&void 0!==t?t:e}}),[m]),f=c.findIndex((function(e){return!(null==e?void 0:e.cells.some((function(e){var n;return"EGDSIconRating"===(null==e||null===(n=e.content)||void 0===n?void 0:n.__typename)})))}));return r.createElement(d.i,{space:"four",direction:"column"},t&&r.createElement(d.j,null,r.createElement(p.b,{margin:{inline:"four"}},r.createElement("div",null,r.createElement(Ye,{data:t})))),r.createElement(d.j,null,r.createElement(d.i,null,r.createElement(d.j,{grow:1},r.createElement("div",null)),r.createElement(p.b,B({},o),r.createElement(d.j,{minWidth:"zero"},r.createElement("div",null,r.createElement(S.a,{border:!0,overflow:!1},r.createElement(S.f,null,r.createElement(r.Fragment,null,l&&r.createElement(nn,{data:l,getKey:g,propertyIds:n}),c.map((function(e,n){var t;return r.createElement(we,{key:n,theme:e.theme},r.createElement(Ze,{data:e,getKey:g,isPreviousRowCombined:"COMBINE_NEXT"===(null===(t=c[n-1])||void 0===t?void 0:t.theme),headingRow:n===f,ads:s}))})),u&&r.createElement(on,{data:u,getKey:g}),m&&r.createElement(tn,{data:m,getKey:g}))))))),r.createElement(d.j,{grow:1},r.createElement("div",null)))))};gn.fragment=ln,gn.displayName="LodgingCompareSection";var pn,fn=(0,a.J1)(ee()),vn=(P(pn={},b.OB.SMALL,!0),P(pn,b.OB.MEDIUM,!1),pn),En=function(e){var n=e.data,t=e.closeDialog,a=n.button,o=n.header,i=n.body,c=n.errorRecoveryButtons,u=(0,r.useCallback)((function(){t(),window._qHasUsedPropertyCompare=!0}),[t]),m=(0,r.useCallback)((function(){"lodging-property-compare-error-button-close"===a.egdsElementId?u():window.location.reload()}),[a.egdsElementId]),s=(0,b.s5)(vn);return r.createElement(p.b,{margin:{inline:"six"}},r.createElement(d.i,{direction:"column",blockSize:"full_size",alignItems:"center"},r.createElement(d.j,null,r.createElement(f.E,{size:5},o)),r.createElement(p.b,{margin:{blockstart:"two"}},r.createElement(d.j,null,r.createElement(f.c,{size:300,align:"center"},i))),r.createElement(p.b,{margin:{blockstart:"six"}},r.createElement(d.j,null,r.createElement(l.E_b,{data:a,isFullWidth:s,onClick:m}))),(null==c?void 0:c[0])?r.createElement(p.b,{margin:{blockstart:"three"}},r.createElement(d.j,null,r.createElement(l.E_b,{data:c[0],onClick:u,isFullWidth:s}))):null))};En.fragment=fn,En.displayName="LodgingErrorResponse";var yn=(0,a.J1)(ne(),gn.fragment,l.KL6.fragment,Ne.fragment,Pe.fragment,l.fO.fragment,l.iPz.fragment,De.fragment,Ae.fragment,l.Dvy.fragment,l.TQy.fragment,l.E_b.fragment,l.hth,l.NPd,Ke.fragment,En.fragment,C._Q,l.jXc.fragment,Ze.fragment,l.YLm.fragment,Ye.fragment,l.oxS.fragment,l.uMM.fragment,l.QGA.fragment),bn=function(e){var n,t,a,c,u,m,d,s=e.inputs,g=e.skipSsr,p=e.closeDialog,f=(0,i.R)().context,v=(0,r.useMemo)((function(){return M(B({},s),{context:f})}),[]),E=(0,o.I)(yn,{variables:v,ssr:!g}).data,y=null!==(u=null==E||null===(n=E.propertyCompare)||void 0===n?void 0:n.compareSection)&&void 0!==u?u:{},b=y.content,h=y.error,L=y.impressionAnalytics,S=y.shoppingJoinListContainer,A=y.containers,I=(0,l.heM)(null!=L?L:null);return(0,r.useEffect)((function(){I()}),[I]),h?r.createElement(En,{data:h,closeDialog:p}):b?r.createElement(C._T,{id:"compare-section",shoppingJoinListContainer:S},r.createElement(Ce,{value:A},r.createElement(gn,{data:b,propertyIds:s.propertyIds}))):r.createElement(Ue,{columnCount:null!==(d=null!==(m=null===(t=s.propertyIds)||void 0===t?void 0:t.length)&&void 0!==m?m:null===(c=s.tripItems)||void 0===c||null===(a=c.tripItemIds)||void 0===a?void 0:a.length)&&void 0!==d?d:0})};bn.displayName="CompareSection";var hn,Ln,Cn,Sn=(0,a.J1)(te()),An=(P(hn={},b.OB.SMALL,{type:"full"}),P(hn,b.OB.LARGE,{type:"centered",minWidth:804,maxWidth:804}),hn),In=(P(Ln={},b.OB.SMALL,{padding:{block:"six"}}),P(Ln,b.OB.LARGE,{padding:{blockstart:"three",blockend:"six"}}),Ln),wn=(P(Cn={},b.OB.SMALL,!0),P(Cn,b.OB.LARGE,!1),Cn),On=function(e){var n=e.data,t=n.closeAnalytics,a=n.toolbar,o=e.inputs,i=(0,l.heM)(t),c=(0,r.useRef)(null),u=j((0,L.useDialog)(y.Hk,y.dm),3),m=u[0],d=u[1],s=u[2],f=j((0,y.J9)(),2),E=f[0],h=E.isDialogOpen,C=E.comparePropertyIds,S=E.deepLinkDialogPropertyIds,A=f[1],I=A.closeDialog,w=A.openDialog,O=(0,r.useRef)(!1),R=(0,b.s5)(wn);(0,r.useEffect)((function(){h!==O.current?(h?d.openDialog():(i(),d.closeDialog()),O.current=h):m!==O.current&&(m?w():I(),O.current=m)}),[h,m]);var x,T=(0,r.useCallback)((function(){I(),window._qHasUsedPropertyCompare=!0}),[]),k=S||C,_=(0,b.s5)(An),D=(0,b.s5)(In);return r.createElement(g.h,{isVisible:m},r.createElement(s,null,r.createElement(v.cj,B({isVisible:m,triggerRef:c},_),r.createElement(v.M7,{bottomBorder:R,toolbarTitle:a.title,navigationContent:{onClick:T,navIconLabel:null!==(x=a.closeText)&&void 0!==x?x:void 0}}),r.createElement(g.f,{padded:!1},r.createElement(p.b,B({},D),r.createElement("div",null,r.createElement(bn,{inputs:M(B({},o),{propertyIds:k}),closeDialog:I})))))))};On.fragment=Sn,On.displayName="LodgingCompareDialog";var Rn=(0,a.J1)(re(),be.fragment,l.Tru.fragment,l.hth,l.sh0.fragment,l.TQy.fragment,l.E_b.fragment,On.fragment,l.NPd,l.S7E.fragment,ce.fragment,ie.fragment),xn=function(e){var n,t=e.inputs,a=e.skipSsr,l=e.isSplitView,c={context:(0,i.R)().context},u=(0,o.I)(Rn,{variables:c,ssr:!a}),m=u.data,d=u.error,s=u.loading,g=null!==(n=null==m?void 0:m.propertyCompare)&&void 0!==n?n:{},p=g.actionSheet,f=g.dialog;return s||d||!p||!f?null:r.createElement(r.Fragment,null,r.createElement(be,{data:p,isSplitView:l}),r.createElement(On,{data:f,inputs:t}))};xn.displayName="sharedui-PropertyCompare";var Tn=function(e){var n,t,r,a,o,i,c=null===(t=e.mediaSection.gallery)||void 0===t||null===(n=t.media[0])||void 0===n?void 0:n.media;return{isAd:(0,l.iWh)(e.mediaSection),propertyId:e.id,urls:null!==(o=null==e||null===(r=e.cardLink)||void 0===r?void 0:r.analytics.urls)&&void 0!==o?o:void 0,heading:null===(a=e.headingSection)||void 0===a?void 0:a.heading,imageUrl:"Image"===(null==c?void 0:c.__typename)&&(i=c.url,i&&"undefined"!=typeof Symbol&&i.constructor===Symbol||1)?c.url:void 0}},kn=new Set(["comparePropertyIds","searchId","useRewards","productCardViewType"]),_n=function(e){var n,t,r;return e&&M(B({},e),{primary:M(B({},null==e?void 0:e.primary),{destination:{}}),secondary:M(B({},null==e?void 0:e.secondary),{selections:null!==(r=null==e||null===(t=e.secondary)||void 0===t||null===(n=t.selections)||void 0===n?void 0:n.filter((function(e){var n=e.id;return!kn.has(n)})))&&void 0!==r?r:[],counts:null})})},Dn=new Set([D.ch.Lodging]),Fn=(0,l.GjR)({name:"gateByProductType",predicate:function(){return Dn.has((0,D.z)())}}),Pn=(0,l.TAd)({label:"LodgingCompare"})(Fn((function(e){var n=e.searchResultsProperties,t=e.criteria,a=e.shoppingContext,o=e.skipSsr,i=e.isSplitView,l=j((0,y.J9)(),2)[1],c=l.setProperties,u=l.resetSelection;(0,r.useEffect)((function(){c(n.map(Tn))}),[n]);var m,d,s,g=(0,r.useRef)(t);if(t!==g.current){var p=(m=t,d=g.current,!_()(_n(m),_n(d))||!(null==m||null===(s=m.primary.destination.mapBounds)||void 0===s?void 0:s.length)&&!_()(null==m?void 0:m.primary.destination,null==d?void 0:d.primary.destination));if(g.current=t,p)return u(),null}return r.createElement(xn,{skipSsr:o,isSplitView:i,inputs:{criteria:t,shoppingContext:a}})})))}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-lodging-compare.5b61574d26ed6a20b9b5.js.map
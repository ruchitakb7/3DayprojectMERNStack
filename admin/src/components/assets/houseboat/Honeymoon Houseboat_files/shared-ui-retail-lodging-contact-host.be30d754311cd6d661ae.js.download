/*@license For license information please refer to shared-ui-retail-lodging-contact-host.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1680],{73744:function(e,n,t){t.d(n,{X:function(){return zn},h:function(){return he}});var r=t(96540),a=t(15043),i=t(1723),l=t(36360),o=t(16484),u=t(30313),c=t(94220),d=t(90745),s=t(85625),m=t(13274),f=t(67811),g=t(67045),v=t(75826),p=t(10159),y=t(68963),E=t(82960),h=t(68174),I=t(39938),b=t(63134),C=t(15144),S=t(91040),k=t(71990),D=t(59772),F=t(74992),x=t(24355),q=t(34638),_=t(46198),O=t(94495),P=t(71831),M=t(74),A=t(48826),V=t(29558),B=t(70313),R=t(1192),N=t(38209),w=t(40051);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){L(e,n,t[n])}))}return e}function G(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function H(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],l=!0,o=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(u){o=!0,a=u}finally{try{l||null==t.return||t.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function z(){var e=U(["\n  fragment LodgingPolicyPopoverFragment on RatePlanMessage {\n    __typename\n    ... on LodgingPolicyPopover {\n      policyPrimaryText {\n        ...LodgingEGDSInlineLinkFragment\n      }\n      policyPrimaryStylizedText {\n        ...EGDSStylizedTextFragment\n      }\n      policySecondaryText {\n        ...EGDSStylizedTextFragment\n      }\n      sheetContent {\n        text\n      }\n    }\n  }\n  ","\n  ","\n"]);return z=function(){return e},e}function J(){var e=U(["\n  fragment OffersInquiryFormBookNowMessagingFragment on OffersInquiryFormBookNowMessaging {\n    availabilityMessage {\n      ...LodgingEnrichedMessageFragment\n    }\n    availabilityMessageSubText {\n      ...LodgingEnrichedMessageFragment\n    }\n    lodgingPrepareCheckout {\n      checkoutButton {\n        primary\n        accessibility\n        action {\n          analytics {\n            referrerId\n            linkName\n          }\n          ... on UILinkAction {\n            resource {\n              value\n            }\n          }\n        }\n      }\n      action {\n        checkoutOptions {\n          type\n          value\n        }\n        offerTokens {\n          token\n          lineOfBusiness\n        }\n        totalPrice {\n          amount\n          currencyInfo {\n            code\n          }\n        }\n        adaptExSuccessEvents {\n          ...LodgingAdaptExAnalyticsEventFragment\n        }\n        analyticsList {\n          eventType\n          linkName\n          referrerId\n          uisPrimeMessages {\n            messageContent\n            schemaName\n          }\n        }\n        lodgingRecommendationClickstreamEvent {\n          recommendationResponseId\n        }\n        propertyNaturalKeys {\n          id\n          businessModelType\n          checkIn {\n            month\n            day\n            year\n          }\n          checkOut {\n            month\n            day\n            year\n          }\n          inventoryType\n          noCreditCard\n          petsIncluded\n          ratePlanId\n          roomTypeId\n          ratePlanType\n          rooms {\n            childAges\n            numberOfAdults\n          }\n          shoppingPath\n        }\n        moreDetailsAnalyticsList {\n          eventType\n          linkName\n          referrerId\n          uisPrimeMessages {\n            messageContent\n            schemaName\n          }\n        }\n        __typename\n      }\n    }\n    reserveSubText {\n      ...LodgingPolicyPopoverFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return J=function(){return e},e}function $(){var e=U(["\n  fragment ConfirmationScreenUIPrimaryButtonFragment on UIPrimaryButton {\n    accessibility\n    primary\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n      }\n    }\n    disabled\n  }\n"]);return $=function(){return e},e}function Q(){var e=U(["\n  fragment ConfirmationScreenIconFragment on Icon {\n    description\n    id\n    token\n    size\n    spotLight\n    theme\n    title\n  }\n"]);return Q=function(){return e},e}function K(){var e=U(["\n  fragment ConfirmationScreenHeaderInfoFragment on GraphicText {\n    accessibility\n    graphic {\n      ...ConfirmationScreenIconFragment\n    }\n    primaryHeadings\n  }\n\n  ","\n"]);return K=function(){return e},e}function W(){var e=U(["\n  fragment InquiryActionButtonFragment on InquiryActionButton {\n    ... on InquirySaveToTripAction {\n      tripsSaveItem {\n        ...TripsSaveItemFragment\n      }\n    }\n    ... on InquirySuccessDoneAction {\n      button {\n        ...ConfirmationScreenUIPrimaryButtonFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return W=function(){return e},e}function Y(){var e=U(["\n  fragment ConfirmationScreenFragment on InquiryResponse {\n    __typename\n    header\n    body\n    headerInfo {\n      ...ConfirmationScreenHeaderInfoFragment\n    }\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n      }\n    }\n    doneButton {\n      ...ConfirmationScreenUIPrimaryButtonFragment\n    }\n    primaryCta {\n      ...InquiryActionButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Y=function(){return e},e}function X(){var e=U(["\n  fragment InquiryFormButtonFragment on UIPrimaryButton {\n    __typename\n    primary\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    disabled\n  }\n"]);return X=function(){return e},e}function Z(){var e=U(["\n  fragment OffersInquiryFormDisclaimerFragment on OffersInquiryFormLayout {\n    disclaimer {\n      __typename\n      ...LodgingEGDSTextFragment\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function ee(){var e=U(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    errorMessage\n    maxLength\n  }\n"]);return ee=function(){return e},e}function ne(){var e=U(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    errorMessage\n    minLength\n  }\n"]);return ne=function(){return e},e}function te(){var e=U(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    errorMessage\n    pattern\n  }\n"]);return te=function(){return e},e}function re(){var e=U(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    errorMessage\n  }\n"]);return re=function(){return e},e}function ae(){var e=U(["\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSRegexInputValidationFragment\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return ae=function(){return e},e}function ie(){var e=U(["\n  fragment EGDSContactHostBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    checkboxLabel: label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return ie=function(){return e},e}function le(){var e=U(["\n  fragment EGDSInputTextFragment on EGDSTextInputField {\n    __typename\n    egdsElementId\n    inputDisabled: disabled\n    label\n    readOnly\n    value\n    placeholder\n    validations {\n      ...EGDSInputValidationFragment\n    }\n  }\n  ","\n"]);return le=function(){return e},e}function oe(){var e=U(["\n  fragment InquiryFormTextAreaFragment on EGDSTextAreaInputField {\n    egdsElementId\n    label\n    readOnly\n    errorMessage\n    minRows\n    maxRows\n    value\n    placeholder\n    validations {\n      ...EGDSInputValidationFragment\n    }\n  }\n  ","\n"]);return oe=function(){return e},e}function ue(){var e=U(["\n  fragment EGDSInputSinglSelectFragment on EGDSBasicSelect {\n    __typename\n    disabled\n    egdsElementId\n    label\n    options {\n      value\n      label\n      selected\n    }\n    value\n  }\n"]);return ue=function(){return e},e}function ce(){var e=U(["\n  fragment OffersInquiryPhoneInputFieldFragment on OffersInquiryPhoneInputField {\n    __typename\n    countryCode {\n      ...EGDSInputSinglSelectFragment\n    }\n    phoneNumber {\n      ...EGDSInputTextFragment\n    }\n  }\n  ","\n  ","\n"]);return ce=function(){return e},e}function de(){var e=U(["\n  fragment OffersInquiryFormInputElementFragment on OffersInquiryFormInputElement {\n    __typename\n    ...EGDSContactHostBasicCheckBoxFragment\n    ...EGDSInputTextFragment\n    ...InquiryFormTextAreaFragment\n    ...OffersInquiryPhoneInputFieldFragment\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return de=function(){return e},e}function se(){var e=U(["\n  fragment OffersInquiryFormLayoutFragment on OffersInquiryFormLayout {\n    header\n    featuredMessage {\n      ...EGDSStandardMessagingCardFragment\n    }\n    analytics {\n      referrerId\n      linkName\n    }\n    formInput {\n      ...OffersInquiryFormInputElementFragment\n    }\n    ...OffersInquiryFormDisclaimerFragment\n    submitButton {\n      ...InquiryFormButtonFragment\n    }\n    bookNowMessaging {\n      ...OffersInquiryFormBookNowMessagingFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return se=function(){return e},e}function me(){var e=U(["\n  mutation InquiryFormMutation($context: ContextInput!, $inquiryRequestInput: InquiryRequestInput!) {\n    submitInquiry(context: $context, inquiryRequest: $inquiryRequestInput) {\n      ...ConfirmationScreenFragment\n    }\n  }\n  ","\n"]);return me=function(){return e},e}function fe(){var e=U(["\n  fragment OffersInquiryFormDialogActionFragment on OffersInquiryFormDialogAction {\n    inquiryFormModal {\n      ...OffersInquiryFormLayoutFragment\n    }\n  }\n  ","\n"]);return fe=function(){return e},e}function ge(){var e=U(["\n  fragment OffersContactHostButtonFragment on OffersContactHostButton {\n    button {\n      __typename\n      ... on UISecondaryButton {\n        analytics {\n          ...buttonAnalytics\n        }\n        disabled\n        primary\n      }\n      ... on UITertiaryButton {\n        analytics {\n          ...buttonAnalytics\n        }\n        disabled\n        primary\n      }\n    }\n    action {\n      ... on UILinkAction {\n        analytics {\n          referrerId\n          linkName\n        }\n        resource {\n          value\n        }\n        target\n        useRelativePath\n      }\n      ...OffersInquiryFormDialogActionFragment\n    }\n  }\n  fragment buttonAnalytics on ClientSideAnalytics {\n    eventType\n    linkName\n    referrerId\n    uisPrimeMessages {\n      messageContent\n      schemaName\n    }\n  }\n\n  ","\n"]);return ge=function(){return e},e}function ve(){var e=U(["\n  fragment OffersContactHostSectionFragment on OffersContactHostSection {\n    header\n    cta {\n      ...OffersContactHostButtonFragment\n    }\n  }\n\n  ","\n"]);return ve=function(){return e},e}function pe(){var e=U(["\n  query ContactHostQuery(\n    $context: ContextInput!\n    $prominence: OffersInquiryProminence\n    $inquiryFormInput: OffersInquiryFormInput\n    $propertyId: String!\n    $searchCriteria: PropertySearchCriteriaInput\n    $shoppingContext: ShoppingContextInput\n    $travelAdTrackingInfo: PropertyTravelAdTrackingInfoInput\n    $searchOffer: SearchOfferInput\n    $referrer: String\n  ) {\n    offersContactHost(\n      context: $context\n      prominence: $prominence\n      inquiryFormInput: $inquiryFormInput\n      propertyId: $propertyId\n      referrer: $referrer\n      searchCriteria: $searchCriteria\n      searchOffer: $searchOffer\n      shoppingContext: $shoppingContext\n      travelAdTrackingInfo: $travelAdTrackingInfo\n    ) {\n      ...OffersContactHostSectionFragment\n    }\n  }\n  ","\n"]);return pe=function(){return e},e}var ye,Ee=(0,r.createContext)(null),he=function(e){var n=e.children,t=H((0,r.useState)(""),2),a=t[0],i=t[1],l=H((0,r.useState)(!1),2),o=l[0],u=l[1],c=H((0,r.useState)(void 0),2),d=c[0],s=c[1],m=H((0,r.useState)(void 0),2),f=m[0],g=m[1],v=H((0,r.useState)(void 0),2),p=v[0],y=v[1],E=H((0,r.useState)(!1),2),h=E[0],I=E[1],b=H((0,r.useState)(void 0),2),C={propertyId:a,isInquiryRoute:o,inquiryUpdatedFields:d,inputs:f,setPropertyId:i,setIsInquiryRoute:u,setInquiryUpdatedFields:s,setInputs:g,variables:p,setVariables:y,isLoading:h,setIsLoading:I,answeringTravellerQuestionInputs:b[0],setAnsweringTravellerQuestionInputs:b[1]};return r.createElement(Ee.Provider,{value:C},n)},Ie=function(){var e=(0,r.useContext)(Ee);if(!e)throw new Error("useContactHostContext can only be used inside ContactHostContextProvider");return e},be="Impression",Ce="event",Se=function(e,n,t,r){return{event:{schema_name:e,event_name:n,event_type:t,event_version:r}}},ke=(L(ye={},"SUN",x.j.SUN),L(ye,"MON",x.j.MON),L(ye,"TUE",x.j.TUE),L(ye,"WED",x.j.WED),L(ye,"THU",x.j.THU),L(ye,"FRI",x.j.FRI),L(ye,"SAT",x.j.SAT),function(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}),De="inquirerPhoneNumber",Fe="inquirerPhoneCountryCode",xe="message",qe="optInForMarketing";function _e(e,n,t){if(void 0!==t&&String(t)!==n)return{isValueUpdated:!0,currentValue:String(n)};return{isValueUpdated:!1,currentValue:String(n)}}var Oe=function(e){return{adults:e.adults,children:e.children.map((function(e){var n=H(e.split("_"),2)[1];return{age:n?+n:1}}))}},Pe=(0,a.J1)(z(),S.pPw.fragment,S.Z37.fragment),Me=function(e){var n,t=e.data,a=e.isSmallViewSize,i=e.visible,l=e.toggleVisibility,o=e.triggerRef;return r.createElement(q.d,{type:"absolute",position:a?{zindex:"layer1"}:{right:"center",bottom:"six",zindex:"layer1"}},r.createElement(y.h,{isVisible:i},r.createElement(y.e,{isVisible:i,type:a?"bottom":"popover",triggerRef:o,onDismiss:l,width:360,"data-testid":"lodging-policy-popover"},r.createElement(y.g,null,r.createElement(g.E,{type:"button",onClick:l},r.createElement(O.a,{name:"close",title:"Close Sheet",id:"sheet-close-button"}))),"LodgingPolicyPopover"===(null==t?void 0:t.__typename)&&r.createElement(y.f,{padded:!0},null==t||null===(n=t.sheetContent)||void 0===n?void 0:n.map((function(e,n){return r.createElement(d.a,{key:n},e.text)}))))))};Me.displayName="LodgingPolicyPopover",Me.fragment=Pe;var Ae=Me,Ve=(0,a.J1)(J(),S.UKE.fragment,S.pPw.fragment,Ae.fragment,S.AKj),Be=function(e){var n,t,a=e.data,i=a.reserveSubText,l=a.availabilityMessage,u=a.availabilityMessageSubText,s=a.lodgingPrepareCheckout,m=!!s,f=(0,h.s5)((L(t={},h.OB.SMALL,!0),L(t,h.OB.MEDIUM,!0),L(t,h.OB.LARGE,!1),t)),g=H(r.useState(!1),2),v=g[0],p=g[1],y=r.useRef(null),E=function(){p(!v)};return r.createElement(q.d,{type:"relative"},r.createElement(o.i,{border:m},r.createElement(o.m,{padded:!1},r.createElement(c.b,{padding:{block:"four",inline:"six"}},r.createElement(o.m,{padded:!1},r.createElement(C.i,{direction:f?"column":"row",alignItems:"center",justifyContent:"space-between",space:"three",wrap:"nowrap"},r.createElement(C.j,{grow:1,alignSelf:"center",minWidth:f?void 0:"88x"},r.createElement(C.i,{direction:"column",alignItems:f?"center":void 0},l&&r.createElement(C.j,null,r.createElement(c.b,{padding:{inline:"two"}},r.createElement("div",null,r.createElement(S.UKE,{data:l,textSize:400})))),u&&r.createElement(C.j,null,r.createElement(c.b,{padding:{inline:f?void 0:"eight"}},r.createElement("div",null,r.createElement(S.UKE,{data:u,textSize:300})))))),r.createElement(C.j,null,r.createElement(C.i,{alignItems:f?"center":"end",justifyContent:"end",direction:"column"},s&&r.createElement(k.XE,{data:s,priceDetailsPropertyNaturalKeys:[]}),i&&"LodgingPolicyPopover"===i.__typename&&r.createElement(q.d,{type:"relative"},r.createElement(c.b,{margin:{inlineend:"one",blockstart:"one"}},r.createElement(_.E,{onClick:E,domRef:y,inline:!0},r.createElement("button",{type:"button"},(null==i?void 0:i.policyPrimaryStylizedText)&&r.createElement(S.Z37,{data:null==i?void 0:i.policyPrimaryStylizedText})))),r.createElement(c.b,null,(null==i||null===(n=i.policySecondaryText)||void 0===n?void 0:n.text)&&r.createElement(d.c,{theme:"default",size:200,inline:!0},i.policySecondaryText.text)))))))))),"LodgingPolicyPopover"===(null==i?void 0:i.__typename)&&r.createElement(Ae,{isSmallViewSize:f,visible:v,toggleVisibility:E,triggerRef:y,data:i}))};Be.displayName="OffersInquiryFormBookNowMessaging",Be.fragment=Ve;var Re,Ne,we=(0,A.RK)(new V.tk),Te=function(e){var n=e.doneButton,t=e.handleClick;return n?r.createElement(c.b,{padding:"six"},r.createElement("div",null,r.createElement(C.i,{alignItems:"center",justifyContent:"center"},r.createElement(C.j,{alignSelf:"center"},r.createElement(P.E,{"data-stid":"contact-host-done-button","aria-label":n.accessibility||"",onClick:t,isFullWidth:!0,size:M.E.LARGE},n.primary))))):null},Le=function(e){var n=e.doneButton,t=e.handleClick,a=e.primaryCta;if("InquirySaveToTripAction"===(null==a?void 0:a.__typename)){var i=a.tripsSaveItem;return r.createElement(c.b,{padding:"six"},r.createElement("div",null,r.createElement(C.i,{alignItems:"center",justifyContent:"center"},r.createElement(C.j,{alignSelf:"center",maxWidth:"full_width"},r.createElement(we,null,r.createElement(V.GG,{data:i,source:V.kL.LODGING_DETAILS,saveItemCallback:t}))))))}return"InquirySuccessDoneAction"===(null==a?void 0:a.__typename)||n?r.createElement(Te,{doneButton:(null==a?void 0:a.button)||n,handleClick:t}):null},je=(0,a.J1)($()),Ge=(0,a.J1)(Q()),He=(0,a.J1)(K(),Ge),Ue=(0,a.J1)(W(),V.GG.fragment,je),ze=(L(Re={},"default","default"),L(Re,"emphasis","emphasis"),L(Re,"inverse","inverse"),L(Re,"negative","negative"),L(Re,"positive","positive"),Re),Je=(L(Ne={},"POSITIVE","positive"),L(Ne,"STANDARD","standard"),L(Ne,"WARNING","warning"),L(Ne,"INFO","info"),Ne),$e=function(e){var n=e.header,t=e.justifyHeaderContent;return r.createElement(C.i,{space:"two",alignItems:"center",justifyContent:t},r.createElement(C.j,null,r.createElement("div",{"data-stid":"done-icon"},r.createElement(O.a,{name:"done",size:O.E.MEDIUM,theme:"positive",spotlight:"standard"}))),r.createElement(C.j,null,r.createElement(c.b,null,r.createElement(d.E,{size:5},n))))};$e.displayName="ConfirmationScreenDeprecatedHeader";var Qe=function(e){var n=e.headerInfo,t=e.justifyHeaderContent;if(!n)return null;var a=n.accessibility,i=n.graphic,l=n.primaryHeadings;return r.createElement(C.i,{space:"two",alignItems:"center",justifyContent:t},r.createElement(C.j,null,r.createElement("div",{"data-stid":"done-icon"},r.createElement(O.a,j({},function(e,n){var t={name:"done",size:O.E.MEDIUM,theme:"positive",spotlight:"positive"};if("Icon"===(null==e?void 0:e.__typename)){var r=e.token,a=e.size,i=e.theme,l=e.spotLight;t={name:r,size:a?O.E[a]:t.size,spotlight:l?Je[l]:t.spotlight,theme:i?ze[i]:t.theme,description:n||void 0}}return t}(i,a))))),r.createElement(C.i,{direction:"column"},l.map((function(e){return r.createElement(r.Fragment,{key:e},r.createElement(C.j,null,r.createElement(c.b,null,r.createElement(h.LM,null,r.createElement(h.rw,null,r.createElement(d.E,{size:5},e)),r.createElement(h.NP,null,r.createElement(d.E,{size:4},e))))))}))))};Qe.displayName="ConfirmationScreenEnrichedHeader";var Ke=function(e){var n=e.header,t=e.headerInfo,a=e.justifyHeaderContent;return t?r.createElement(Qe,{headerInfo:t,justifyHeaderContent:a}):r.createElement($e,{header:n,justifyHeaderContent:a})};Ke.displayName="ConfirmationScreenHeader";var We=(0,a.J1)(Y(),He,Ue,je),Ye=function(e){var n,t,a=e.data,i=e.onDialogClose,l=a.body,o=a.header,s=a.doneButton,m=a.analytics,f=a.headerInfo,g=a.primaryCta,p=(0,v.KY)(),y=null==m||null===(t=m.uisPrimeMessages)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.messageContent,E=[{messageContent:y?JSON.parse('{"productId":'.concat(y,"}")):"{}",schemaName:"hotelProduct"}],I=function(){var e="InquirySuccessDoneAction"===(null==g?void 0:g.__typename)&&g.button.analytics?g.button.analytics:(null==s?void 0:s.analytics)?s.analytics:void 0;if(e){var n=e.referrerId,t=e.linkName;p(n,t,void 0,E)}i()};(0,r.useEffect)((function(){m&&p(m.referrerId,m.linkName,void 0,E)}),[]);var b=function(){return r.createElement(c.b,{margin:{blockstart:"four",inlinestart:"six"}},r.createElement(C.i,{justifyContent:"center"},r.createElement(C.j,{maxWidth:"180x"},r.createElement("div",null,null==l?void 0:l.map((function(e,n){return r.createElement(c.b,{margin:"two",key:n},r.createElement(d.c,{size:400},e))}))))))};return r.createElement(h.LM,null,r.createElement(h.rw,null,r.createElement(r.Fragment,null,r.createElement(u.a,null,r.createElement(c.b,null,r.createElement(Ke,{header:o,headerInfo:f,justifyHeaderContent:"center"}))),r.createElement(C.j,null,b()),r.createElement(Le,{primaryCta:g,doneButton:s,handleClick:I}))),r.createElement(h.NP,null,r.createElement(u.E,{columns:1,rows:["1fr","1fr"]},r.createElement(u.a,null,r.createElement(c.b,{margin:{block:"two"}},r.createElement("div",null))),r.createElement(u.a,null,r.createElement("div",null,r.createElement(c.b,null,r.createElement(Ke,{header:o,headerInfo:f,justifyHeaderContent:"start"})),r.createElement(C.j,null,b()),r.createElement(Le,{primaryCta:g,doneButton:s,handleClick:I}))))))};Ye.displayName="ConfirmationScreen",Ye.fragment=We;var Xe=(0,a.J1)(X()),Ze=function(e){var n=e.data,t=e.localDisabled,a=e.onClick,i=e.showLoader,l=(0,v.KY)(),o=n.primary,u=n.analytics,c=n.accessibility,d=n.disabled;if(!o)return null;return r.createElement(P.E,{type:"button",onClick:function(){u&&l(u.referrerId,u.linkName),a()},disabled:t||d,isFullWidth:!0,size:M.E.LARGE,"aria-label":c||""},i?r.createElement(B.E,{isDarkBackground:!0}):n.primary)};Ze.displayName="InquiryFormButton",Ze.fragment=Xe;var en=(0,a.J1)(Z(),S.$hU.fragment),nn=function(e){var n=e.data.disclaimer;return n&&0!==n.length?r.createElement(c.b,{margin:{block:"four"}},r.createElement("div",null,n.map((function(e,n){return r.createElement("span",{key:n},r.createElement(S.$hU,{key:e.__typename,data:e}))})))):null};nn.fragment=en,nn.displayName="InquiryFormDisclaimer";var tn=function(){var e=(0,R.useLocalization)().formatText;return r.createElement(u.a,null,r.createElement(c.b,null,r.createElement(C.i,{space:"two",alignItems:"center",justifyContent:"start"},r.createElement(C.j,null,r.createElement("div",{"data-stid":"done-icon"},r.createElement(O.a,{name:"error",size:O.E.MEDIUM,spotlight:"warning"}))),r.createElement(C.j,null,r.createElement(c.b,null,r.createElement(d.E,{size:6},e("trip.error.detail.message")))))))};tn.displayName="MutationErrorScreen";var rn=(0,a.J1)(ee()),an=function(e){return function(n){return function(e,n){return e&&e.length>n.maxLength?{invalid:n.errorMessage}:{}}(n,e)}};an.fragment=rn;var ln=(0,a.J1)(ne()),on=function(e){return function(n){return function(e,n){return e&&e.length<n.minLength?{invalid:n.errorMessage}:{}}(n,e)}};on.fragment=ln;var un=(0,a.J1)(te()),cn=function(e){return function(n){return function(e,n){var t=new RegExp(n.pattern);return(null==e?void 0:e.trim())&&!e.match(t)?{invalid:n.errorMessage}:{}}(n,e)}};cn.fragment=un;var dn=(0,a.J1)(re()),sn=function(e){return function(n){return function(e,n){return e&&(null==e?void 0:e.trim())?{}:{invalid:n.errorMessage}}(n,e)}};sn.fragment=dn;var mn=(0,a.J1)(ae(),cn.fragment,sn.fragment,an.fragment,on.fragment),fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e?function(e){return e.map((function(e){switch(e.__typename){case"EGDSRegexInputValidation":return G(j({},e),{validate:cn(e)});case"EGDSMaxLengthInputValidation":return G(j({},e),{validate:an(e)});case"EGDSMinLengthInputValidation":return G(j({},e),{validate:on(e)});case"EGDSRequiredInputValidation":return G(j({},e),{validate:sn(e)});default:return{validate:function(){return{}}}}}))}(e):[];return{actOnServerDefinedValidation:function(e){var t={};return n.forEach((function(n){t.invalid||(t=n.validate(e))})),t}}},gn=function(e,n,t){return{id:e,typename:n,value:t,validations:arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]}},vn=function(e,n,t){var a=H((0,r.useState)(function(e,n,t){return{formValue:null==e?void 0:e.reduce((function(e,n){var t=j({},e);if("EGDSBasicCheckBox"===n.__typename){var r,a=null!==(r=n.egdsElementId)&&void 0!==r?r:qe;t[a]=G(j({},gn(a,n.__typename,"CHECKED"===n.state)),{checked:"CHECKED"===n.state})}else if("OffersInquiryPhoneInputField"===n.__typename){var i,l,o,u,c=n.countryCode,d=n.phoneNumber,s=null!==(l=c.egdsElementId)&&void 0!==l?l:Fe,m=null===(i=c.options)||void 0===i?void 0:i.find((function(e){return e.selected}));t[s]=G(j({},gn(s,c.__typename,null!==(o=null==m?void 0:m.label)&&void 0!==o?o:"")),{options:c.options});var f=null!==(u=d.egdsElementId)&&void 0!==u?u:De;t[f]=gn(f,d.__typename,d.value||"",d.validations)}else if("EGDSTextAreaInputField"===n.__typename){var g,v,p=null!==(g=n.egdsElementId)&&void 0!==g?g:xe;t[p]=gn(p,n.__typename,null!==(v=n.value)&&void 0!==v?v:"",n.validations)}return t}),{}),datePickerAvailability:n,travelerSelector:t}}(e.formInput,n,t)),2),i=a[0],l=a[1],o=(0,r.useCallback)((function(){return i}),[i]),u=(0,r.useCallback)((function(e){var n=e.travelerSelectorValue,t=G(j({},i),{travelerSelector:n});l(t)}),[i]),c=(0,r.useCallback)((function(e){var n=e.checkInDate,t=e.checkOutDate,r=G(j({},i),{datePickerAvailability:G(j({},null==i?void 0:i.datePickerAvailability),{checkInDate:n,checkOutDate:t})});l(r)}),[i]),d=function(e,n,t){var r;return L({},e.id,G(j({},null===(r=t.formValue)||void 0===r?void 0:r[e.id]),{error:n}))},s=(0,r.useCallback)((function(){var e=[],n=Object.values((null==i?void 0:i.formValue)||{}).reduce((function(n,t){var r=j({},n),a=(0,fn(t.validations).actOnServerDefinedValidation)(_e(t.typename,t.value).currentValue);return(null==a?void 0:a.invalid)?(e.push({inputId:t.id,message:a.invalid}),G(j({},r),{formValue:j({},r.formValue,d(t,a,r))})):r}),i);return l(n),!e.length}),[i]);return{setControlValue:function(e){var n=e.id,t=e.value,r=e.error;l((function(e){var a;return G(j({},e),{formValue:G(j({},e.formValue),L({},n,G(j({},null==e||null===(a=e.formValue)||void 0===a?void 0:a[n]),{value:t,error:r})))})}))},setCheckboxControl:function(e){var n=e.id,t=e.value;l((function(e){var r;return G(j({},e),{formValue:G(j({},e.formValue),L({},n,G(j({},null==e||null===(r=e.formValue)||void 0===r?void 0:r[n]),{checked:t})))})}))},setDatePickerAvailabilityValue:c,setTravelerSelectorValue:u,getFormValue:o,formState:i,validate:s}},pn=r.createContext({}),yn=(0,a.J1)(ie()),En=function(e){var n,t,a=e.data,i=e.checked,l=e.onChange,o=H(r.useState(i),2),u=o[0],c=o[1],d=(0,v.KY)(),s=r.useCallback((function(e){if(a.checkedAnalytics&&!u){var n=a.checkedAnalytics,t=n.referrerId,r=n.linkName;d(t,r)}if(a.uncheckedAnalytics&&u){var i=a.uncheckedAnalytics,o=i.referrerId,s=i.linkName;d(o,s)}c(e.currentTarget.checked),l&&l(e)}),[a.checkedAnalytics,a.uncheckedAnalytics,u,l,d]);return a.egdsElementId?r.createElement(N.E,{id:a.egdsElementId,checked:i,description:null!==(n=a.description)&&void 0!==n?n:void 0,disabled:!a.enabled,name:null!==(t=a.name)&&void 0!==t?t:void 0,onChange:s,required:a.required},a.checkboxLabel.text):null};En.displayName="EGDSBasicCheckBox",En.fragment=G(j({},yn),{__typename:"EGDSBasicCheckBox"});var hn=(0,a.J1)(le(),mn),In=function(e){var n=e.data,t=e.value,a=e.errorMessage,i=e.onChange,l=e.onBlur,o=n.egdsElementId,u=n.label,c=n.placeholder,d=n.inputDisabled;return r.createElement(w.b,{id:o||"",invalid:a,value:t||"",label:u,disabled:d||!1,required:!1,placeholder:null!=c?c:void 0,onBlur:l,onChange:i})};In.displayName="EGDSInputText",In.fragment=hn;var bn=(0,a.J1)(oe(),mn),Cn=function(e){var n=e.data,t=e.value,a=e.errorMessage,i=e.onChange,l=e.onBlur,o=e.instructions,u=n.egdsElementId,c=n.minRows,d=n.maxRows,s=n.label,m=n.placeholder,f=H((0,r.useState)(!0),2),g=f[0],v=f[1];return(0,r.useEffect)((function(){v(!a)}),[a]),r.createElement("div",null,r.createElement(w.e,{id:u||"",invalid:g?"":o,value:t,name:s,label:s,required:!1,minRows:c||void 0,maxRows:d||void 0,placeholder:null!=m?m:void 0,onBlur:l,onChange:i,instruction:g?o:""}))};Cn.displayName="EGDSTextAreaInputField",Cn.fragment=bn;var Sn=function(e){var n,t=null==e?void 0:e.find((function(e){return"EGDSMaxLengthInputValidation"===e.__typename}));return"EGDSMaxLengthInputValidation"===(null==(n=t)?void 0:n.__typename)?null==t?void 0:t.maxLength:Number.MAX_SAFE_INTEGER},kn=function(e){var n,t,a,i,l,o=r.useContext(pn).inquiryFormValueManager,u=e.inputComponent,c="validations"in u?u.validations:void 0,d="egdsElementId"in u&&null!==(l=u.egdsElementId)&&void 0!==l?l:"",s=null==o?void 0:o.formState;if(!e.inputComponent||!s||!d)return null;var m,f=u.__typename,g=null!==(m=null===(t=s.formValue)||void 0===t||null===(n=t[d])||void 0===n?void 0:n.value)&&void 0!==m?m:"",v=null===(i=s.formValue)||void 0===i||null===(a=i[d])||void 0===a?void 0:a.error,p=fn(c||[]).actOnServerDefinedValidation,y=function(e,n){null==o||o.setControlValue({id:d,value:e,typename:f,error:n})},E=function(e){var n=e.target.value,t=n.trim().replace(/\s+/g," "),r=p(t),a=_e(0,t,g).currentValue;y(a,r)},h=function(e){if("checkbox"===e.target.type&&"checked"in e.target)null==o||o.setCheckboxControl({id:d,value:e.target.checked,typename:f});else{var n=e.target.value,t=p(n)||[];y(n,t)}};if("EGDSTextAreaInputField"===u.__typename){var I,b=function(e,n,t){return{primary:t||"",secondary:"".concat(e?e.length:0,"/").concat(Sn(n))}}(g,null!=c?c:[],null!==(I=null==v?void 0:v.invalid)&&void 0!==I?I:"");return{value:g,invalid:"",instructions:b,onChange:h,onBlur:E}}return{value:g,invalid:"",onChange:h,onBlur:E}},Dn=(0,a.J1)(ue()),Fn=function(e){var n=e.data,t=e.value,a=e.onChange,i=e.onBlur,l=n.egdsElementId,o=n.label,u=n.disabled,c=n.options,d=H(r.useMemo((function(){return c.filter((function(e){return e.selected}))}),[c]),1)[0],s=null!=t?t:"";return r.createElement(w.i,{id:l||"",disabled:u,value:s||"",label:o||"",required:!1,onBlur:i,onChange:a,emptyState:!t&&!d},r.createElement(r.Fragment,null,c.map((function(e){return r.createElement("option",{key:e.label,value:e.label,label:e.label===s?e.value:e.label})}))))};Fn.displayName="EGDSInputSingleSelect",Fn.fragment=Dn;var xn=(0,a.J1)(ce(),Fn.fragment,In.fragment),qn=function(e){var n,t=e.data,a=e.formValue,i=t.countryCode,l=t.phoneNumber,o=a&&a[i.egdsElementId||""],u=a&&a[l.egdsElementId||""],c=kn({inputComponent:i}),d=kn({inputComponent:l}),s=function(e){return function(n){e(n),n.stopPropagation()}};return r.createElement(C.i,{tag:"div",space:"three",direction:"row"},r.createElement(C.j,{maxWidth:"37x",grow:1},r.createElement("div",null,r.createElement(Fn,{data:i,value:null==o?void 0:o.value,onBlur:s(null==c?void 0:c.onBlur),onChange:s(null==c?void 0:c.onChange)}))),r.createElement(C.j,{grow:1},r.createElement("div",null,r.createElement(In,{data:l,value:(null==u?void 0:u.value)||"",errorMessage:null==u||null===(n=u.error)||void 0===n?void 0:n.invalid,onBlur:null==d?void 0:d.onBlur,onChange:null==d?void 0:d.onChange}))))};qn.displayName="InquiryPhoneInputField",qn.fragment=xn;var _n=(0,a.J1)(de(),En.fragment,Cn.fragment,In.fragment,qn.fragment),On=function(e){var n=e.data,t=e.formValues,a=(0,R.useLocalization)().formatText,i=function(e,n){var t,r,a,i=null!==(t=e.egdsElementId)&&void 0!==t?t:"",l=null==n?void 0:n[i];return{checked:null!==(r=null==l?void 0:l.checked)&&void 0!==r&&r,value:null!==(a=null==l?void 0:l.value)&&void 0!==a?a:"",errorMessage:null==l?void 0:l.error}},l=kn({inputComponent:n});switch(n.__typename){case"OffersInquiryPhoneInputField":return r.createElement(qn,{data:n,formValue:t.formValue});case"EGDSTextAreaInputField":var o,u;return r.createElement(r.Fragment,null,r.createElement(c.b,{margin:{blockend:"four"}},r.createElement(d.E,{size:4},a("message-host-inquiry-form.title"))),r.createElement(Cn,{data:n,value:i(n,t.formValue).value,onBlur:null==l?void 0:l.onBlur,onChange:null==l?void 0:l.onChange,errorMessage:null!==(u=null===(o=i(n,t.formValue).errorMessage)||void 0===o?void 0:o.invalid)&&void 0!==u?u:"",instructions:null==l?void 0:l.instructions}));case"EGDSBasicCheckBox":return r.createElement(En,{data:n,checked:i(n,t.formValue).checked,onChange:function(e){null==l||l.onChange(e)}});default:return null}};On.displayName="InquiryFormField",On.fragment=_n;var Pn=function(e){var n=e.inquiryFormContext,t=e.children;return r.createElement(pn.Provider,{value:n},t)},Mn=(0,a.J1)(se(),Ze.fragment,On.fragment,nn.fragment,S.T5e.fragment,Be.fragment),An=(0,a.J1)(me(),Ye.fragment),Vn=function(e){return"amenities"===e.id&&"PETS"===e.value||"house_rules_group"===e.id&&"pets_allowed"===e.value},Bn=function(e){var n,t,a,i,o,u,s,m,f,g,p,y,E,h,x,q=e.data,_=e.propertyId,O=e.onDialogClose,P=e.triggerRef,M=e.refetchQuery,A=Ie(),V=A.setInquiryUpdatedFields,B=A.inquiryUpdatedFields,R=A.inputs,N=A.isLoading,w=A.variables,T=A.setVariables,L=A.answeringTravellerQuestionInputs,U=null==R||null===(t=R.inquiryFormInput)||void 0===t||null===(n=t.primaryPropertyCriteriaInput)||void 0===n?void 0:n.dateRange,z=null==R||null===(o=R.searchCriteria)||void 0===o||null===(i=o.primary)||void 0===i||null===(a=i.rooms[0])||void 0===a?void 0:a.children,J={adults:null!==(x=null==R||null===(m=R.searchCriteria)||void 0===m||null===(s=m.primary)||void 0===s||null===(u=s.rooms[0])||void 0===u?void 0:u.adults)&&void 0!==x?x:1,children:(null==z?void 0:z.map((function(e){var n=e.age;return"".concat(1,"_").concat(n)})))||[],isPetsIncluded:(null==R||null===(p=R.searchCriteria)||void 0===p||null===(g=p.secondary)||void 0===g||null===(f=g.selections)||void 0===f?void 0:f.some(Vn))||!1},$=vn(q,U,J),Q=$.getFormValue,K=$.setDatePickerAvailabilityValue,W=$.setTravelerSelectorValue,Y=$.formState,X=H((0,I.n)(An),2),Z=X[0],ee=X[1],ne=ee.data,te=ee.error,re=ee.loading,ae=(0,l.R)().context,ie=r.useRef(null),le=r.useRef(null),oe=U?{end:U.checkOutDate,start:U.checkInDate}:null,ue=(0,v.iQ)(),ce=function(e,n,t,r){var a,i;if((null==w||null===(a=w.inquiryFormInput)||void 0===a?void 0:a.primaryPropertyCriteriaInput)&&(null==w||null===(i=w.searchCriteria)||void 0===i?void 0:i.primary)){var l=G(j({},w),{inquiryFormInput:j(G(j({},w.inquiryFormInput),{primaryPropertyCriteriaInput:j({},w.inquiryFormInput.primaryPropertyCriteriaInput,void 0!==e&&{rooms:e},r&&{dateRange:t?{checkInDate:t.selectedStartDate,checkOutDate:t.selectedEndDate}:null})}),void 0!==n&&{petsIncluded:n}),searchCriteria:G(j({},w.searchCriteria),{primary:j({},w.searchCriteria.primary,void 0!==e&&{rooms:e},r&&{dateRange:t?{checkInDate:t.selectedStartDate,checkOutDate:t.selectedEndDate}:null})})});T(l),M(l)}},de=(0,r.useMemo)((function(){var e;return null===(e=q.formInput)||void 0===e?void 0:e.filter((function(e){return"EGDSBasicCheckBox"===e.__typename||"EGDSTextAreaInputField"===e.__typename}))}),[q.formInput]),se=(0,r.useMemo)((function(){var e;return null===(e=q.formInput)||void 0===e?void 0:e.find((function(e){return"OffersInquiryPhoneInputField"===e.__typename}))}),[q.formInput]),me=(0,r.useMemo)((function(){var e=Y.travelerSelector;if(e)return G(j({},Oe(e)),{petsIncluded:e.isPetsIncluded})}),[Y]);return(null==q||null===(y=q.formInput)||void 0===y?void 0:y.length)&&(null==q?void 0:q.submitButton)?(null==ne||null===(E=ne.submitInquiry)||void 0===E?void 0:E.doneButton)||(null==ne||null===(h=ne.submitInquiry)||void 0===h?void 0:h.primaryCta)?r.createElement(Ye,{data:null==ne?void 0:ne.submitInquiry,onDialogClose:O}):((null==te?void 0:te.graphQLErrors.length)&&ue(Se(Ce,"ContactHostMessageFailed",be,"1.0.0")),r.createElement(r.Fragment,null,r.createElement(c.b,{padding:{inlineend:"six",blockend:"three"}},r.createElement(C.i,{alignItems:"start",justifyContent:"start",space:"four",direction:"column"},r.createElement(C.j,null,r.createElement(d.E,{tag:"h2",size:5},q.header)),q.featuredMessage&&r.createElement(C.j,{grow:1},r.createElement(S.T5e,{data:q.featuredMessage})))),!N&&r.createElement(c.b,{margin:{blockend:"four"}},q.bookNowMessaging&&r.createElement("div",null,r.createElement(C.j,{grow:1},r.createElement(Be,{data:q.bookNowMessaging})))),r.createElement(Pn,{inquiryFormContext:{inquiryFormValueManager:$}},r.createElement(b.E,{"data-stid":"lodging-inquiry-form",hasRequiredFieldIndicator:!0},r.createElement(c.b,{margin:{blockstart:"four"}},r.createElement(D.D,{startDateRef:ie,endDateRef:le,skipSsr:!0,onSubmit:function(e,n){var t={checkInDate:e?ke(e):null,checkOutDate:n?ke(n):null};K(t);var r=(null==t?void 0:t.checkInDate)&&(null==t?void 0:t.checkOutDate)?{selectedStartDate:t.checkInDate,selectedEndDate:t.checkOutDate}:void 0;V(G(j({},B),{dateRange:r,dateChange:!0})),ce(void 0,void 0,r,!0)},inputs:{eid:_,dateRange:oe},isNestDialog:!0})),R&&r.createElement(c.b,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(k.FP,{inputs:R,initialState:me,isNestDialog:!0,dialogId:"internal-contact-host-traveler-selector",updateStoreWithTravelerUrlData:function(e){W({travelerSelectorValue:e});var n=[Oe(e)],t=e.isPetsIncluded;V(G(j({},B),{rooms:n,petsIncluded:t})),ce(n,t,void 0,!1)},triggerRef:P}))),se&&"OffersInquiryPhoneInputField"===(null==se?void 0:se.__typename)&&r.createElement(c.b,{margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(qn,{data:se,formValue:Q().formValue}))),L&&r.createElement(F.EK,{inputs:L,skipSsr:!0,isNestDialog:!0,dialogId:"internal-traveller-questions"}),r.createElement(C.i,{tag:"div",direction:"column",space:"one","data-stid":"inquiry-form-container"},null==de?void 0:de.map((function(e,n){return r.createElement(c.b,{key:"InquiryFormField-".concat(n),margin:{blockstart:"four"}},r.createElement("div",null,r.createElement(C.j,{maxWidth:"half_width"},r.createElement(On,{data:e,formValues:Q()}))))}))),(null==te?void 0:te.graphQLErrors)&&(null==te?void 0:te.graphQLErrors.length)>0&&r.createElement(tn,null),q.disclaimer?r.createElement(nn,{data:q}):null,r.createElement(c.b,{margin:{blockstart:"six"}},r.createElement("div",null,r.createElement(Ze,{onClick:function(){var e=function(e,n){var t,r={};Object.values((null==e?void 0:e.formValue)||{}).forEach((function(e){if("EGDSBasicSelect"===e.typename){var n,t=null===(n=e.options)||void 0===n?void 0:n.find((function(n){return n.label===e.value}));r[e.id]=(null==t?void 0:t.value)||"+1"}else"EGDSBasicCheckBox"===e.typename?r[e.id]=e.checked:r[e.id]=e.value}));var a,i,l=null,o=e.travelerSelector,u=e.datePickerAvailability;(null==u?void 0:u.checkInDate)&&(null==u?void 0:u.checkOutDate)&&(l={checkInDate:u.checkInDate,checkOutDate:u.checkOutDate}),o&&(a=[Oe(o)],i=o.isPetsIncluded);var c={rooms:a,destination:{propertyIds:[n]},dateRange:l};return G(j({},r),{message:(null===(t=r.message)||void 0===t?void 0:t.toString())||"",primaryPropertyCriteriaInput:c,petsIncluded:i})}($.formState,_);$.validate()&&Z({variables:{context:ae,inquiryRequestInput:e}}).then((function(e){var n,t,r,a=$.formState,i=a.datePickerAvailability,l=a.travelerSelector;(null==i?void 0:i.checkInDate)&&(null==i?void 0:i.checkOutDate)&&(n={selectedStartDate:i.checkInDate,selectedEndDate:i.checkOutDate}),l&&(t=[Oe(l)],r=l.isPetsIncluded),V({dateRange:n,rooms:t,petsIncluded:r})}))},localDisabled:re,data:q.submitButton,showLoader:re}))))))):null};Bn.fragment=Mn,Bn.displayName="InquiryForm";var Rn=(0,a.J1)(fe(),Bn.fragment),Nn=function(e){var n,t=e.data,a=e.onDialogClose,i=e.dialogId,l=e.triggerRef,o=e.refetchQuery,u=Ie().propertyId,c=(0,v.iQ)(),d=(0,h.s5)((L(n={},h.OB.SMALL,!0),L(n,h.OB.MEDIUM,!1),L(n,h.OB.LARGE,!1),n)),s=(0,r.useRef)(null),m=H((0,p.useDialog)(i),3),f=m[0],g=m[1],I=m[2];(0,r.useEffect)((function(){g.openDialog(),c(Se(Ce,"ContactHostInquiryFormViewed",be,"1.0.0"))}),[]);var b=function(){a(!1),g.closeDialog()};return r.createElement(y.h,{isVisible:f},r.createElement(I,null,r.createElement(y.e,{isVisible:f,triggerRef:s,type:d?"full":"centered"},r.createElement(E.b,{navigationContent:{onClick:b,navIconLabel:"Close Toolbar"}}),r.createElement(y.f,null,r.createElement(Bn,{data:t,propertyId:u,onDialogClose:b,triggerRef:l,refetchQuery:o})))))},wn=function(e){var n=e.data,t=e.handleInquiryFormDialogVisibility,a=e.dialogId,i=e.triggerRef,l=e.refetchQuery;return(null==n?void 0:n.inquiryFormModal)?r.createElement(Nn,{data:null==n?void 0:n.inquiryFormModal,onDialogClose:t,dialogId:a,triggerRef:i,refetchQuery:l}):null};wn.fragment=Rn,wn.displayName="ContactHostInquiryFormDialog";var Tn=(0,a.J1)(ge(),wn.fragment),Ln="contact-host-inquiry-form-dialog",jn=function(e){var n,t,a,i=e.onFieldsChangeCallback,o=e.data,u=e.triggerRef,c=e.refetchQuery,d=H((0,r.useState)(!1),2),s=d[0],y=d[1],E=(0,m.zy)().search,h=(0,v.KY)(),I=o.button,b=o.action,C=H((0,p.useDialog)(Ln),1)[0],S=(t={search:E},a=(0,r.useRef)({search:""}),(0,r.useEffect)((function(){a.current=t})),a.current),k=Ie(),D=k.isInquiryRoute,F=k.setIsInquiryRoute,x=k.inquiryUpdatedFields,q=k.setInquiryUpdatedFields,_=(0,l.R)().context,O="MOBILE_PHONE"===(null==_||null===(n=_.device)||void 0===n?void 0:n.type);(0,r.useEffect)((function(){if(i&&x&&!s){var e=x.dateRange,n=x.petsIncluded,t=x.rooms,r=x.dateChange,a=j({dateChange:void 0!==r&&r,dateRange:e?{selectedStartDate:e.selectedStartDate,selectedEndDate:e.selectedEndDate}:void 0,rooms:t},void 0!==n&&{petsIncluded:n});i(a),q(void 0)}}),[s,x]),(0,r.useEffect)((function(){E.includes("action=inquiry")&&!D&&(F(!0),y(!0))}),[E]),(0,r.useEffect)((function(){!C&&(!E.includes("action=inquiry")||E.includes("action=inquiry")&&S.search.includes("action=inquiry"))&&y(!1)}),[C]);var P=function(){var e={onClick:function(){return function(e){if(null==I?void 0:I.analytics){var n=I.analytics;h(n.referrerId,n.linkName,!0)}"OffersInquiryFormDialogAction"===(null==e?void 0:e.__typename)&&y(!0)}(b)}};if("UILinkAction"===(null==b?void 0:b.__typename)){var n=b.resource;e=G(j({},e),{href:n.value})}return e};return r.createElement(r.Fragment,null,I&&function(){switch(null==I?void 0:I.__typename){case"UISecondaryButton":return r.createElement(f.E,G(j({"data-stid":"contact-host-secondary-button"},P()),{isFullWidth:O}),null==I?void 0:I.primary);case"UITertiaryButton":return r.createElement(g.E,j({"data-stid":"contact-host-tertiary-button"},P()),null==I?void 0:I.primary);default:return null}}(),"OffersInquiryFormDialogAction"===(null==b?void 0:b.__typename)&&s&&r.createElement(wn,{dialogId:Ln,data:b,handleInquiryFormDialogVisibility:y,refetchQuery:c,triggerRef:u}))};jn.fragment=Tn,jn.displayName="ContactHostButton";var Gn=(0,a.J1)(ve(),jn.fragment),Hn=function(e){var n=e.data,t=e.onFieldsChangeCallback,a=e.triggerRef,i=e.refetchQuery,l=n.header,m=n.cta,f=1===(0,s.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket;if(!m)return null;return r.createElement(r.Fragment,null,l?r.createElement(o.i,null,r.createElement(o.m,{padded:!f},r.createElement(c.b,{padding:{small:{inline:"three"},medium:{inline:f?"unset":"three"},large:{inline:f?"unset":"three"},blockstart:f?"four":"three",blockend:f?"four":"three"}},r.createElement(u.E,{space:"four",columns:{medium:1,large:3}},r.createElement(u.a,{colSpan:{medium:1,large:1},rowSpan:{medium:1,large:1}},r.createElement(d.E,{tag:"h3",size:f?5:4},l)),r.createElement(u.a,{colSpan:1},r.createElement("div",null,r.createElement(jn,{data:m,onFieldsChangeCallback:t,refetchQuery:i,triggerRef:a}))))))):r.createElement(jn,{data:m,onFieldsChangeCallback:t,refetchQuery:i,triggerRef:a}))};Hn.fragment=Gn,Hn.displayName="ContactHostSection";var Un=(0,a.J1)(pe(),Hn.fragment),zn=function(e){var n=e.inputs,t=e.skipSsr,a=e.onFieldsChangeCallback,o=e.triggerRef,u=e.answeringTravellerQuestionInputs,c=(0,l.R)().context,d=Ie(),s=d.setPropertyId,m=d.setInputs,f=d.setIsLoading,g=d.setVariables,v=d.setAnsweringTravellerQuestionInputs;m(n),v(u);var p=G(j({},n),{context:c});(0,r.useEffect)((function(){g(p)}),[]);var y=H((0,r.useState)(void 0),2),E=y[0],h=y[1],I=n.propertyId;I&&s(I);var b=(0,i.I)(Un,{context:{batchKey:"lodging-property-offers"},variables:p,ssr:!t,notifyOnNetworkStatusChange:!0}),C=b.data,S=b.error,k=b.loading,D=b.refetch;return(0,r.useEffect)((function(){f(k),(null==C?void 0:C.offersContactHost)&&h(C)}),[k,C]),S||!(null==E?void 0:E.offersContactHost)?null:r.createElement(Hn,{data:E.offersContactHost,onFieldsChangeCallback:a,refetchQuery:D,triggerRef:o})};zn.displayName="sharedui-ContactHost"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-lodging-contact-host.be30d754311cd6d661ae.js.map
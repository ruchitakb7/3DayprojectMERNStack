/*@license For license information please refer to shared-ui-retail-loyalty-one-key-onboarding.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1689],{17271:function(e,n,t){t.d(n,{y:function(){return _n}});var r=t(96540),a=t(85625),i=t(2619),o=t(15043),l=t(1723),c=t(68963),u=t(36360),s=t(74),m=t(15144),d=t(94220),g=t(90745),E=t(75826),f=t(10159),v=t(39938),O=t(94495),b=t(56755),p=t(1474),y=t(21181),_=t(71831),S=t(67811),N=t(67045),I=t(67781),R=t(33897),h=t(46198),U=t(34638),A=t(68174),L=t(67226),C=t(30313),k=t(93149),D=t(16484);function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}function T(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function K(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function G(){var e=w(["\n  mutation OneKeyUniversalOnboardingMutation($context: ContextInput!, $onboardingOperation: String!) {\n    oneKeyUniversalOnboardingOperation(context: $context, onboardingOperation: $onboardingOperation) {\n      operationStatus\n    }\n  }\n"]);return G=function(){return e},e}function M(){var e=w(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n  }\n"]);return M=function(){return e},e}function P(){var e=w(["\n  fragment EGDSIllustrationFragment on Illustration {\n    description\n    id\n    link: url\n  }\n"]);return P=function(){return e},e}function j(){var e=w(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    markSize: size\n    url {\n      ... on HttpURI {\n        __typename\n        relativePath\n        value\n      }\n    }\n  }\n"]);return j=function(){return e},e}function z(){var e=w(["\n  fragment EGDSGraphicFragment on UIGraphic {\n    ... on Icon {\n      ...EGDSIconFragment\n    }\n\n    ... on Mark {\n      ...EGDSMarkFragment\n    }\n\n    ... on Illustration {\n      ...EGDSIllustrationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}function W(){var e=w(["\n  fragment BrandAssetsFragment on OneKeyUniversalOnboardingBrandAssetCollection {\n    titleImage {\n      ...EGDSGraphicFragment\n    }\n    brandLogos {\n      ...EGDSGraphicFragment\n    }\n  }\n\n  ","\n"]);return W=function(){return e},e}function Y(){var e=w(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    accessibility\n    disabled\n    analytics {\n      linkName\n      referrerId\n    }\n    icon {\n      description\n      id\n      title\n      token\n      theme\n    }\n    action {\n      ...ButtonLinkActionFragment\n    }\n  }\n\n  fragment ButtonLinkActionFragment on UILinkAction {\n    resource {\n      ...HttpURIFragment\n    }\n    target\n    useRelativePath\n  }\n\n  fragment HttpURIFragment on HttpURI {\n    relativePath\n    value\n  }\n"]);return Y=function(){return e},e}function V(){var e=w(["\n  fragment OnboardingButtonFragment on OneKeyUniversalOnboardingButton {\n    button {\n      ...EGDSButtonFragment\n    }\n    action {\n      ...OneKeyUniversalOnboardingButtonActionFragment\n    }\n    secondaryAction {\n      ...OneKeyUniversalOnboardingButtonActionFragment\n    }\n  }\n\n  fragment OneKeyUniversalOnboardingButtonActionFragment on OneKeyUniversalOnboardingButtonAction {\n    ...OneKeyUniversalOnboardingButtonDismissActionFragment\n    ...OneKeyUniversalOnboardingButtonUILinkActionFragment\n    ...OneKeyUniversalOnboardingOperationActionFragment\n  }\n\n  fragment OneKeyUniversalOnboardingButtonDismissActionFragment on EGDSDismissAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    label\n  }\n\n  fragment OneKeyUniversalOnboardingButtonUILinkActionFragment on UILinkAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    resource {\n      value\n      ...ButtonHttpURIFragment\n    }\n    target\n    useRelativePath\n  }\n\n  fragment OneKeyUniversalOnboardingOperationActionFragment on OneKeyUniversalOnboardingOperationAction {\n    actionType\n  }\n\n  fragment ButtonHttpURIFragment on HttpURI {\n    relativePath\n  }\n\n  ","\n"]);return V=function(){return e},e}function J(){var e=w(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n        ... on HttpURI {\n          relativePath\n        }\n      }\n      target\n      useRelativePath\n    }\n    disabled\n    standardLinkIcon: icon {\n      ...EGDSIconFragment\n    }\n    iconPosition\n    size\n    text\n  }\n  ","\n"]);return J=function(){return e},e}function H(){var e=w(["\n  fragment OnboardingLinkFragment on OneKeyUniversalOnboardingLink {\n    link {\n      ...EGDSStandardLinkFragment\n    }\n  }\n\n  ","\n"]);return H=function(){return e},e}function X(){var e=w(["\n  fragment HeroImageFragment on Image {\n    description\n    url\n  }\n"]);return X=function(){return e},e}function Q(){var e=w(["\n  fragment WelcomeScreenFragment on OneKeyUniversalOnboardingWelcomeScreen {\n    heroImage {\n      ...HeroImageFragment\n    }\n    brandAssets {\n      ...BrandAssetsFragment\n    }\n    title\n    subTitles\n    learnMoreLink {\n      ...OnboardingLinkFragment\n    }\n    primaryButton {\n      ...OnboardingButtonFragment\n    }\n    consentText\n    termsAndConditionsLink {\n      ...OnboardingLinkFragment\n    }\n    privacyLink {\n      ...OnboardingLinkFragment\n    }\n    dismissButton {\n      ...OnboardingButtonFragment\n    }\n    onLoadOperation {\n      actionType\n    }\n    ariaLabel\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return Q=function(){return e},e}function $(){var e=w(["\n  fragment EGDSLoyaltyBadgeFragment on EGDSLoyaltyBadge {\n    accessibility\n    badgeText: text\n    size\n    badgeTheme: theme\n  }\n"]);return $=function(){return e},e}function q(){var e=w(["\n  fragment BalanceSectionFragment on OneKeyUniversalContextualOnboardingBalance {\n    title\n    balance\n    subTitles\n  }\n"]);return q=function(){return e},e}function Z(){var e=w(["\n  fragment BenefitFragment on OneKeyUniversalContextualOnboardingBenefit {\n    icon {\n      ...EGDSIconFragment\n    }\n    description\n  }\n\n  ","\n"]);return Z=function(){return e},e}function ee(){var e=w(["\n  fragment InfoDialogFragment on OneKeyUniversalOnboardingInfoDialog {\n    heading\n    description\n    primaryButton {\n      ...OnboardingButtonFragment\n    }\n    ariaLabel\n  }\n\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=w(["\n  fragment InfoSectionFragment on OneKeyUniversalOnboardingInfoSection {\n    infoButton {\n      ...OnboardingButtonFragment\n    }\n    dialog {\n      ...InfoDialogFragment\n    }\n  }\n\n  ","\n  ","\n"]);return ne=function(){return e},e}function te(){var e=w(["\n  fragment ContextualScreenFragment on OneKeyUniversalOnboardingContextualScreen {\n    brandAssets {\n      ...BrandAssetsFragment\n    }\n    oneKeyCashInfoSection {\n      ...InfoSectionFragment\n    }\n    tierBadge {\n      ...EGDSLoyaltyBadgeFragment\n    }\n    title\n    benefits {\n      ...BenefitFragment\n    }\n    balanceSection {\n      ...BalanceSectionFragment\n    }\n    primaryButton {\n      ...OnboardingButtonFragment\n    }\n    primaryLink {\n      ...OnboardingLinkFragment\n    }\n    ariaLabel\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return te=function(){return e},e}function re(){var e=w(["\n  query OneKeyUniversalOnboardingQuery($context: ContextInput!, $originUrl: String) {\n    oneKeyUniversalOnboarding(context: $context, originUrl: $originUrl) {\n      ...OneKeyUniversalOnboardingScreenFragment\n    }\n  }\n\n  fragment OneKeyUniversalOnboardingScreenFragment on OneKeyUniversalOnboardingScreen {\n    screen {\n      ...OneKeyUniversalOnboardingScreenResultFragment\n    }\n  }\n\n  fragment OneKeyUniversalOnboardingScreenResultFragment on OneKeyUniversalOnboardingScreenResult {\n    ...WelcomeScreenFragment\n    ...ContextualScreenFragment\n  }\n\n  ","\n  ","\n"]);return re=function(){return e},e}var ae={ONE_KEY_ONBOARDING_TNL_EXPOSURE:new i.SystemEvent(i.SystemEventLevel.INFO,"ONE_KEY_ONBOARDING_TNL_EXPOSURE")},ie={ONE_KEY_UNIVERSAL_ONBOARDING_QUERY_ERROR:new i.SystemEvent(i.SystemEventLevel.ERROR,"ONE_KEY_UNIVERSAL_ONBOARDING_QUERY_ERROR"),ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_ERROR:new i.SystemEvent(i.SystemEventLevel.ERROR,"ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_ERROR"),ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_FAILURE:new i.SystemEvent(i.SystemEventLevel.ERROR,"ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_FAILURE"),ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_SUCCESS:new i.SystemEvent(i.SystemEventLevel.INFO,"ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_SUCCESS"),ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_ERROR:new i.SystemEvent(i.SystemEventLevel.ERROR,"ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_ERROR"),ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_FAILURE:new i.SystemEvent(i.SystemEventLevel.ERROR,"ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_FAILURE"),ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_SUCCESS:new i.SystemEvent(i.SystemEventLevel.INFO,"ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_SUCCESS")},oe=function(e){return JSON.stringify(e)},le=function(e){return"OneKeyUniversalOnboardingOperationAction"===(null==e?void 0:e.__typename)?e.actionType:""},ce=function(){window.location.href="/onboarding/error?origin=".concat(encodeURIComponent(window.location.href))},ue=function(e){var n=K(e.split("?"),2),t=n[0],r=n[1],a=encodeURIComponent(t),i="";return r&&(i=r.split("&").map((function(e){var n=K(e.split("="),2),t=n[0],r=n[1];return"".concat(t,"=").concat(encodeURIComponent(r))})).join("&")),(i?"".concat(a,"?").concat(i):a).replace(/%2F/g,"/")},se=function(e){try{return function(e){var n=e.pathname+e.search;return ue(n)}(new URL(e))}catch(n){return/^\/[^/].*/.test(e)?ue(e):"/"}},me=function(e){var n=e?se(e):"/";window.location.assign(n)},de=(0,r.createContext)({isDialogOpen:!1,openDialog:function(){},closeDialog:function(){},DialogComponent:function(){return null}}),ge=function(e){var n=e.mockedContext,t=e.children,a=K((0,f.useDialog)("one-key-onboarding-dialog",void 0,!1),3),i=a[0],o=a[1],l=a[2],c=(0,r.useCallback)((function(){o.openDialog()}),[o]),u=(0,r.useCallback)((function(){o.closeDialog()}),[o]),s=(0,r.useMemo)((function(){return{isDialogOpen:i,openDialog:c,closeDialog:u,DialogComponent:l}}),[i,c,u,l]);return r.createElement(de.Provider,{value:n||s},t)},Ee=function(){return(0,r.useContext)(de)},fe=(0,r.createContext)({currentScreen:null,getIsLastScreen:function(){return!1},navigateToNextScreen:function(){},setScreens:function(){}}),ve=function(e){var n=e.mockedContext,t=e.children,a=K((0,r.useState)({screens:[],currentScreen:null,currentScreenIndex:0}),2),i=a[0],o=a[1],l=(0,r.useCallback)((function(){return i.currentScreenIndex===i.screens.length-1}),[i]),c=(0,r.useCallback)((function(){o((function(e){var n=e.currentScreenIndex+1;return e.screens[n]?T(B({},e),{currentScreen:e.screens[n].screen,currentScreenIndex:n}):e}))}),[]),u=(0,r.useCallback)((function(e){o((function(n){return T(B({},n),{screens:e,currentScreen:e[0]?e[0].screen:null,currentScreenIndex:0})}))}),[]),s=(0,r.useMemo)((function(){return{currentScreen:i.currentScreen,getIsLastScreen:l,navigateToNextScreen:c,setScreens:u}}),[i,l,c,u]);return r.createElement(fe.Provider,{value:n||s},t)},Oe=function(){return(0,r.useContext)(fe)},be=function(){var e=Ee().closeDialog,n=Oe(),t=n.navigateToNextScreen,a=n.getIsLastScreen;return{proceedWithOnboardingFlow:(0,r.useCallback)((function(){a()?e():t()}),[a,t,e])}},pe=(0,o.J1)(G()),ye=function(e){var n=(0,u.R)().context;return(0,v.n)(pe,{variables:{context:n,onboardingOperation:e}})},_e=(0,o.J1)(M()),Se=function(e){var n,t=e.className,a=e.theme,i=e.isAriaHidden,o=void 0!==i&&i,l=e.data,c=(null==l?void 0:l.withBackground)?"info":void 0;return r.createElement(O.a,{className:t,description:o||null==l?void 0:l.description,id:null==l?void 0:l.id,name:null!==l?l.id:"",size:(null==l?void 0:l.size)?O.E[l.size]:void 0,title:o?void 0:null!==(n=null==l?void 0:l.title)&&void 0!==n?n:void 0,theme:a||(null==l?void 0:l.theme)||void 0,spotlight:c})};Se.displayName="LoyaltyEGDSIcon",Se.fragment=_e;var Ne=(0,o.J1)(P()),Ie=function(e){var n=e.data;return r.createElement(b.E,{alt:n.description,url:n.link})};Ie.displayName="Illustration",Ie.fragment=Ne;var Re=(0,o.J1)(j()),he=function(e){var n,t=e.className,a=e.markSize,i=e.data;return r.createElement(p.E,{className:t,description:i.description,id:i.id,name:i.id,size:a||i.markSize&&p.c[i.markSize],url:null===(n=i.url)||void 0===n?void 0:n.value})};he.displayName="LoyaltyEGDSMark",he.fragment=Re;var Ue=(0,o.J1)(z(),Se.fragment,he.fragment,Ie.fragment),Ae=function(e){var n=e.className,t=e.markSize,a=e.data;switch(a.__typename){case"Icon":return r.createElement(Se,{className:n,data:a});case"Mark":return r.createElement(he,{className:n,data:a,markSize:t});case"Illustration":return r.createElement(Ie,{data:a});default:return null}};Ae.displayName="EGDSGraphic",Ae.fragment=Ue;var Le=(0,o.J1)(W(),Ae.fragment),Ce=function(e){var n=e.data,t=n.titleImage,a=n.brandLogos;return r.createElement(m.i,{direction:"column",justifyContent:"center",alignItems:"center",space:"four"},r.createElement(m.j,null,r.createElement(Ae,{data:t,markSize:14})),a&&r.createElement(m.j,null,r.createElement(m.i,{justifyContent:"center",alignItems:"center",space:"four"},a.map((function(e){return r.createElement(m.j,{key:e.description},r.createElement(Ae,{data:e,markSize:6}))})))))};Ce.fragment=Le,Ce.displayName="BrandAssets";var ke,De,Fe=(x(ke={},"EXTERNAL","_blank"),x(ke,"INTERNAL","_self"),ke),xe=(x(De={},"SMALL","small"),x(De,"MEDIUM","medium"),x(De,"LARGE","large"),De),Be=function(e){return Fe[e.target]},Te=(0,o.J1)(Y()),Ke=function(e){var n,t=e.className,a=e.dataStid,i=e.domRef,o=e.href,l=e.isFullWidth,c=e.onClickHandler,s=e.size,m=e.inverse,d=e.isDisabled,g=e.isNoTextAllowed,f=e.data,v=f.__typename,b=f.accessibility,p=f.primary,y=f.disabled,h=f.analytics,U=f.action,A=f.icon,L=(0,E.KY)(),C=function(e){if("UILinkAction"!==(null==e?void 0:e.__typename))return{};var n=function(e){return"HttpURI"!==e.resource.__typename?null:e.useRelativePath?e.resource.relativePath:e.resource.value}(e);return n?{href:n,target:Be(e),tag:"a"}:{}}(U),k=function(e){var n=e.indexOf("uurl")>-1,t=(0,R.useLocation)(),a=function(){return{pathname:"".concat(t.pathname),search:"".concat(t.search),hash:"".concat(t.hash)}},i=(0,u.R)().context,o=K((0,r.useState)(a),2),l=o[0],c=o[1],s=null==i?void 0:i.siteId;(0,r.useEffect)((function(){var e=function(){return c(a())};return window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}),[a]);var m,d,g,E,f,v,O="";return n||(O=e+(-1!==e.indexOf("?")?"":"?")+(d=s,g=(m=l||{}).pathname,E=m.search,f=m.hash,v=g.concat(E,f),30031===d?"&redirectUrl=targeturl=".concat(encodeURIComponent(v),"&referrerId=wl_prod"):"&uurl=".concat(encodeURIComponent("e3id=redr&rurl=".concat(v))))),O}(null!==(n=C.href)&&void 0!==n?n:""),D=r.useCallback((function(){null==c||c(),h&&L(h.referrerId,h.linkName)}),[c,L,h]);if(!p&&!g)return null;(null==C?void 0:C.href)&&k&&(C.href=k);var F=B({"aria-label":null!=b?b:void 0,className:t,disabled:d||y,href:o,isFullWidth:l,onClick:D,size:s,domRef:i},C);switch(v){case"UIPrimaryButton":return r.createElement(_.E,T(B({},F),{"data-stid":a,inverse:m}),p);case"UISecondaryButton":return r.createElement(S.E,T(B({},F),{"data-stid":a,inverse:m}),p);case"UITertiaryButton":var x,w;return r.createElement(N.E,T(B({},F),{"data-stid":a,inverse:m}),A&&r.createElement(O.a,{description:A.description,id:A.id,name:A.token,title:null!==(x=A.title)&&void 0!==x?x:void 0,theme:null!==(w=A.theme)&&void 0!==w?w:void 0}),p);case"EGDSOverlayButton":var G,M;return r.createElement(I.E,T(B({},F),{"data-stid":a}),A&&r.createElement(O.a,{description:A.description,id:A.id,name:A.token,title:null!==(G=A.title)&&void 0!==G?G:void 0,theme:null!==(M=A.theme)&&void 0!==M?M:void 0}),p);default:return null}};Ke.fragment=Te,Ke.displayName="LoyaltyEGDSButton";var we=(0,r.createContext)({isMutationInProgress:!1,setIsMutationInProgress:function(){}}),Ge=function(e){var n=e.mockedContext,t=e.children,a=K((0,r.useState)(!1),2),i=a[0],o=a[1],l=(0,r.useCallback)((function(e){o(e)}),[]),c=(0,r.useMemo)((function(){return{isMutationInProgress:i,setIsMutationInProgress:l}}),[i,l]);return r.createElement(we.Provider,{value:n||c},t)},Me=(0,o.J1)(V(),Ke.fragment),Pe=function(e){var n=e.data,t=e.size,a=e.isFullWidth,i=e.isNoTextAllowed,o=e.dataStid,l=e.onNullActionClick,c=e.onOperationSuccess,u=e.onOperationFailure,s=e.onOperationError,m=Ee().closeDialog,d=be().proceedWithOnboardingFlow,g=(0,r.useContext)(we),E=g.isMutationInProgress,f=g.setIsMutationInProgress,v=K(ye(le(n.action)),2),O=v[0],b=v[1].called;(0,r.useEffect)((function(){f(b)}),[f,b]);var p=(0,r.useCallback)((function(){m()}),[m]),_=(0,r.useCallback)((function(e){var n,t,r,a;(0,y.liveAnnounce)(e.accessibility||void 0),n=e,window.location.href="".concat((r=(t=n).resource,a=t.useRelativePath,"HttpURI"===r.__typename&&a?r.relativePath:r.value))}),[]),S=(0,r.useCallback)((function(e){var t;switch(null===(t=n.secondaryAction)||void 0===t?void 0:t.__typename){case"EGDSDismissAction":return void p();case"UILinkAction":return void _(n.secondaryAction);default:e()}}),[n.secondaryAction,p,_]),N=(0,r.useCallback)((function(e){var n,t;switch(null===(t=e.data)||void 0===t||null===(n=t.oneKeyUniversalOnboardingOperation)||void 0===n?void 0:n.operationStatus){case"SUCCEEDED":null==c||c(),S(d);break;case"FAILED":default:null==u||u(e),S(d);break;case"FAILED_BLOCKING":null==u||u(e),ce()}}),[c,u,S,d]),I=(0,r.useCallback)((function(){var e;switch(null===(e=n.action)||void 0===e?void 0:e.__typename){case"OneKeyUniversalOnboardingOperationAction":return void O().then((function(e){N(e)})).catch((function(e){null==s||s(e),ce()}));case"EGDSDismissAction":return void p();case"UILinkAction":return void _(n.action);default:S(l)}}),[n.action,O,N,S,s,p,_,l]);return r.createElement(Ke,{data:n.button,isDisabled:E,isFullWidth:a,size:t,isNoTextAllowed:i,dataStid:o,onClickHandler:I})};Pe.fragment=Me,Pe.displayName="OnboardingButton";var je=(0,o.J1)(J(),Se.fragment),ze=function(e){var n=e.icon,t=e.iconPosition,a=e.iconPositionToMatch;return n&&t===a?r.createElement(Se,{data:n}):null},We=function(e){var n=e.className,t=e.dataStid,a=e.inline,i=e.theme,o=e.align,l=e.data,c=e.onClickHandler,u=l.action,s=u.analytics,m=u.target,d=u.accessibility,f=l.disabled,v=l.iconPosition,O=l.standardLinkIcon,b=l.size,p=l.text,y=(0,E.KY)(),_=r.useCallback((function(){y(s.referrerId,s.linkName),c&&c()}),[y,s]),S=r.useCallback((function(){return function(e){var n=e.resource,t=e.useRelativePath;return"HttpURI"===n.__typename&&t?n.relativePath:n.value}(l.action)}),[l.action]);return r.createElement(h.E,{className:n,"data-stid":t,size:xe[b],onClickCapture:_,inline:a,disabled:f,theme:i||"default",align:o},r.createElement("a",{target:Fe[m],href:S()},r.createElement(ze,{icon:O,iconPosition:v,iconPositionToMatch:"LEADING"}),p,r.createElement(ze,{icon:O,iconPosition:v,iconPositionToMatch:"TRAILING"}),d&&r.createElement(g.c,{className:"is-visually-hidden"},d)))};We.fragment=je,We.displayName="EGDSStandardLink";var Ye=(0,o.J1)(H(),We.fragment),Ve=function(e){var n=e.data,t=e.align,a=n.link;return r.createElement(We,{data:a,align:t})};Ve.fragment=Ye,Ve.displayName="OnboardingLink";var Je=function(e){var n=e.children;return r.createElement(A.LM,null,r.createElement(A.NP,null,r.createElement(U.d,{position:{top:"two",left:"two"},type:"absolute"},n)),r.createElement(A.zQ,null,r.createElement(U.d,{position:{top:"six",left:"six"},type:"absolute"},n)))};Je.displayName="DismissButtonPosition";var He=function(e){var n=e.children;return r.createElement("div",null,r.createElement(A.LM,null,r.createElement(A.NP,null,r.createElement(L.a,{imageFit:"cover",ratio:L.E.R1_1},n)),r.createElement(A.zQ,null,r.createElement(L.a,{imageFit:"cover",ratio:L.E.R4_1},n))))};He.displayName="HeroImageFigure";var Xe=(0,o.J1)(X()),Qe=function(e){var n=e.data,t=e.children,a=n.url,i=n.description;return r.createElement(He,null,r.createElement(L.b,{src:a,alt:i}),t&&r.createElement(U.d,{type:"absolute",position:{left:"zero",bottom:"zero",right:"zero"}},t))};Qe.fragment=Xe,Qe.displayName="HeroImage";var $e=(0,o.J1)(Q(),Ve.fragment,Ce.fragment,Qe.fragment,Pe.fragment),qe=function(e){var n=e.data,t=n.heroImage,a=n.brandAssets,o=n.title,l=n.subTitles,u=n.learnMoreLink,f=n.primaryButton,v=n.consentText,O=n.termsAndConditionsLink,b=n.privacyLink,p=n.dismissButton,y=n.onLoadOperation,_=n.ariaLabel,S=v||O||b,N=(0,i.useLoggerEvents)(ie),I=Ee(),R=I.isDialogOpen,h=I.closeDialog,U=be().proceedWithOnboardingFlow,A=K(ye(le(y)),1)[0],L=(0,r.useCallback)((function(){N.ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_SUCCESS.log(oe({message:"Welcome Screen mutation success"}))}),[N]),C=(0,r.useCallback)((function(e){N.ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_FAILURE.log(oe({message:"Welcome Screen mutation failure. Onboarding Operation response: ".concat(JSON.stringify(e.data))}))}),[N]),k=(0,r.useCallback)((function(e){N.ONE_KEY_UNIVERSAL_ONBOARDING_WELCOME_SCREEN_MUTATION_ERROR.log(oe({message:"Welcome Screen mutation error",error:e}))}),[N]);return(0,r.useEffect)((function(){y&&A().then((function(e){!function(e){var n,t;return"SUCCEEDED"===(null===(t=e.data)||void 0===t||null===(n=t.oneKeyUniversalOnboardingOperation)||void 0===n?void 0:n.operationStatus)}(e)?C(e):L()})).catch((function(e){k(e),ce()}))}),[]),r.createElement(c.e,{isVisible:R,triggerRef:null,type:"full",ariaLabel:_},r.createElement(c.f,{padded:!1},r.createElement(E.E0,{eventData:{event:{event_version:"1.0.0",event_name:"onekey_welcome_onboarding.viewed",event_type:"Page View"},experience:{page_name:"OKOnboarding",page_name_detailed:"OKOnboardingWelcomeScreen"}}},r.createElement("div",{"data-stid":"one-key-onboarding-welcome-screen"},r.createElement(Qe,{data:t},a&&r.createElement(d.b,{padding:{inline:"six",block:"eight"}},r.createElement("div",null,r.createElement(Ce,{data:a})))),p&&r.createElement(Je,null,r.createElement(Pe,{data:p,size:s.E.MEDIUM,isNoTextAllowed:!0,dataStid:"one-key-onboarding-welcome-screen-dismiss-button",onOperationSuccess:L,onOperationFailure:C,onOperationError:k,onNullActionClick:h})),r.createElement("div",null,r.createElement(d.b,{padding:{inline:"six",block:"eight"}},r.createElement(m.i,{justifyContent:"center",alignItems:"center"},r.createElement(m.j,{maxWidth:"120x"},r.createElement("div",null,r.createElement(d.b,{margin:{blockend:"eight"}},r.createElement(m.i,{direction:"column",space:"four"},r.createElement(m.j,null,r.createElement(g.E,{tag:"h1",size:4,align:"center"},o)),r.createElement(m.j,null,r.createElement("div",null,l.map((function(e,n){return r.createElement(g.c,{key:n,align:"center"},e)})))),r.createElement(m.j,null,r.createElement(Ve,{data:u,align:"center"})))),r.createElement(m.i,{direction:"column",space:"six"},S&&r.createElement(m.j,null,r.createElement(m.i,{direction:"column",space:"two"},v&&r.createElement(m.j,null,r.createElement(g.c,{align:"center",size:200},v)),O&&r.createElement(m.j,null,r.createElement(Ve,{data:O,align:"center"})),b&&r.createElement(m.j,null,r.createElement(Ve,{data:b,align:"center"})))),r.createElement(m.j,null,r.createElement(Pe,{data:f,size:s.E.LARGE,isFullWidth:!0,dataStid:"one-key-onboarding-welcome-screen-primary-button",onOperationSuccess:L,onOperationFailure:C,onOperationError:k,onNullActionClick:U}))))))))))))};qe.fragment=$e,qe.displayName="WelcomeScreen";var Ze={small:"small",large:"large"},en={lowtier:"lowtier",midtier:"midtier",hightier:"hightier",vip:"vip",extrahightier:"extrahightier","global-lowtier":"global-lowtier","global-middletier":"global-middletier","global-hightier":"global-hightier","global-extrahightier":"global-extrahightier"},nn=(0,o.J1)($()),tn=function(e){var n=e.data;if(!n.badgeText)return null;var t=n.size,a=n.badgeTheme,i=n.accessibility,o=n.badgeText,l=a?en[a]:void 0,c=t?Ze[t]:void 0;return r.createElement(k.r,{a11yText:null!=i?i:void 0,text:o,size:c,theme:l})};tn.fragment=nn,tn.displayName="EGDSLoyaltyBadge";var rn=function(e){var n=e.children;return r.createElement(A.LM,null,r.createElement(A.NP,null,r.createElement(d.b,{margin:{blockend:"eight"}},r.createElement("div",null,n))),r.createElement(A.rw,null,r.createElement(d.b,{margin:{blockend:"sixteen"}},r.createElement("div",null,n))),r.createElement(A.zQ,null,r.createElement(d.b,{margin:{blockend:"eight"}},r.createElement("div",null,n))))};rn.displayName="BrandAssetsSpacing";var an=(0,o.J1)(q()),on=function(e){var n=e.data,t=n.title,a=n.balance,i=n.subTitles;return r.createElement(m.i,{direction:"column",space:"four"},r.createElement(g.c,{size:400,align:"center"},t),r.createElement(g.c,{size:700,align:"center",weight:"medium"},a),r.createElement("div",null,i.map((function(e,n){return r.createElement(g.c,{key:n,align:"center"},e)}))))};on.fragment=an,on.displayName="BalanceSection";var ln=(0,o.J1)(Z(),Se.fragment),cn=function(e){var n=e.data,t=n.icon,a=n.description;return r.createElement(m.i,{space:"two"},r.createElement(Se,{data:t}),r.createElement(g.c,null,a))};cn.fragment=ln,cn.displayName="Benefit";var un=function(e){var n=e.benefits;return r.createElement(m.i,{direction:"column",space:"four"},n.map((function(e,n){return r.createElement(m.j,{key:n},r.createElement(cn,{data:e}))})))};un.displayName="Benefits";var sn=function(e){var n=e.children;return r.createElement(A.LM,null,r.createElement(A.NP,null,r.createElement(d.b,{margin:{blockend:"eight"}},r.createElement("div",null,r.createElement(D.i,{border:!0},r.createElement(d.b,{padding:"eight"},r.createElement("div",null,n)))))),r.createElement(A.rw,null,r.createElement(d.b,{padding:{inline:"six"},margin:{blockend:"eight"}},r.createElement("div",null,r.createElement(D.i,{border:!0},r.createElement(d.b,{padding:"twelve"},r.createElement("div",null,n)))))))};sn.displayName="CardWithSpacing";var mn=function(e){var n=e.children;return r.createElement(A.LM,null,r.createElement(A.NP,null,r.createElement(d.b,{padding:"six"},n)),r.createElement(A.rw,null,r.createElement(d.b,{padding:"sixteen"},n)),r.createElement(A.zQ,null,r.createElement(d.b,{padding:"twelve"},n)))};mn.displayName="ContentSpacing";var dn=(0,o.J1)(ee(),Pe.fragment),gn=function(e){var n=e.data,t=e.isDialogOpen,a=e.DialogComponent,i=e.onActionClick,o=n.heading,l=n.description,u=n.primaryButton,m=n.ariaLabel,f=(0,r.useCallback)((function(){i()}),[i]);return r.createElement(c.h,{isVisible:t},r.createElement(a,null,r.createElement(c.e,{isVisible:t,triggerRef:null,type:"centered",centeredSheetSize:"small",ariaLabel:m},r.createElement(E.E0,{eventData:{event:{event_version:"1.0.0",event_name:"onekey_context_onboarding_onekey_cash.presented",event_type:"Impression"},experience:{page_name:"OKOnboarding",page_name_detailed:"OKOnboardingContextualScreen"}}},r.createElement(c.f,null,r.createElement(d.b,{margin:{blockend:"two"}},r.createElement(g.E,{tag:"h2",size:5},o)),r.createElement(d.b,{margin:{blockend:"four"}},r.createElement(g.c,null,l)),r.createElement(Pe,{data:u,size:s.E.MEDIUM,isFullWidth:!0,onNullActionClick:f}))))))};gn.fragment=dn,gn.displayName="InfoDialog";var En=(0,o.J1)(ne(),Pe.fragment,gn.fragment),fn=function(e){var n=e.data,t=n.infoButton,a=n.dialog,i=K((0,f.useDialog)("one-key-onboarding-info-section-dialog","infoPwaDialog",!0),3),o=i[0],l=i[1],c=i[2],u=(0,r.useCallback)((function(){l.openDialog()}),[l]),m=(0,r.useCallback)((function(){l.closeDialog()}),[l]);return r.createElement(r.Fragment,null,r.createElement(Pe,{data:t,size:s.E.SMALL,isNoTextAllowed:!0,onNullActionClick:u}),r.createElement(gn,{data:a,isDialogOpen:o,DialogComponent:c,onActionClick:m}))};fn.fragment=En,fn.displayName="InfoSection";var vn=(0,o.J1)(te(),Ve.fragment,tn.fragment,Ce.fragment,fn.fragment,cn.fragment,on.fragment,Pe.fragment),On=function(e){var n=e.data,t=n.brandAssets,a=n.oneKeyCashInfoSection,o=n.tierBadge,l=n.title,u=n.benefits,f=n.balanceSection,v=n.primaryButton,O=n.primaryLink,b=n.ariaLabel,p=(0,i.useLoggerEvents)(ie),y=Ee().isDialogOpen,_=be().proceedWithOnboardingFlow,S=(0,r.useCallback)((function(){p.ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_SUCCESS.log(oe({message:"Contextual Screen mutation success"}))}),[p]),N=(0,r.useCallback)((function(e){p.ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_FAILURE.log(oe({message:"Contextual Screen mutation failure. Onboarding Operation response: ".concat(JSON.stringify(e.data))}))}),[p]),I=(0,r.useCallback)((function(e){p.ONE_KEY_UNIVERSAL_ONBOARDING_CONTEXTUAL_SCREEN_MUTATION_ERROR.log(oe({message:"Contextual Screen mutation error",error:e}))}),[p]);return r.createElement(c.e,{isVisible:y,triggerRef:null,type:"full",ariaLabel:b},r.createElement(c.f,{padded:!1},r.createElement(E.E0,{eventData:{event:{event_version:"1.0.0",event_name:"onekey_context_onboarding.viewed",event_type:"Page View"},experience:{page_name:"OKOnboarding",page_name_detailed:"OKOnboardingContextualScreen"}}},r.createElement(mn,null,r.createElement(C.E,{columns:[(0,C.e)("0x","120x")],justifyContent:"center","data-stid":"one-key-onboarding-contextual-screen"},r.createElement(C.a,null,r.createElement("div",null,t&&r.createElement(rn,null,r.createElement(Ce,{data:t})),r.createElement(sn,null,r.createElement(m.i,{justifyContent:"center"},r.createElement(m.j,{maxWidth:"70x"},r.createElement("div",null,r.createElement(m.i,{direction:"column",justifyContent:"center",alignItems:"center",space:"six"},r.createElement(m.j,null,r.createElement(tn,{data:o})),r.createElement(m.j,null,r.createElement(g.E,{tag:"h1",size:4,align:"center"},l)),u&&r.createElement(m.j,null,r.createElement(un,{benefits:u})),f&&r.createElement(m.j,null,r.createElement(on,{data:f})),a&&r.createElement(m.j,null,r.createElement(fn,{data:a}))))))),r.createElement(Pe,{data:v,isFullWidth:!0,size:s.E.LARGE,dataStid:"one-key-onboarding-contextual-screen-primary-button",onOperationSuccess:S,onOperationFailure:N,onOperationError:I,onNullActionClick:_}),O&&r.createElement(d.b,{margin:{blockstart:"eight"}},r.createElement("div",null,r.createElement(Ve,{data:O,align:"center"}))))))))))};On.fragment=vn,On.displayName="ContextualScreen";var bn=function(){var e=Oe().currentScreen;switch(null==e?void 0:e.__typename){case"OneKeyUniversalOnboardingWelcomeScreen":return r.createElement(qe,{data:e});case"OneKeyUniversalOnboardingContextualScreen":return r.createElement(On,{data:e});default:return null}};bn.displayName="OnboardingScreen";var pn=(0,o.J1)(re(),qe.fragment,On.fragment),yn=function(e){var n=e.inputs,t=e.isRedirectionEnabled,a=Ee(),o=a.isDialogOpen,s=a.openDialog,m=a.DialogComponent,d=K((0,r.useState)(!1),2),g=d[0],E=d[1],f=(0,u.R)().context,v=(0,i.useLoggerEvents)(ie),O=Oe().setScreens,b=T(B({},n),{context:f}),p=(0,l.I)(pn,{variables:b,ssr:!1}),y=p.data,_=p.error,S=p.loading;return(0,r.useEffect)((function(){y&&O(y.oneKeyUniversalOnboarding)}),[y]),(0,r.useEffect)((function(){(null==y?void 0:y.oneKeyUniversalOnboarding)&&y.oneKeyUniversalOnboarding.length>0&&!g&&(s(),E(!0))}),[null==y?void 0:y.oneKeyUniversalOnboarding,s,g]),(0,r.useEffect)((function(){0===(null==y?void 0:y.oneKeyUniversalOnboarding.length)&&t&&me(n.originUrl)}),[null==y?void 0:y.oneKeyUniversalOnboarding,n.originUrl,t]),(0,r.useEffect)((function(){_&&(v.ONE_KEY_UNIVERSAL_ONBOARDING_QUERY_ERROR.log(oe({message:"OneKeyUniversalOnboardingQuery error",error:_})),t&&ce())}),[_,t,v]),S||_||!y||0===y.oneKeyUniversalOnboarding.length?null:r.createElement(c.h,{isVisible:o},r.createElement(m,null,r.createElement(bn,null)))};yn.displayName="OneKeyUniversalOnboarding";var _n=function(e){var n=e.additionalContext,t=e.isRedirectionEnabled,o=void 0!==t&&t,l=(0,i.useLoggerEvents)(ae),c=(0,a.useExperiment)("Onboarding_v2_Web").exposure,u=(0,a.useExperiment)("Onboarding_v2_OneKey_Web").exposure,s=1===c.bucket,m=1===u.bucket,d=s&&m,g=!d;return(0,r.useEffect)((function(){l.ONE_KEY_ONBOARDING_TNL_EXPOSURE.log(oe({message:"OneKey Onboarding TnL exposure. Onboarding_v2_Web: ".concat(JSON.stringify(c),". Onboarding_v2_OneKey_Web: ").concat(JSON.stringify(u))}))}),[l,c,u]),(0,r.useEffect)((function(){g&&o&&me(null==n?void 0:n.originUrl)}),[]),g?null:r.createElement(ge,null,r.createElement(ve,null,r.createElement(Ge,null,d&&r.createElement(yn,{inputs:{originUrl:null==n?void 0:n.originUrl},isRedirectionEnabled:o}))))};_n.displayName="sharedui-OneKeyOnboarding"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-loyalty-one-key-onboarding.3121ed2f7ea915c21d43.js.map
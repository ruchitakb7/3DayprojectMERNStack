/*@license For license information please refer to shared-ui-retail-product-answering-traveller-questions.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7452],{74992:function(e,n,t){t.d(n,{EK:function(){return ht},Wx:function(){return Ge},tv:function(){return bt}});var a=t(96540),r=t(15043),l=t(1723),i=t(36360),o=t(75826),c=t(16484),u=t(15144),m=t(30313),s=t(34638),d=t(94220),v=t(90745),f=t(10159),g=t(85625),E=t(93149),p=t(94495),h=t(68963),b=t(68174),S=t(82960),y=t(69596),T=t(77969),k=t(21181),D=t(70313),F=t(74),I=t(63971),A=t(71831),C=t(67811),x=t(54206),N=t(1474),_=t(39938),O=t(46198),G=t(40051),R=t(67226),L=t(47576);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){z(e,n,t[n])}))}return e}function V(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function j(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(a=t.next()).done)&&(l.push(a.value),!n||l.length!==n);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==t.return||t.return()}finally{if(o)throw r}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function J(){var e=M(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    spotLight\n    title\n    theme\n    token\n    withBackground\n  }\n"]);return J=function(){return e},e}function Q(){var e=M(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    egdsElementId\n    graphic {\n      ...EGDSIconFragment\n    }\n    impressionAnalytics {\n      event\n      linkName\n      referrerId\n    }\n    size\n    text\n    theme\n  }\n  ","\n"]);return Q=function(){return e},e}function H(){var e=M(["\n  fragment TravellerClickActionFragment on TravellerClickAction {\n    clickEvent {\n      eventName\n      eventType\n      eventVersion\n      actionLocation\n    }\n    clickAnalytics {\n      referrerId\n      eventType\n      linkName\n    }\n  }\n"]);return H=function(){return e},e}function K(){var e=M(["\n  fragment DialogToolbarFragment on EGDSDialogToolbar {\n    closeText\n    title\n  }\n"]);return K=function(){return e},e}function U(){var e=M(["\n  fragment ErrorMessageFragment on EGDSErrorSummary {\n    heading\n    body {\n      ... on EGDSGraphicText {\n        text\n        graphic {\n          ...EGDSIconFragment\n        }\n      }\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function $(){var e=M(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    eventType\n    linkName\n    referrerId\n  }\n"]);return $=function(){return e},e}function Y(){var e=M(["\n  fragment EGDSButtonFragment on EGDSButton {\n    accessibility\n    disabled\n    icon {\n      ...EGDSIconFragment\n    }\n    primary\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Y=function(){return e},e}function q(){var e=M(["\n  fragment TravellerSearchDialogCTAFragment on TravellerSearchDialogCTA {\n    button {\n      ...EGDSButtonFragment\n    }\n    targetRef\n    impressionAnalytics {\n      ...TravellerClickActionFragment\n    }\n  }\n  ","\n  ","\n"]);return q=function(){return e},e}function W(){var e=M(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    text\n    graphic {\n      ...EGDSIconFragment\n      ... on Mark {\n        url {\n          ... on HttpURI {\n            value\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"]);return W=function(){return e},e}function X(){var e=M(["\n  fragment EGDSHeadingFragment on EGDSHeading {\n    accessibility\n    text\n  }\n"]);return X=function(){return e},e}function Z(){var e=M(["\n  fragment EGDSStylizedTextFragment on EGDSStylizedText {\n    accessibility\n    decorative\n    size\n    text\n    theme\n    weight\n  }\n"]);return Z=function(){return e},e}function ee(){var e=M(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return ee=function(){return e},e}function ne(){var e=M(["\n  fragment EGDSSpannableTextContentFragment on EGDSText {\n    ...EGDSHeadingFragment\n    ...EGDSStylizedTextFragment\n    ...EGDSPlainTextFragment\n    ...EGDSGraphicTextFragment\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ne=function(){return e},e}function te(){var e=M(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    text\n    inlineContent {\n      ...EGDSSpannableTextContentFragment\n    }\n  }\n\n  ","\n"]);return te=function(){return e},e}function ae(){var e=M(["\n  fragment FooterFragment on ReviewFooter {\n    primary {\n      ...EGDSStylizedTextFragment\n    }\n    text\n  }\n  ","\n"]);return ae=function(){return e},e}function re(){var e=M(["\n  fragment ReviewSummaryFragment on ReviewSummary {\n    footer {\n      ...FooterFragment\n    }\n    highlightedText {\n      ...EGDSSpannableTextFragment\n    }\n  }\n  ","\n  ","\n"]);return re=function(){return e},e}function le(){var e=M(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n      }\n      target\n    }\n    disabled\n    linkSize: size\n    text\n  }\n"]);return le=function(){return e},e}function ie(){var e=M(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    action {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      resource {\n        value\n        ... on HttpURI {\n          relativePath\n        }\n      }\n      target\n      useRelativePath\n    }\n    disabled\n    icon {\n      ...EGDSIconFragment\n    }\n    iconPosition\n    size\n    text\n  }\n\n  ","\n"]);return ie=function(){return e},e}function oe(){var e=M(["\n  fragment DirectFeedbackCallToActionElementFragment on DirectFeedbackCallToActionElement {\n    ...EGDSInlineLinkFragment\n  }\n  ","\n"]);return oe=function(){return e},e}function ce(){var e=M(["\n  fragment DirectFeedbackPostSubmitElementFragment on DirectFeedbackPostSubmitElement {\n    ...EGDSSpannableTextFragment\n  }\n  ","\n"]);return ce=function(){return e},e}function ue(){var e=M(["\n  fragment DirectFeedbackCallToActionFragment on DirectFeedbackCallToAction {\n    callToAction {\n      ...DirectFeedbackCallToActionElementFragment\n    }\n    contextValues {\n      key\n      value\n    }\n    postSubmitDisplay {\n      ...DirectFeedbackPostSubmitElementFragment\n    }\n    promptId\n  }\n  ","\n  ","\n"]);return ue=function(){return e},e}function me(){var e=M(["\n  fragment TravellerSearchFeedbackActionsFragment on TravellerSearchFeedbackAction {\n    clickAction {\n      ...TravellerClickActionFragment\n    }\n    directFeedbackCallToAction {\n      ...DirectFeedbackCallToActionFragment\n    }\n  }\n  ","\n  ","\n"]);return me=function(){return e},e}function se(){var e=M(["\n  fragment TravellerSearchFeedbackFragment on TravellerSearchFeedback {\n    title\n    travellerSearchFeedbackActions {\n      ...TravellerSearchFeedbackActionsFragment\n    }\n  }\n  ","\n"]);return se=function(){return e},e}function de(){var e=M(["\n  mutation ContentDirectFeedbackSubmitMutation($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        fieldId\n        error\n      }\n    }\n  }\n"]);return de=function(){return e},e}function ve(){var e=M(["\n  fragment TravellerSearchSummaryFragment on TravellerSearchSummary {\n    heading\n    description {\n      graphic {\n        ...EGDSIconFragment\n      }\n      text\n    }\n    highlightedText {\n      ...EGDSSpannableTextFragment\n    }\n    travellerSearchFeedback {\n      ...TravellerSearchFeedbackFragment\n    }\n    itemSummary {\n      impressionAnalytics {\n        clickEvent {\n          eventName\n          eventType\n          eventVersion\n          eventCategory\n          actionLocation\n        }\n      }\n      itemHeader\n      items {\n        ...ReviewSummaryFragment\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ve=function(){return e},e}function fe(){var e=M(["\n  fragment TravellerSearchResultsResponseFragment on TravellerSearchResultsResponse {\n    noResultsMessage\n    accessibility\n    content {\n      ...TravellerSearchSummaryFragment\n    }\n    review {\n      ...TravellerSearchSummaryFragment\n    }\n    callToAction {\n      ...TravellerSearchDialogCTAFragment\n    }\n    disclaimerText\n  }\n  ","\n  ","\n"]);return fe=function(){return e},e}function ge(){var e=M(["\n  query TravellerSearchQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!, $searchTerm: String) {\n    travellerSearch(context: $context, searchTerm: $searchTerm, productIdentifier: $productIdentifier) {\n      ...TravellerSearchResultsResponseFragment\n    }\n  }\n\n  ","\n"]);return ge=function(){return e},e}function Ee(){var e=M(["\n  fragment SearchButtonFragment on TravellerSearchButton {\n    button {\n      ...EGDSButtonFragment\n    }\n    searchAction {\n      ...TravellerClickActionFragment\n    }\n  }\n  ","\n  ","\n"]);return Ee=function(){return e},e}function pe(){var e=M(["\n  fragment EGDSInputFieldFragment on EGDSInputField {\n    instructions\n    label\n    placeholder\n    readOnly\n    required\n    value\n    leftIcon {\n      token\n    }\n  }\n"]);return pe=function(){return e},e}function he(){var e=M(["\n  fragment EGDSTextInputFieldFragment on EGDSTextInputField {\n    disabled\n    egdsElementId\n    ...EGDSInputFieldFragment\n  }\n\n  ","\n"]);return he=function(){return e},e}function be(){var e=M(["\n  fragment SearchInputFieldFragment on TravellerSearchInputField {\n    textInput {\n      ...EGDSTextInputFieldFragment\n    }\n    inputAction {\n      ...TravellerClickActionFragment\n    }\n  }\n  ","\n  ","\n"]);return be=function(){return e},e}function Se(){var e=M(["\n  fragment TravellerSearchInputFragment on TravellerSearchInput {\n    searchButton {\n      ...SearchButtonFragment\n    }\n    searchInputField {\n      ...SearchInputFieldFragment\n    }\n  }\n  ","\n  ","\n"]);return Se=function(){return e},e}function ye(){var e=M(["\n  fragment TravellerSearchContentDialogFragment on TravellerSearchDialog {\n    dialogToolbar {\n      ...DialogToolbarFragment\n    }\n    travellerSearchInput {\n      ...TravellerSearchInputFragment\n    }\n    closeAction {\n      ...TravellerClickActionFragment\n    }\n    errorMessage {\n      ...ErrorMessageFragment\n    }\n    impressionAnalytics {\n      clickEvent {\n        eventName\n        eventType\n        eventVersion\n        eventCategory\n        actionLocation\n      }\n    }\n    loadingStateAccessibility\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ye=function(){return e},e}function Te(){var e=M(["\n  fragment TravellerSearchContentFragment on TravellerSearch {\n    heading\n    paragraph\n    travellerSearchInput {\n      ...TravellerSearchInputFragment\n    }\n    travellerSearchDialog {\n      ...TravellerSearchContentDialogFragment\n    }\n    impressionAnalytics {\n      ...TravellerClickActionFragment\n    }\n    badge {\n      ...EGDSStandardBadgeFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return Te=function(){return e},e}function ke(){var e=M(["\n  fragment FloatingActionButtonFragment on ProductPrimaryFloatingActionButton {\n    button {\n      accessibility\n      icon {\n        id\n        token\n        description\n      }\n    }\n    clickAnalytics {\n      componentName\n      analytics {\n        eventName\n        eventType\n        eventVersion\n      }\n    }\n    impressionAnalytics {\n      componentName\n      analytics {\n        eventName\n        eventType\n        eventVersion\n      }\n    }\n  }\n"]);return ke=function(){return e},e}function De(){var e=M(["\n  fragment AnsweringTravellerQuestionsFloatingButtonFragment on TravellerSearch {\n    floatingActionButton {\n      ...FloatingActionButtonFragment\n    }\n    travellerSearchDialog {\n      ...TravellerSearchContentDialogFragment\n    }\n  }\n  ","\n  ","\n"]);return De=function(){return e},e}function Fe(){var e=M(["\n  query AnsweringTravellerQuestionsContentSearchQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput) {\n    answeringTravellerQuestions(context: $context, productIdentifier: $productIdentifier) {\n      ...TravellerSearchContentFragment\n      ...AnsweringTravellerQuestionsFloatingButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Fe=function(){return e},e}var Ie,Ae,Ce,xe=function(e){var n=e.componentName,t=e.reviewsCount;return n?{event:{event_name:e.eventName,event_type:e.eventType,event_version:e.eventVersion,action_location:e.actionLocation},additional_context:{user_interface:{component_name:e.componentName}}}:t?{event:{event_name:e.eventName,event_type:e.eventType,event_version:e.eventVersion,action_location:e.actionLocation},product_list:[{guest_rating_count:e.reviewsCount}]}:{event:{event_name:e.eventName,event_type:e.eventType,event_version:e.eventVersion,action_location:e.actionLocation}}},Ne="feedback_property_summary",_e="feedback_review_summary",Oe="traveller-search-content-dialog",Ge=function(e){return e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e}(Ge||{}),Re=a.createContext({inputs:{productIdentifier:{id:"",type:"PROPERTY_ID"}},dialogKey:"pwaDialog",dialogId:Oe}),Le=function(){return a.useContext(Re)},we=Object.freeze((z(Ie={},E.u.STANDARD,"standard"),z(Ie,E.u.POSITIVE,"positive"),z(Ie,E.u.EMPHASIS,"emphasis"),z(Ie,E.u.INFO,"info"),z(Ie,E.u.FEATURED,"featured"),z(Ie,E.u.BRAND,"brand"),z(Ie,E.u.WARNING,"warning"),Ie)),ze=Object.freeze((z(Ae={},E.t.SMALL,"small"),z(Ae,E.t.LARGE,"large"),Ae)),Pe=(z(Ce={},"INFO","info"),z(Ce,"POSITIVE","positive"),z(Ce,"WARNING","warning"),z(Ce,"STANDARD","standard"),Ce),Ve=(0,r.J1)(J()),je=function(e){var n=e.className,t=e.defaultIconSize,r=e.data,l=e.spotlight,i=r.id,o=r.token;if(!i||!o)return null;var c=r.description,u=r.withBackground,m=r.size,s=r.spotLight,d=r.title,v=r.theme;return a.createElement(p.a,{className:n,description:c,id:i,name:o,shadow:null!=u?u:void 0,size:m?p.E[m]:t,spotlight:s?Pe[s]:l,title:null!=d?d:void 0,theme:null!=v?v:void 0})};je.fragment=Ve,je.displayName="ProductEGDSIcon";var Be=(0,r.J1)(Q(),je.fragment),Me=function(e){var n=e.data,t=e.theme,r=void 0===t?E.u.STANDARD:t,l=e.size,i=void 0===l?E.t.SMALL:l,o=j(e,["data","theme","size"]),c=n.text,u=n.graphic;if(!c)return null;var m=P({theme:(null==n?void 0:n.theme)?we[n.theme]:r,size:(null==n?void 0:n.size)?ze[n.size]:i},o);return a.createElement(E.p,P({text:c},m),u&&"Icon"===(null==u?void 0:u.__typename)?a.createElement(je,{data:u,defaultIconSize:p.E.SMALL}):null)};Me.fragment=Be,Me.displayName="EGDSStandardBadge";var Je=(0,r.J1)(H()),Qe=(0,r.J1)(K()),He=function(e){var n=e.data,t=e.closeDialog,r=n.title,l=n.closeText;return a.createElement(S.b,{navigationContent:{onClick:function(e){t(e)},navIconLabel:null!=l?l:"",navButtonId:"traveller-search-dialog-close"},toolbarTitle:r,toolbarTitleTag:"h2"})};He.fragment=Qe,He.displayName="DialogToolbar";var Ke=(0,r.J1)(U(),je.fragment),Ue=function(e){var n,t=e.data.body;return"EGDSGraphicText"!==(null==t?void 0:t.__typename)||"Icon"!==(null==t||null===(n=t.graphic)||void 0===n?void 0:n.__typename)?null:a.createElement(u.j,null,a.createElement(je,{data:null==t?void 0:t.graphic,spotlight:{theme:"standard",background:!1}}))},$e=function(e){var n=e.data.body;return"EGDSGraphicText"===(null==n?void 0:n.__typename)&&(null==n?void 0:n.text)?a.createElement(v.c,null,null==n?void 0:n.text):null},Ye=function(e){var n=e.data;if(!(null==n?void 0:n.heading)&&!(null==n?void 0:n.body))return null;var t=n.heading;return a.createElement(y.E,{theme:"error"},a.createElement(u.i,{alignItems:"center",space:"two"},a.createElement(Ue,{data:n}),a.createElement(u.j,null,a.createElement("div",{"aria-live":"polite"},a.createElement(v.E,{size:7,tag:"h3"},t),a.createElement($e,{data:n})))))};Ye.fragment=Ke,Ye.displayName="ErrorMessage";var qe=function(e){var n=e.accessibility;return a.createElement(u.i,{blockSize:"full_size",direction:"column"},a.createElement(u.j,{alignSelf:"center"},a.createElement(d.b,{margin:{blockstart:"twelve",blockend:"six"}},a.createElement("div",{"aria-live":"polite"},a.createElement(D.E,null),n&&a.createElement("span",{className:"is-visually-hidden","aria-live":"polite"},n)))))};qe.displayName="LoadingPlaceholder";var We=(0,r.J1)($()),Xe=(0,r.J1)(Y(),je.fragment,We),Ze=a.forwardRef((function(e,n){var t=e.data,r=e.disabled,l=e.onClickHandler,i=e.isFullWidth,o=e.size,c=e.className,u=e.type,m=e.iconPosition,s=void 0===m?"LEADING":m,d=t.__typename,v=t.accessibility,f=t.icon,g=t.primary,E={disabled:r,onClick:l,"aria-label":null!=v?v:void 0,isFullWidth:i,size:o,className:c,type:null!=u?u:"button",domRef:null!=n?n:null},p=(0,a.useMemo)((function(){var e=g||null;if(f){var n=a.createElement(je,{key:"trailing-icon",data:f});return"TRAILING"===s?[e,n]:[n,e]}return e}),[f,s,g]);switch(d){case"UIPrimaryButton":return a.createElement(A.E,P({},E),p);case"UISecondaryButton":return a.createElement(C.E,P({},E),p);default:return null}}));Ze.fragment=Xe,Ze.displayName="ProductEGDSButton";var en=(0,r.J1)(q(),Ze.fragment,Je),nn=function(e){var n=e.data,t=n.button,r=n.targetRef,l=(0,I.xC)().scrollTo,i=Le(),c=i.dialogId,m=i.dialogKey,s=B((0,f.useDialog)(c,m),2)[1],v=(0,a.useCallback)((function(){null==s||s.closeDialog(),r&&setTimeout((function(){l(r,[])}),1e3)}),[r,l,s]);if(!t)return null;var g=n.impressionAnalytics,E=a.createElement(d.b,{margin:{blockstart:"six"}},a.createElement(u.i,{direction:"column"},a.createElement(u.j,{alignSelf:"center"},a.createElement(Ze,{size:F.E.MEDIUM,isFullWidth:!1,data:t,onClickHandler:v}),";")));return(null==g?void 0:g.clickEvent)?a.createElement(o.E0,{eventData:function(e){if(!e)return{};var n=e.eventName,t=e.eventType,a=e.eventVersion,r=e.actionLocation;return xe({eventName:n,eventVersion:a,eventType:t,actionLocation:r||""})}(g.clickEvent)},E):a.createElement(a.Fragment,null,E)};nn.fragment=en,nn.displayName="TravellerSearchDialogCTA";var tn=(0,r.J1)(W(),je.fragment),an=function(e){var n=e.data,t=e.textProps,r=e.size,l=void 0===r?200:r;if(!(null==n?void 0:n.text))return null;var i,o=n.text,c=n.graphic;return a.createElement(v.c,P({size:l},t),"Icon"===c.__typename?a.createElement(je,{data:c}):"Mark"===c.__typename?a.createElement(d.b,{padding:{inlineend:"two"}},a.createElement(N.E,{url:null===(i=c.url)||void 0===i?void 0:i.value,size:N.c.SMALL})):void 0,o)};an.fragment=tn,an.displayName="EGDSGraphicText";var rn,ln=(0,r.J1)(X()),on=function(e){var n=e.data,t=e.className,r=e.size,l=e.align,i=e.tag,o=n.accessibility,c=n.text;return c?a.createElement(v.E,{className:t,size:r,align:l,tag:i,"aria-label":null!=o?o:void 0},c):null};on.fragment=ln,on.displayName="ProductEGDSHeading";var cn,un=Object.freeze((z(rn={},"NEGATIVE","negative"),z(rn,"POSITIVE","positive"),z(rn,"PRIMARY","emphasis"),z(rn,"SECONDARY","default"),z(rn,"LOYALTY","loyalty"),z(rn,"INVERSE","inverse"),z(rn,"default","default"),rn)),mn=Object.freeze((z(cn={},"BOLD","bold"),z(cn,"MEDIUM","medium"),z(cn,"REGULAR","regular"),cn)),sn=Object.freeze({100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900}),dn=Object.freeze({HIGHLIGHT:"mark",LINE_THROUGH:"s",SUBSCRIPT:"sub",SUPERSCRIPT:"sup",UNDERLINE:"u"}),vn=(0,r.J1)(Z()),fn=function(e){var n=e.data,t=e.theme,r=void 0===t?"default":t,l=e.weight,i=void 0===l?"regular":l,o=e.size,c=void 0===o?300:o,u=j(e,["data","theme","weight","size"]);if(!(null==n?void 0:n.text))return null;var m=n.text,s=n.decorative,d=n.accessibility,f=P({theme:(null==n?void 0:n.theme)?un[n.theme]:r,weight:(null==n?void 0:n.weight)?mn[n.weight]:i,size:(null==n?void 0:n.size)?sn[n.size]:c},u),g=s&&dn[s],E=g?a.createElement(g,null,m):m;return a.createElement(a.Fragment,null,a.createElement(v.c,P({"aria-hidden":Boolean(d)},f),E),d&&a.createElement("span",{className:"is-visually-hidden"},d))};fn.fragment=vn,fn.displayName="EGDSStylizedText";var gn=(0,r.J1)(ee()),En=function(e){var n=e.className,t=e.inline,r=e.size,l=e.align,i=e.data,o=e.spacing;if(!(null==i?void 0:i.text))return null;var c=i.text;return a.createElement(v.c,{className:n,inline:t,size:r,align:l,spacing:o},c)};En.fragment=gn,En.displayName="EGDSPlainText";var pn=(0,r.J1)(ne(),on.fragment,fn.fragment,En.fragment,an.fragment),hn=function(e){var n=e.className,t=e.size,r=e.headingProps,l=e.data,i=e.inline;switch(l.__typename){case"EGDSHeading":return a.createElement(on,P({data:l},r));case"EGDSStylizedText":return a.createElement(fn,{className:n,data:l,size:t,inline:i});case"EGDSPlainText":return a.createElement(En,{className:n,data:l,size:t,inline:i});case"EGDSGraphicText":return a.createElement(an,{data:l,size:t});default:return null}};hn.fragment=pn,hn.displayName="EGDSSpannableTextContent";var bn=(0,r.J1)(te(),hn.fragment),Sn=function(e){var n,t=e.align,r=e.data,l=j(e,["align","data"]);return(null==r||null===(n=r.inlineContent)||void 0===n?void 0:n.length)?a.createElement(a.Fragment,null,r.inlineContent.map((function(e,n){return a.createElement(hn,V(P({data:e},l),{key:"spannable-item-".concat(n)}))}))):(null==r?void 0:r.text)?a.createElement(v.c,V(P({},l),{inline:!0,align:t}),r.text):null};Sn.fragment=bn,Sn.displayName="EGDSSpannableText";var yn=(0,r.J1)(ae(),fn.fragment),Tn=function(e){var n=e.data,t=n.primary,r=n.text;if(!t&&!r)return null;return a.createElement(d.b,{padding:{blockstart:"two"}},a.createElement(v.c,null,t&&a.createElement(fn,{data:t,inline:!0,size:200,weight:"medium"}),r&&a.createElement(d.b,{padding:t?{inlinestart:"two"}:void 0},a.createElement(v.c,{inline:!0,size:200,weight:"regular"},r))))};Tn.fragment=yn,Tn.displayName="Footer";var kn,Dn=(0,r.J1)(re(),Tn.fragment,Sn.fragment),Fn=function(e){var n=e.data,t=(0,a.useCallback)((function(e){var n;return e?(null==e||null===(n=e.inlineContent)||void 0===n?void 0:n.length)?a.createElement(x.Vx,{size:400,inlineContentList:e.inlineContent}):null==e?void 0:e.text:null}),[]),r=(0,a.useMemo)((function(){return t(null==n?void 0:n.highlightedText)}),[n,t]);if(!(null==n?void 0:n.footer)&&!(null==n?void 0:n.highlightedText))return null;var l=n.footer,i=n.highlightedText;return a.createElement(d.b,{margin:{blockstart:"six"}},a.createElement("div",null,i&&a.createElement(v.a,{size:1},r),l&&a.createElement(Tn,{data:l})))};Fn.fragment=Dn,Fn.displayName="ReviewSummary";var In,An=(z(kn={},"SMALL","small"),z(kn,"MEDIUM","medium"),z(kn,"LARGE","large"),kn),Cn=(z(In={},"EXTERNAL","_blank"),z(In,"INTERNAL","_self"),In),xn=(0,r.J1)(le()),Nn=function(e){var n=e.className,t=e.data,r=e.size,l=void 0===r?"medium":r,i=e.inline,o=void 0===i||i,c=e.onLinkClick,u=e.type,m=void 0===u?"link":u,s=(0,a.useMemo)((function(){if(!t)return null;var e=t.text,n=(t.action||{}).accessibility;return a.createElement(a.Fragment,null,a.createElement("span",{"aria-hidden":Boolean(n)},e),n&&a.createElement("span",{className:"is-visually-hidden"},n))}),[t]),d=(0,a.useMemo)((function(){if(!t)return null;var e,n=t.action;return"button"===m?a.createElement("button",{type:"button"},s):a.createElement("a",{href:null==n||null===(e=n.resource)||void 0===e?void 0:e.value,target:(null==n?void 0:n.target)?Cn[n.target]:void 0},s)}),[t,s,m]);if(!(null==t?void 0:t.text))return null;var v=t.disabled,f=t.linkSize;return a.createElement(O.E,{className:n,size:f?An[f]:l,onClickCapture:c,disabled:v,inline:o},d)};Nn.fragment=xn,Nn.displayName="EGDSInlineLink";var _n=(0,r.J1)(ie(),je.fragment),On=function(e){var n=e.data,t=e.size,r=void 0===t?"medium":t,l=e.type,i=void 0===l?"link":l,o=j(e,["data","size","type"]),c=a.useMemo((function(){if(!(null==n?void 0:n.action))return"";var e=n.action||{},t=e.resource,a=e.useRelativePath;return"HttpURI"===(null==t?void 0:t.__typename)&&a?null==t?void 0:t.relativePath:null==t?void 0:t.value}),[n]),u=(0,a.useMemo)((function(){if(!n)return null;var e=n.text,t=n.action,r=n.icon,l=n.iconPosition,i=(t||{}).accessibility;return a.createElement(a.Fragment,null,r?a.createElement(a.Fragment,null,"LEADING"===l&&a.createElement(je,{data:r}),a.createElement("span",{"aria-hidden":Boolean(i)},e),"TRAILING"===l&&a.createElement(je,{data:r})):a.createElement("span",{"aria-hidden":Boolean(i)},e),i&&a.createElement("span",{className:"is-visually-hidden"},i))}),[n]),m=(0,a.useMemo)((function(){if(!n)return null;var e=n.action;return"button"===i?a.createElement("button",{type:"button"},u):a.createElement("a",{href:c,target:(null==e?void 0:e.target)?Cn[e.target]:void 0},u)}),[n,u,i,c]);if(!(null==n?void 0:n.text))return null;var s=n.disabled,d=n.size;return a.createElement(O.E,P({size:d?An[d]:r,disabled:s},o),m)};On.fragment=_n,On.displayName="EGDSStandardLink";var Gn=(0,r.J1)(oe(),Nn.fragment),Rn=function(e){var n=e.data,t=e.handleClick;return"EGDSInlineLink"===(null==n?void 0:n.__typename)?a.createElement(Nn,{data:n,size:"medium",inline:!1,onLinkClick:t,type:"button"}):null};Rn.fragment=Gn,Rn.displayName="DirectFeedbackCallToActionElement";var Ln=(0,r.J1)(ce(),Sn.fragment),wn=function(e){var n=e.data;return"EGDSSpannableText"===(null==n?void 0:n.__typename)?a.createElement(Sn,{data:n,inline:!0}):null};wn.fragment=Ln,wn.displayName="DirectFeedbackPostSubmitElement";var zn=(0,r.J1)(ue(),Rn.fragment,wn.fragment),Pn=function(e){var n=e.directFeedbackCallToActionElement,t=void 0===n?null:n,r=e.postSubmitDisplayElement,l=void 0===r?null:r;return a.createElement(a.Fragment,null,t,l)};Pn.fragment=zn,Pn.displayName="DirectFeedbackCallToAction";var Vn=(0,r.J1)(me(),Pn.fragment,Je),jn=function(e){var n=e.data,t=e.selectedFeedbackValue,r=e.handleCallToActionElementClick,l=B((0,a.useState)(!1),2),i=l[0],c=l[1],m=n.directFeedbackCallToAction,s=n.clickAction,d=(0,o.iQ)(),v=(0,a.useCallback)((function(e){if(!e)return null;var n=e.eventName,t=e.eventType,a=e.eventVersion,r=e.actionLocation,l=xe({eventName:n,eventVersion:a,eventType:t,actionLocation:r||""});d(l)}),[d]),f=(0,a.useCallback)((function(e){null==e||e.preventDefault(),r&&r(null==m?void 0:m.contextValues,null==m?void 0:m.promptId),(null==s?void 0:s.clickEvent)&&v(s.clickEvent)}),[m,r,s,v]);if((0,a.useEffect)((function(){var e;if(t&&(null==m||null===(e=m.contextValues)||void 0===e?void 0:e.length)){var n=m.contextValues,a=null==n?void 0:n.find((function(e){return e.key===Ne||e.key===_e}));(null==a?void 0:a.value)===t&&c(!0)}}),[t,m]),!(null==n?void 0:n.directFeedbackCallToAction))return null;var g=(null==m?void 0:m.callToAction)&&!t?a.createElement(u.j,{shrink:1,grow:0},a.createElement("div",null,a.createElement(Rn,{data:null==m?void 0:m.callToAction,handleClick:f}))):null,E=(null==m?void 0:m.postSubmitDisplay)&&i?a.createElement(u.j,{shrink:1,grow:0},a.createElement(wn,{data:null==m?void 0:m.postSubmitDisplay})):null;return a.createElement(a.Fragment,null,m&&a.createElement(Pn,{data:m,directFeedbackCallToActionElement:g,postSubmitDisplayElement:E}))};jn.fragment=Vn,jn.displayName="TravellerSearchFeedbackActions";var Bn=(0,r.J1)(se(),jn.fragment),Mn=(0,r.J1)(de()),Jn=function(e){var n=e.data,t=n.title,r=n.travellerSearchFeedbackActions,l=B((0,a.useState)(),2),o=l[0],c=l[1],m=B((0,_.n)(Mn),1)[0],s=(0,i.R)().context,f=(0,a.useCallback)((function(e,n){var t=e.find((function(e){return e.key===Ne||e.key===_e}));t&&c(null==t?void 0:t.value);var a,r={context:null==(a=e)?void 0:a.map((function(e){var n=P({},e);return null==n||delete n.__typename,n})),formValues:[]};m({variables:{context:s,feedback:r,id:n}})}),[s,m]);return a.createElement(a.Fragment,null,t&&a.createElement(d.b,{padding:{blockstart:"six"}},a.createElement(u.i,{space:"three"},a.createElement(u.j,{shrink:0},t&&!o&&a.createElement(v.c,{weight:"regular"},t)),(null==r?void 0:r.length)&&r.map((function(e,n){return a.createElement(jn,{key:"traveller-search-feedback-action-".concat(n),data:e,handleCallToActionElementClick:f,selectedFeedbackValue:o})})))))};Jn.fragment=Bn,Jn.displayName="TravellerSearchFeedback";var Qn=(0,r.J1)(ve(),Sn.fragment,Jn.fragment,Fn.fragment,je.fragment),Hn=function(e){var n,t,r,l=e.data,i=l.highlightedText,m=l.travellerSearchFeedback,s=l.heading,f=l.description,g=l.itemSummary,E=null==g||null===(n=g.impressionAnalytics)||void 0===n?void 0:n.clickEvent,h=(0,a.useCallback)((function(e){var n;return e?(null==e||null===(n=e.inlineContent)||void 0===n?void 0:n.length)?a.createElement(x.Vx,{size:400,inlineContentList:e.inlineContent}):null==e?void 0:e.text:null}),[]),b=(0,a.useMemo)((function(){return h(i)}),[i,h]),S=(0,a.useCallback)((function(e){var n;if(!e)return{};var t=e.eventName,a=e.eventType,r={eventName:t,eventVersion:e.eventVersion,eventType:a,actionLocation:e.actionLocation||"",reviewsCount:(null==g||null===(n=g.items)||void 0===n?void 0:n.length)||0};return xe(r)}),[]),y=a.createElement(a.Fragment,null,s&&a.createElement(d.b,{margin:{block:"four"}},a.createElement(v.E,{tag:"h3",size:6},s)),i&&a.createElement(c.i,{backgroundTheme:"secondary"},a.createElement(c.m,{padded:!0},a.createElement(v.c,{spacing:"one"},b),f&&a.createElement(d.b,{margin:{blockstart:"three",blockend:"one"}},a.createElement(u.i,{direction:"row"},"Icon"===f.graphic.__typename&&a.createElement(d.b,{margin:{inlineend:"one"}},a.createElement(je,{data:f.graphic,defaultIconSize:p.E.EXTRA_SMALL})),a.createElement(v.c,{size:200},f.text))))),m&&a.createElement(Jn,{data:m}),((null==g?void 0:g.itemHeader)||(null==g||null===(t=g.items)||void 0===t?void 0:t.length))&&i?a.createElement(d.c,null):null,(null==g?void 0:g.itemHeader)&&a.createElement(d.b,{margin:{blockstart:"six"}},a.createElement(v.E,{tag:"h4",size:6},g.itemHeader)),(null==g||null===(r=g.items)||void 0===r?void 0:r.length)?a.createElement("div",null,g.items.map((function(e,n){return a.createElement(Fn,{data:e,key:"review-".concat(n)})}))):null);return E?a.createElement(o.E0,{eventData:S(E)},y):y};Hn.fragment=Qn,Hn.displayName="TravellerSearchSummary";var Kn=(0,r.J1)(fe(),Hn.fragment,nn.fragment),Un=function(e){var n=e.data,t=n.content,r=n.review,l=n.noResultsMessage,i=n.disclaimerText,o=n.accessibility,c=n.callToAction,u=Le().dialogKey;return a.createElement(d.b,{margin:{blockstart:"four",blockend:"six"}},a.createElement("div",null,o&&a.createElement("span",{className:"is-visually-hidden","aria-live":"polite",role:"status"},o),t&&!l&&a.createElement(Hn,{data:t}),r&&t&&a.createElement("div",null,a.createElement(d.c,{blockMargin:"six"})),r&&!l&&a.createElement(Hn,{data:r}),l&&a.createElement(v.a,{size:1},l),"pwaDialog"===u&&a.createElement(g.Experiment,{name:"Enable_Book_Now_on_Traveller_Q_and_A"},a.createElement(g.ExperimentControl,null),a.createElement(g.ExperimentVariant,{bucket:1},c&&a.createElement(nn,{data:c}))),i&&a.createElement(d.b,{margin:{blockstart:"six"}},a.createElement(v.c,{size:100,weight:"regular",theme:"default"},i))))};Un.fragment=Kn,Un.displayName="TravellerSearchResultsResponse";var $n=(0,r.J1)(ge(),Un.fragment),Yn=function(e){var n=e.searchTerm,t=e.inputs,r=e.onSearchError,l=e.loadingStateAccessibility,o=(0,i.R)().context,c=(0,a.useCallback)((function(e){e&&null===(null==e?void 0:e.travellerSearch)&&r()}),[r]),u=B((0,T._)($n,{ssr:!0,fetchPolicy:"no-cache",onCompleted:c}),2),m=u[0],s=u[1],d=s.loading,v=s.error,f=s.data,g=(0,a.useCallback)((function(){if(null==n?void 0:n.trim().length){var e=V(P({context:o},t),{searchTerm:n});m({variables:e})}}),[o,n,t,m]),E=(0,a.useCallback)((function(){var e,n;(null==f||null===(e=f.travellerSearch)||void 0===e?void 0:e.accessibility)&&(0,k.liveAnnounce)(null==f||null===(n=f.travellerSearch)||void 0===n?void 0:n.accessibility,k.Level.POLITE)}),[f]),p=(0,a.useCallback)((function(){l&&(0,k.liveAnnounce)(l,k.Level.POLITE)}),[l]);if((0,a.useEffect)(g,[n,g]),(0,a.useEffect)(E,[f,E]),d)return p(),a.createElement(qe,{accessibility:l});if(v)return r(),null;if(!(null==f?void 0:f.travellerSearch))return null;var h=f.travellerSearch;return a.createElement(Un,{data:h})};Yn.displayName="TravellerSearch";var qn=(0,r.J1)(Ee(),Ze.fragment,Je),Wn=a.forwardRef((function(e,n){var t=e.data.button,r=e.isSubmitDisabled,l=e.handleOnClick;return a.createElement(a.Fragment,null,t&&a.createElement(Ze,{data:t,type:"submit",onClickHandler:l,size:F.E.LARGE,ref:null!=n?n:null,disabled:r}))}));Wn.fragment=qn,Wn.displayName="SearchButton";var Xn=(0,r.J1)(pe()),Zn=(0,r.J1)(he(),Xn),et=a.forwardRef((function(e,n){var t=e.data,r=(e.ref,j(e,["data","ref"])),l=t.disabled,i=t.egdsElementId,o=t.instructions,c=t.label,u=t.placeholder,m=t.readOnly,s=t.required,d=t.leftIcon;return a.createElement(G.b,P({disabled:null!=l&&l,id:null!=i?i:void 0,instruction:null!=o?o:void 0,label:c,name:null!=i?i:void 0,placeholder:null!=u?u:void 0,readOnly:m,required:null!=s&&s,icon:(null==d?void 0:d.token)||void 0,domRef:null!=n?n:null},r))}));et.fragment=Zn,et.displayName="EGDSTextInputField";var nt=(0,r.J1)(be(),et.fragment,Je),tt=a.forwardRef((function(e,n){var t=e.data,r=e.handleChange,l=e.handleClear,i=e.inputValue,c=e.inputSize,u=void 0===c?100:c,m=e.handleOnKeyDown,s=t.textInput,d=t.inputAction,v=(0,o.iQ)(),f=(0,a.useCallback)((function(e){var n=e.clickEvent,t=n.eventName,a=n.eventType,r=n.eventVersion,l=n.actionLocation,i=xe({eventName:t,eventVersion:r,eventType:a,actionLocation:l||""});v(i)}),[v]),g=(0,a.useCallback)((function(e){(null==d?void 0:d.clickEvent)&&f(d)}),[d,f]);return a.createElement(a.Fragment,null,s&&a.createElement(et,{data:s,size:u,hasClearButton:!0,value:i,onChange:r,onFocus:g,handleClear:l,onKeyDown:m,type:"search",ref:null!=n?n:null}))}));tt.fragment=nt,tt.displayName="SearchInputField";var at=(0,r.J1)(Se(),Wn.fragment,tt.fragment),rt=a.forwardRef((function(e,n){var t=e.data,r=e.handleSubmit,l=e.searchTermValue,i=e.showSubmitButton,c=void 0===i||i,m=e.handleSearchTermClear,s=e.inputSize,d=t.searchButton,v=t.searchInputField,f=B((0,a.useState)(),2),g=f[0],E=f[1],p=B((0,a.useState)(!0),2),h=p[0],b=p[1],S=(0,o.iQ)(),y=(0,a.useCallback)((function(e){var n=e.clickEvent,t=n.eventName,a=n.eventType,r=n.eventVersion,l=n.actionLocation,i=xe({eventName:t,eventVersion:r,eventType:a,actionLocation:l||""});S(i)}),[S]),T=(0,a.useCallback)((function(){var e;(null==g?void 0:g.trim())!==l&&((null==d||null===(e=d.searchAction)||void 0===e?void 0:e.clickEvent)&&y(d.searchAction));r(g)}),[r,g,d,y,l]),k=(0,a.useCallback)((function(e){var n=e.target.value;E(n)}),[E]);return(0,a.useEffect)((function(){(null==l?void 0:l.trim().length)&&E(l)}),[l]),(0,a.useEffect)((function(){(null==g?void 0:g.trim().length)?b(!1):b(!0)}),[g]),a.createElement(u.i,{space:"three"},v&&a.createElement(u.j,null,a.createElement(tt,{data:v,inputValue:g,handleChange:k,handleClear:m,handleOnKeyDown:function(e){"Enter"===e.key&&(T(),e.preventDefault())},inputSize:s,ref:null!=n?n:null})),d&&c&&a.createElement(u.j,null,a.createElement(Wn,{data:d,handleOnClick:T,ref:null,isSubmitDisabled:h})))}));rt.fragment=at,rt.displayName="TravellerSearchInput";var lt=(0,r.J1)(ye(),He.fragment,rt.fragment,Je,Ye.fragment),it=function(e){var n=e.data,t=e.triggerRef,r=void 0===t?null:t,l=e.isDialogOpen,i=e.closeDialog,c=e.searchTermValue,m=B((0,a.useState)(""),2),s=m[0],d=m[1],v=B((0,a.useState)(!1),2),g=v[0],E=v[1],p=Le(),S=p.dialogId,y=p.dialogKey,T=p.inputs,k=B((0,f.useDialog)(S,y),3)[2],D=(0,b.eg)({viewSizes:b.pf}),F=(0,o.iQ)(),I=D<=b.pf[b.OB.SMALL],A=n.dialogToolbar,C=n.travellerSearchInput,x=n.errorMessage,N=n.loadingStateAccessibility,_=n.closeAction,O=n.impressionAnalytics,G=(0,a.useCallback)((function(){if(null==_?void 0:_.clickEvent){var e=_.clickEvent,n=e.eventName,t=e.eventType,a=e.eventVersion,r=e.actionLocation,l=xe({eventName:n,eventVersion:a,eventType:t,actionLocation:r||""});F(l)}i()}),[i,_,F]),R=(0,a.useCallback)((function(e){d(e)}),[d]),L=(0,a.useCallback)((function(){E(!0)}),[E]),w=(0,a.useCallback)((function(){s&&d("")}),[s,d]);(0,a.useEffect)((function(){c&&d(c)}),[c]);var z=(0,a.useMemo)((function(){return a.createElement(Yn,{inputs:T,searchTerm:s,onSearchError:L,loadingStateAccessibility:N})}),[s,L,T,N]),P=a.createElement(h.h,{isVisible:l},a.createElement(k,null,a.createElement(h.e,{returnFocusOnClose:!0,triggerRef:r,isVisible:l,type:I?"full":"centered",height:I?void 0:594},A&&a.createElement(He,{data:A,closeDialog:G}),a.createElement(h.f,null,a.createElement(u.i,{blockSize:"full_size",wrap:"nowrap",direction:"column"},g?a.createElement(u.j,null,x&&a.createElement(Ye,{data:x})):a.createElement(a.Fragment,null,C&&a.createElement(u.j,null,a.createElement(rt,{data:C,handleSubmit:R,searchTermValue:s,ref:null,handleSearchTermClear:w})),a.createElement(u.j,{alignSelf:"stretch"},a.createElement("div",{"aria-live":"polite"},z))))))));return(null==O?void 0:O.clickEvent)?a.createElement(o.E0,{eventData:function(e){if(!(null==e?void 0:e.clickEvent))return{};var n=e.clickEvent,t=n.eventName,a=n.eventType,r=n.eventVersion,l=n.actionLocation;return xe({eventName:t,eventVersion:r,eventType:a,actionLocation:l||""})}(O)},P):P};it.fragment=lt,it.displayName="TravellerSearchContentDialog";var ot=(0,r.J1)(Te(),rt.fragment,it.fragment,Je,Me.fragment),ct=function(e){var n=e.data,t=B((0,a.useState)(""),2),r=t[0],l=t[1],i=Le(),o=i.dialogId,E=i.dialogKey,p=B((0,f.useDialog)(o,E),2),h=p[0],b=p[1],S=(0,a.useRef)(null),y=n.heading,T=n.paragraph,k=n.travellerSearchInput,D=n.travellerSearchDialog,F=n.badge,I=1===(0,g.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,A=(0,a.useCallback)((function(e){l(e),b.openDialog()}),[l,b]),C=(0,a.useCallback)((function(){b.closeDialog()}),[b]),x=(0,a.useCallback)((function(){r&&l("")}),[r,l]),N=(0,a.useMemo)((function(){return a.createElement(a.Fragment,null,k&&a.createElement(m.a,{colSpan:1},a.createElement(rt,{data:k,handleSubmit:A,ref:S,handleSearchTermClear:x,inputSize:200})))}),[k,A,S,x]);return a.createElement(s.d,{type:"relative"},a.createElement(d.b,{margin:{blockstart:I?"eight":"six",blockend:I?"eight":"six",small:{inline:"pwaDialog"===E?"three":"unset"},medium:{inline:"unset"}},padding:{block:I?void 0:"six",large:{inline:"six"},extra_large:{inline:"six"}}},a.createElement(c.i,{border:!0,backgroundTheme:F?"highlight":void 0},a.createElement(c.m,null,D&&h?a.createElement(it,{data:D,triggerRef:S,closeDialog:C,isDialogOpen:h,searchTermValue:r}):null,a.createElement(m.E,{space:"three",columns:1,"data-testid":"traveller-qa-section"},a.createElement(m.a,{colSpan:1},a.createElement(u.i,{justifyContent:"space-between"},y&&a.createElement(u.j,null,a.createElement(v.E,{tag:"h2",size:I?5:4},y)),F&&a.createElement(u.j,null,a.createElement(Me,{data:F,size:"large",theme:"emphasis"})))),T&&a.createElement(m.a,{colSpan:1},a.createElement("div",null,a.createElement(v.a,{size:1},T))),N)))))};ct.fragment=ot,ct.displayName="TravellerSearchContent";var ut=(0,r.J1)(ke()),mt=["Offers","TravellerQnA"],st=function(e){var n,t=e.data,r=e.onButtonClick,l=e.triggerRef,i=B(a.useState(!0),2),c=i[0],m=i[1],v=B(a.useState("top_of_PDP"),2),f=v[0],g=v[1],E=(0,o.iQ)(),p=(0,I.OK)().getTargets,h=t||{},b=h.clickAnalytics,S=h.button,y=S.icon,T=S.accessibility,k=mt.map((function(e){return{id:e,ref:p([e])[e]||{current:null}}})),D=(0,a.useCallback)((function(){b&&E(function(e,n){if(!(null==e?void 0:e.analytics)||!(null==e?void 0:e.componentName))return{};var t=e.analytics,a=t.eventName,r=t.eventType,l={eventName:a,eventVersion:t.eventVersion,eventType:r,actionLocation:n,componentName:e.componentName};return xe(l)}(b,f)),r()}),[f,b,r,E]),F=(0,a.useCallback)((function(e){var n;n=Object.keys(e).some((function(n){return("Offers"===n||"TravellerQnA"===n)&&e[n]===I.h1.PARTIAL_TOP||e[n]===I.h1.PARTIAL_BOTTOM||e[n]===I.h1.ENTER_COMPLETE})),m(!n),Object.keys(e).forEach((function(n){"TravellerQnA"===n&&e[n]===I.h1.EXIT_TOP_COMPLETE&&g("bottom_of_PDP"),"TravellerQnA"===n&&e[n]===I.h1.EXIT_BOTTOM_COMPLETE&&g("top_of_PDP")}))}),[g,m]);return(0,I.c5)(k,F,{thresholds:[0]}),c?a.createElement(I.Rn,{name:"fab-travellerQnA",dataStid:"fab-travellerQnA"},a.createElement(u.i,{direction:"row-reverse"},a.createElement(u.j,null,a.createElement(s.d,{type:"fixed",position:{bottom:"four",zindex:"layer7"}},a.createElement(d.b,{margin:{small:{blockend:"sixteen",inlineend:"four"},large:{blockend:"unset"}}},a.createElement(x.rG,{domRef:l,onClick:D,iconId:null!==(n=null==y?void 0:y.id)&&void 0!==n?n:"",inverse:!0,accessibilityText:null!=T?T:""})))))):null};st.fragment=ut,st.displayName="FloatingActionButton";var dt=(0,r.J1)(De(),st.fragment,it.fragment),vt=function(e){var n=e.data,t=Le(),r=t.dialogId,l=t.dialogKey,i=B((0,f.useDialog)(r,l),2),c=i[0],u=i[1],m=a.useRef(null),s=n||{},d=s.floatingActionButton,v=s.travellerSearchDialog,g=(d||{}).impressionAnalytics,E=(0,a.useCallback)((function(){c||u.openDialog()}),[u,c]),p=(0,a.useCallback)((function(){u.closeDialog()}),[u]),h=(0,a.useCallback)((function(e){if(!(null==e?void 0:e.analytics)||!(null==e?void 0:e.componentName))return{};var n=e.analytics,t=n.eventName,a=n.eventType,r={eventName:t,eventVersion:n.eventVersion,eventType:a,actionLocation:"top_of_PDP",componentName:e.componentName};return xe(r)}),[]),b=d&&a.createElement(a.Fragment,null,a.createElement(st,{data:d,onButtonClick:E,triggerRef:m}),v&&c?a.createElement(it,{data:v,closeDialog:p,isDialogOpen:c,triggerRef:m}):null);return g?a.createElement(o.E0,{eventData:h(g)},b):b};vt.fragment=dt,vt.displayName="AnsweringTravellerQuestionsFloatingButton";var ft=function(e){var n=e.colSpan,t=e.colStart;return a.createElement(m.a,{colSpan:n,colStart:t},a.createElement(u.i,{space:"three",direction:"column"},a.createElement(u.j,null,a.createElement(L.b,{animation:!0})),a.createElement(u.j,null,a.createElement(L.b,{animation:!0,type:"secondary"}))))},gt=function(e){var n=e.colSpan,t=void 0===n?1:n,r=e.colStart,l=void 0===r?1:r,i=e.columns;return a.createElement(m.E,{columns:i},a.createElement(m.a,{colSpan:t,colStart:l},a.createElement(R.a,{ratio:R.E.R4_1},a.createElement(L.a,{type:"rounded"}))))},Et=function(){return a.createElement(d.b,{padding:{block:"six",large:{inline:"six"}}},a.createElement(c.i,{overflow:!1,border:!0},a.createElement(c.m,null,a.createElement(m.E,{space:"three",columns:1},a.createElement(ft,{colSpan:1,colStart:1}),a.createElement(m.a,{colSpan:1,colStart:1},a.createElement(b.LM,null,a.createElement(b.NP,null,a.createElement(gt,{columns:1})),a.createElement(b.rw,null,a.createElement(gt,{columns:3}))))))))};Et.displayName="AnsweringTravellerQuestionsLoadingPlaceholder";var pt=(0,r.J1)(Fe(),ct.fragment,vt.fragment),ht=function(e){var n,t=e.skipSsr,r=e.inputs,c=e.isNestDialog,u=void 0!==c&&c,m=e.dialogId,s=void 0===m?Oe:m,d=P({context:(0,i.R)().context},r),v=(0,l.I)(pt,{variables:d,ssr:!t,fetchPolicy:"cache-first"}),f=v.data,g=v.error,E=v.loading,p=(0,a.useCallback)((function(e){if(!(null==e?void 0:e.clickEvent))return{};var n=e.clickEvent,t=n.eventName,a=n.eventType,r=n.eventVersion,l=n.actionLocation;return xe({eventName:t,eventVersion:r,eventType:a,actionLocation:l||""})}),[]),h=a.useMemo((function(){return{inputs:r,dialogKey:u?"pwaDialogNested":"pwaDialog",dialogId:s}}),[r,u,s]);if(E)return a.createElement(Et,null);if(g||!f||!f.answeringTravellerQuestions)return null;var b=f.answeringTravellerQuestions,S=a.createElement(Re.Provider,{value:h},a.createElement(ct,{data:b}));return(null==b||null===(n=b.impressionAnalytics)||void 0===n?void 0:n.clickEvent)?a.createElement(o.E0,{eventData:p(null==b?void 0:b.impressionAnalytics)},S):S};ht.displayName="sharedui-AnsweringTravellerQuestionsContentSearch";var bt=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"traveller-search-content-dialog-fab",o=function(n){var o=n.skipSsr,c=void 0===o||o,u=n.inputs,m=n.isNestDialog,s=void 0!==m&&m,d=(0,i.R)().context,v=P({context:d},u),f=(0,l.I)(pt,{variables:v,ssr:!c,fetchPolicy:"cache-first"}),g=f.data,E=f.error,p=f.loading,h=a.useMemo((function(){return{inputs:u,dialogKey:s?"pwaDialogNested":"pwaDialog",dialogId:r}}),[u]);return t&&p?a.createElement(t,null):!E&&g&&g.answeringTravellerQuestions?a.createElement(Re.Provider,{value:h},a.createElement(e,P({context:d,data:g.answeringTravellerQuestions},n))):null};return o.displayName=n,o}(vt,"sharedui-TravellerQnAFloatingActionButton")}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-product-answering-traveller-questions.b954925c76e2eb8f1b9f.js.map
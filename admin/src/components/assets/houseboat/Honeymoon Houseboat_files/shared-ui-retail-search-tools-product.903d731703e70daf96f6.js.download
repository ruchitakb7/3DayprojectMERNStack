/*@license For license information please refer to shared-ui-retail-search-tools-product.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8110],{33222:function(e,t,n){n.d(t,{EB:function(){return ld},GR:function(){return B_},GT:function(){return vs},Hb:function(){return zn},Rn:function(){return Hn},UX:function(){return dm},XU:function(){return Hp},Z0:function(){return w_}});var a=n(96540),r=n(16484),l=n(94220),i=n(14764),o=n(43857),c=n(82960),s=n(612),d=n(68174),u=n(15043),m=n(1723),p=n(36360),y=n(2619),_=n(93149),v=n(94495),S=n(25466),g=n(75826),E=n(19848),f=n(67226),h=n(30313),D=n(34638),b=n(15144),T=n(47576),C=n(63134),I=n(1192),A=n(69596),O=n(46198),F=n(90745),k=n(21181),R=n(40051),G=n(71831),P=n(74),L=n(77969),N=n(85625),x=n(48831),M=n(57732),B=n(15430),w=n(24355),W=n(68098),U=n(10159),H=n(61917),z=n(67045),V=n(68963),Y=n(48979),q=n(13783),j=n(88427),$=n(88753),K=n(38209),Q=n(10252),J=n(30718),X=n(77027),Z=n(27438),ee=n(39938),te=n(18518),ne=n(91214),ae=n(49784),re=n(8508),le=n(66862),ie=n(83885),oe=n(65618),ce=n(20917),se=n(22477),de=n(22060),ue=n(67811),me=n(13274),pe=n(33055);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t,n,a,r,l,i){try{var o=e[l](i),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(a,r)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var l=e.apply(t,n);function i(e){ve(l,a,r,i,o,"next",e)}function o(e){ve(l,a,r,i,o,"throw",e)}i(void 0)}))}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function be(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){he(e,t,n[t])}))}return e}function Ce(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ie(e,t){return Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ie(e,t)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Fe(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Re(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=De(e);if(t){var r=De(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return function(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?_e(e):t}(this,n)}}function Pe(e,t){var n,a,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(o){l=[6,o],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}}function Le(){var e=Oe(["\n  fragment SearchFormProductSelectorFragment on SearchFormProductSelector {\n    products {\n      ...SearchFormProductFragment\n    }\n  }\n\n  fragment SearchFormProductFragment on SearchFormProduct {\n    clickAnalytics {\n      linkName\n      referrerId\n    }\n    id\n    label\n    selected\n    type\n    targetURI\n  }\n"]);return Le=function(){return e},e}function Ne(){var e=Oe(["\n  query ProductSelectorQuery($context: ContextInput!) {\n    searchForm(context: $context) {\n      productSelector {\n        ...SearchFormProductSelectorFragment\n      }\n    }\n  }\n  ","\n"]);return Ne=function(){return e},e}function xe(){var e=Oe(["\n  query SearchFormBackgroundImageQuery($context: ContextInput!, $uriContext: UriContextInput!, $contentTopic: String!, $experienceType: String!) {\n    travelExperienceManagerContent(context: $context, uriContext: $uriContext, contentTopic: $contentTopic, experienceType: $experienceType) {\n      editorialComponent {\n        content {\n          ... on EMMediaComponents {\n            items {\n              mediaType {\n                ... on Image {\n                  description\n                  src: url\n                  aspectRatio\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return xe=function(){return e},e}function Me(){var e=Oe(["\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      linkName\n      referrerId\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n"]);return Me=function(){return e},e}function Be(){var e=Oe(["\n  fragment EGDSBasicSelectFragment on EGDSBasicSelect {\n    egdsElementId\n    clickAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      id\n    }\n    label\n    options {\n      label\n      selected\n      value\n    }\n    disabled\n    errorMessage\n    readOnly\n    value\n  }\n\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n"]);return Be=function(){return e},e}function we(){var e=Oe(["\n  fragment EGDSSelectFragment on EGDSSelect {\n    __typename\n\n    ...EGDSBasicSelectFragment\n  }\n\n  ","\n"]);return we=function(){return e},e}function We(){var e=Oe(["\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n"]);return We=function(){return e},e}function Ue(){var e=Oe(["\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  ","\n"]);return Ue=function(){return e},e}function He(){var e=Oe(["\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n"]);return He=function(){return e},e}function ze(){var e=Oe(["\n  fragment EGDSSearchFormMoreInfoTriggerSheetFragment on EGDSSheet {\n    closeAccessibility\n    closeAnalytics {\n      referrerId\n      linkName\n    }\n    sheetTypes {\n      ... on EGDSSheetTypePerViewSize {\n        sheetType\n        viewSize\n      }\n    }\n  }\n"]);return ze=function(){return e},e}function Ve(){var e=Oe(["\n  fragment EGDSSearchFormMoreInfoTriggerFragment on EGDSMoreInfoTrigger {\n    text\n    icon {\n      ...IconFragment\n    }\n    triggerAction {\n      accessibility\n      text\n      analytics {\n        referrerId\n        linkName\n      }\n      sheet {\n        ...EGDSSearchFormMoreInfoTriggerSheetFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ve=function(){return e},e}function Ye(){var e=Oe(["\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    accessibility\n    disabled\n    name\n    primary\n    selected\n    selectedText\n    value\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return Ye=function(){return e},e}function qe(){var e=Oe(["\n  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {\n    __typename\n    flexibleDateOptions {\n      ...EGDSBasicPillFragment\n    }\n    formElementId\n    title {\n      text\n      accessibility\n    }\n  }\n  ","\n"]);return qe=function(){return e},e}function je(){var e=Oe(["\n  fragment EGDSBasicTabsFragment on EGDSBasicTabs {\n    __typename\n    egdsElementId\n    selectedTabId\n    tabs {\n      ... on EGDSBasicTab {\n        __typename\n        accessibility\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n        label\n        tabId\n      }\n    }\n  }\n"]);return je=function(){return e},e}function $e(){var e=Oe(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    __typename\n    text\n    theme\n    size\n    accessibility\n  }\n"]);return $e=function(){return e},e}function Ke(){var e=Oe(["\n  fragment EGDSBadgeFragment on EGDSBadge {\n    __typename\n\n    ...EGDSStandardBadgeFragment\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Qe(){var e=Oe(["\n  fragment EGDSToggleButtonFragment on EGDSToggleButton {\n    __typename\n    egdsElementId\n    primary\n    subText\n    name\n    selectedAnalytics {\n      linkName\n      referrerId\n    }\n    unselectedAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ... on Icon {\n        id\n        size\n      }\n    }\n    selected\n    disabled\n  }\n"]);return Qe=function(){return e},e}function Je(){var e=Oe(["\n  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {\n    __typename\n    options {\n      ...EGDSToggleButtonFragment\n    }\n  }\n\n  ","\n"]);return Je=function(){return e},e}function Xe(){var e=Oe(["\n  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {\n    heading\n    subHeading\n    options {\n      ...EGDSToggleButtonGroupFragment\n    }\n  }\n  ","\n"]);return Xe=function(){return e},e}function Ze(){var e=Oe(["\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n  }\n"]);return Ze=function(){return e},e}function et(){var e=Oe(["\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n\n    ...EGDSBasicCheckBoxFragment\n  }\n\n  ","\n"]);return et=function(){return e},e}function tt(){var e=Oe(["\n  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {\n    primary\n    name\n    accessibility\n    id\n    removeAnalytics {\n      referrerId\n      linkName\n    }\n    value\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Oe(["\n  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {\n    id\n    disabled\n    primary\n    selected\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n    accessibility\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  ","\n"]);return nt=function(){return e},e}function at(){var e=Oe(["\n  fragment EGDSPillFragment on EGDSPill {\n    __typename\n\n    ...EGDSBasicPillFragment\n    ...EGDSBasicTriggerPillFragment\n    ...EGDSBasicRemovablePillFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return at=function(){return e},e}function rt(){var e=Oe(["\n  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {\n    heading\n    includeWeekend {\n      ...EGDSCheckBoxFragment\n    }\n    options {\n      ...EGDSPillFragment\n    }\n  }\n  ","\n  ","\n"]);return rt=function(){return e},e}function lt(){var e=Oe(["\n  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {\n    __typename\n    nightsSelection {\n      ...EGDSDatePickerFlexibleNightsFragment\n    }\n    monthsSelection {\n      ...EGDSDatePickerFlexibleMonthsFragment\n    }\n  }\n  ","\n  ","\n"]);return lt=function(){return e},e}function it(){var e=Oe(["\n  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {\n    __typename\n    calendarContent {\n      ...EGDSDatePickerFlexibilityCalendarContentFragment\n    }\n    contentSelector {\n      ...EGDSBasicTabsFragment\n    }\n    flexibleDatesContent {\n      ...EGDSDatePickerFlexibilityDatesContentFragment\n    }\n    flexibilityLabel {\n      templates {\n        template\n        category\n      }\n      models {\n        key\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return it=function(){return e},e}function ot(){var e=Oe(["\n  fragment SearchFormFlexibleDatesPriceInsightsMonthlyFragment on SearchFormPriceInsightsMonthlyResponse {\n    options {\n      ... on SearchFormPriceInsightsMonthlyOption {\n        __typename\n        button {\n          ...EGDSToggleButtonFragment\n        }\n        price {\n          ...EGDSBadgeFragment\n        }\n      }\n    }\n    explainabilityText {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n  }\n  ","\n  ","\n  ","\n"]);return ot=function(){return e},e}function ct(){var e=Oe(["\n  query SearchFormPriceInsights($context: ContextInput!, $gaiaId: String!) {\n    searchFormPriceInsights(context: $context) {\n      flexibleDatesMonthly(gaiaId: $gaiaId) {\n        __typename\n        ...SearchFormFlexibleDatesPriceInsightsMonthlyFragment\n      }\n    }\n  }\n\n  ","\n"]);return ct=function(){return e},e}function st(){var e=Oe(["\n  fragment SearchFormFlexibleDatesPriceInsightsDailyFragment on SearchFormPriceInsightsDailyResponse {\n    days {\n      ...SearchFormPriceInsightsDayFragment\n    }\n    explainabilityText {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n    analytics {\n      presentationAnalytics\n      rangeAnalytics\n      startDateAnalytics\n      errorAnalytics\n    }\n  }\n\n  fragment SearchFormPriceInsightsDayFragment on SearchFormPriceInsightsDay {\n    date {\n      day\n      month\n      year\n    }\n    theme\n    accessibilityText\n  }\n  ","\n"]);return st=function(){return e},e}function dt(){var e=Oe(["\n  query SearchFormPriceInsightsDaily($context: ContextInput!, $criteria: SearchFormPriceInsightsDailyInput!) {\n    searchFormPriceInsights(context: $context) {\n      dailyPrice(criteria: $criteria) {\n        __typename\n        ...SearchFormFlexibleDatesPriceInsightsDailyFragment\n      }\n    }\n  }\n\n  ","\n"]);return dt=function(){return e},e}function ut(){var e=Oe(["\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    buttonTextTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n          __typename\n        }\n        templates {\n          category\n          template\n          __typename\n        }\n        __typename\n      }\n    }\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    nextButtonAnalytics {\n      linkName\n      referrerId\n    }\n    previousButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    clearDatesButtonAnalytics {\n      linkName\n      referrerId\n    }\n    showClearDatesButton\n\n    flexibleDateContent {\n      ...EGDSDatePickerFlexibilityContentFragment\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  ","\n"]);return ut=function(){return e},e}function mt(){var e=Oe(["\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    firstDayOfWeek\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return mt=function(){return e},e}function pt(){var e=Oe(["\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  ","\n  ","\n"]);return pt=function(){return e},e}function yt(){var e=Oe(["\n  fragment SearchLocationQueryAttributionFragment on SearchLocationResults {\n    poweredBy\n  }\n"]);return yt=function(){return e},e}function _t(){var e=Oe(["\n  fragment SearchLocationButtonFragment on SearchLocationButton {\n    __typename\n    text\n    accessibilityText\n    icon {\n      ...IconFragment\n    }\n  }\n\n  ","\n"]);return _t=function(){return e},e}function vt(){var e=Oe(["\n  fragment ImageFragment on Image {\n    url\n    description\n    aspectRatio\n  }\n"]);return vt=function(){return e},e}function St(){var e=Oe(["\n  fragment SearchLocationGraphicFragment on SearchLocationGraphic {\n    ...IconFragment\n    ...ImageFragment\n  }\n  ","\n  ","\n"]);return St=function(){return e},e}function gt(){var e=Oe(["\n  fragment SearchLocationBasicItemFragment on SearchLocationBasicItem {\n    __typename\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n    geoType\n    graphic {\n      ...SearchLocationGraphicFragment\n    }\n    itemAccessibilityText\n    analyticsInfo {\n      category\n      relation\n      sourceName\n    }\n    impressionAnalytics {\n      referrerId\n      linkName\n    }\n    primaryText\n    propertyId\n    regionId\n    locationFullName\n    secondaryText\n    remove {\n      ...SearchLocationButtonFragment\n    }\n  }\n\n  ","\n  ","\n"]);return gt=function(){return e},e}function Et(){var e=Oe(["\n  fragment SearchLocationItemWithSubItemsFragment on SearchLocationItemWithSubItems {\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n\n    subItems {\n      ...SearchLocationBasicItemFragment\n    }\n  }\n\n  ","\n"]);return Et=function(){return e},e}function ft(){var e=Oe(["\n  mutation SearchLocationDeleteRecentSearch($context: ContextInput!, $lob: String!, $gaiaIds: [String!]!, $isDestination: Boolean) {\n    searchLocationDeleteRecentSearch(context: $context, lob: $lob, gaiaIds: $gaiaIds, isDestination: $isDestination) {\n      status\n    }\n  }\n"]);return ft=function(){return e},e}function ht(){var e=Oe(["\n  fragment SearchLocationRecentSearchFragment on SearchLocationRecentSearch {\n    __typename\n    dateRange {\n      __typename\n      start {\n        ...DateFragment\n      }\n      end {\n        ...DateFragment\n      }\n    }\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n    travelers {\n      ... on SearchLocationBasicTravelers {\n        ...SearchLocationBasicTravelersFragment\n      }\n      ... on SearchLocationTravelersByRoom {\n        ...SearchLocationTravelersByRoomFragment\n      }\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  fragment SearchLocationTravelersByRoomFragment on SearchLocationTravelersByRoom {\n    rooms {\n      ...SearchLocationBasicTravelersFragment\n    }\n  }\n\n  fragment SearchLocationBasicTravelersFragment on SearchLocationBasicTravelers {\n    adults\n    childrenAges\n    pets\n  }\n\n  ","\n"]);return ht=function(){return e},e}function Dt(){var e=Oe(["\n  fragment SearchLocationItemFragment on SearchLocationItem {\n    ...SearchLocationBasicItemFragment\n    ...SearchLocationItemWithSubItemsFragment\n    ...SearchLocationRecentSearchFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Dt=function(){return e},e}function bt(){var e=Oe(["\n  fragment SearchLocationGroupFragment on SearchLocationGroup {\n    title\n    items {\n      ...SearchLocationItemFragment\n    }\n  }\n  ","\n"]);return bt=function(){return e},e}function Tt(){var e=Oe(["\n  query SearchLocationSuggestions($context: ContextInput!, $searchLocationCriteria: SearchLocationCriteriaInput!) {\n    searchLocation(context: $context, searchLocationCriteria: $searchLocationCriteria) {\n      __typename\n      analyticsInfo {\n        recommendationId\n        resultId\n      }\n      ...SearchLocationQueryAttributionFragment\n      itemsGroups {\n        ...SearchLocationGroupFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return Tt=function(){return e},e}function Ct(){var e=Oe(["\n  fragment SearchLocationFragment on SearchLocation {\n    __typename\n    analytics {\n      open\n      close\n      itemSelected\n      recommendationsPresented\n      recommendationSelected\n    }\n  }\n"]);return Ct=function(){return e},e}function It(){var e=Oe(["\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    regionId\n    regionType\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n        __typename\n      }\n    }\n    debounceRate\n    coordinates {\n      latitude\n      longitude\n    }\n    airportCode\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n    showCurrentLocation\n    subLob\n    expUserId\n    trending\n  }\n"]);return It=function(){return e},e}function At(){var e=Oe(["\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return At=function(){return e},e}function Ot(){var e=Oe(["\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return Ot=function(){return e},e}function Ft(){var e=Oe(["\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    __typename\n  }\n"]);return Ft=function(){return e},e}function kt(){var e=Oe(["\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n  }\n\n  ","\n"]);return kt=function(){return e},e}function Rt(){var e=Oe(["\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n"]);return Rt=function(){return e},e}function Gt(){var e=Oe(["\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return Gt=function(){return e},e}function Pt(){var e=Oe(["\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  ","\n"]);return Pt=function(){return e},e}function Lt(){var e=Oe(["\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  ","\n"]);return Lt=function(){return e},e}function Nt(){var e=Oe(["\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Nt=function(){return e},e}function xt(){var e=Oe(["\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  ","\n"]);return xt=function(){return e},e}function Mt(){var e=Oe(["\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSBasicTraveler {\n      type\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Mt=function(){return e},e}function Bt(){var e=Oe(["\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Bt=function(){return e},e}function wt(){var e=Oe(["\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return wt=function(){return e},e}function Wt(){var e=Oe(["\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    text\n    egdsElementId\n    action {\n      accessibility\n      target\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    icon {\n      id\n    }\n    iconPosition\n  }\n"]);return Wt=function(){return e},e}function Ut(){var e=Oe(["\n  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {\n    airlineAgeRule {\n      ...EGDSStandardLinkFragment\n    }\n    groupName\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    options {\n      label\n      value\n    }\n    selected\n  }\n  ","\n"]);return Ut=function(){return e},e}function Ht(){var e=Oe(["\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infants {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    removeRoomAnnouncement\n  }\n\n  ","\n  ","\n  ","\n"]);return Ht=function(){return e},e}function zt(){var e=Oe(["\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    infantSeatSelection {\n      ...EGDSTravelerInfantSeatSelectFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return zt=function(){return e},e}function Vt(){var e=Oe(["\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n        accessibility\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  ","\n  ","\n"]);return Vt=function(){return e},e}function Yt(){var e=Oe(["\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    primaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n        accessibility\n      }\n      ... on EGDSBasicLocalizedText {\n        text\n        template\n        accessibilityTemplate\n        models {\n          key\n          source\n        }\n        egdsElementId\n      }\n      ... on EGDSCardinalLocalizedText {\n        text\n        accessibilityText\n        egdsElementId\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n      }\n    }\n    closeButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  ","\n"]);return Yt=function(){return e},e}function qt(){var e=Oe(["\n  fragment GroundTransportationSearchFormSelectionFragment on GroundTransportationSearchFormSelection {\n    airportToHotel {\n      ...EGDSPillFragment\n      __typename\n    }\n    hotelToAirport {\n      ...EGDSPillFragment\n      __typename\n    }\n    roundTrip {\n      ...EGDSPillFragment\n      __typename\n    }\n  }\n  ","\n"]);return qt=function(){return e},e}function jt(){var e=Oe(["\n  fragment GroundTransportationSearchFormFragment on GroundTransportationSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n      __typename\n    }\n    elements {\n      __typename\n    }\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n      __typename\n    }\n    travelers {\n      ...EGDSSearchFormTravelersFieldFragment\n      __typename\n    }\n    airportLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      __typename\n    }\n    hotelLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      __typename\n    }\n    pickupTime {\n      ...EGDSSelectFragment\n      __typename\n    }\n    dropoffTime {\n      ...EGDSSelectFragment\n      __typename\n    }\n    groundTransportationSelection {\n      ...GroundTransportationSearchFormSelectionFragment\n      __typename\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n      __typename\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n      __typename\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return jt=function(){return e},e}function $t(){var e=Oe(["\n  query GroundTransportationSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $groundTransportationSearchCriteria: ProductShoppingCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      groundTransportation(groundTransportationSearchCriteria: $groundTransportationSearchCriteria) {\n        __typename\n        ...GroundTransportationSearchFormFragment\n      }\n    }\n  }\n  ","\n"]);return $t=function(){return e},e}function Kt(){var e=Oe(["\n  fragment EGDSTextInputFieldFragment on EGDSTextInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    placeholder\n    readOnly\n    required\n    validations {\n      ... on EGDSRequiredInputValidation {\n        errorMessage\n      }\n    }\n    value\n  }\n"]);return Kt=function(){return e},e}function Qt(){var e=Oe(["\n  fragment CarSearchFormSpecialOrAdvertisedOptionFragment on CarSearchFormSpecialOrAdvertisedOption {\n    __typename\n    addAnotherDiscountCode {\n      ...EGDSTertiaryButtonFragment\n    }\n    discountCodeType {\n      label\n    }\n    discountCodeOptions {\n      discountCodeInput {\n        ...EGDSTextInputFieldFragment\n      }\n      discountCodeTypeOption\n    }\n    maxDiscountCode\n    optionLabel\n  }\n  ","\n  ","\n"]);return Qt=function(){return e},e}function Jt(){var e=Oe(["\n  fragment CarSearchFormDiscountTypeOptionFragment on CarSearchFormDiscountTypeOption {\n    __typename\n    corporateOrContractedOption {\n      discountCode {\n        ...EGDSTextInputFieldFragment\n      }\n      optionLabel\n    }\n    preferredBrand\n    specialOrAdvertisedOption {\n      ...CarSearchFormSpecialOrAdvertisedOptionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Jt=function(){return e},e}function Xt(){var e=Oe(["\n  fragment CarSearchFormDiscountCodeFragment on CarSearchFormDiscountCode {\n    __typename\n    discountCode {\n      ...EGDSPillFragment\n    }\n    action {\n      discountType {\n        ...EGDSSelectFragment\n      }\n      discountTypeOptions {\n        ...CarSearchFormDiscountTypeOptionFragment\n      }\n      preferredBrand {\n        ...EGDSSelectFragment\n      }\n      errorSummary {\n        ...EGDSErrorSummaryFragment\n      }\n      toolbar {\n        primary\n        actions {\n          primary {\n            ...EGDSTertiaryButtonFragment\n          }\n          secondaries {\n            icon {\n              description\n            }\n          }\n        }\n      }\n      done {\n        ...EGDSPrimaryButtonFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Xt=function(){return e},e}function Zt(){var e=Oe(["\n  fragment EGDSNumberInputFieldFragment on EGDSNumberInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    max\n    min\n    placeholder\n    step\n    readOnly\n    required\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n      ... on EGDSRangeInputValidation {\n        errorMessage\n        min\n        max\n      }\n    }\n    value\n  }\n"]);return Zt=function(){return e},e}function en(){var e=Oe(["\n  fragment CarSearchFormDriverAgeCheckFragment on CarSearchFormDriverAgeCheck {\n    __typename\n    label\n    driverAge {\n      ...EGDSNumberInputFieldFragment\n    }\n    driverAgeRequired {\n      ...EGDSCheckBoxFragment\n    }\n  }\n  ","\n  ","\n"]);return en=function(){return e},e}function tn(){var e=Oe(["\n  fragment RentalTypesSelectorFrament on EGDSBasicTabs {\n    __typename\n    ...EGDSBasicTabsFragment\n  }\n  ","\n"]);return tn=function(){return e},e}function nn(){var e=Oe(["\n  fragment CarsSearchFormFragment on CarSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    pickUpLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      validations {\n        __typename\n      }\n    }\n    dropOffLocation {\n      ...EGDSSearchFormLocationFieldFragment\n      validations {\n        __typename\n      }\n    }\n    alternativeDropOffLocationLabel\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    pickUpTime {\n      ...EGDSSelectFragment\n    }\n    dropOffTime {\n      ...EGDSSelectFragment\n    }\n    driverAgeCheck {\n      ...CarSearchFormDriverAgeCheckFragment\n    }\n    specialRates {\n      label\n      discountCode {\n        ...CarSearchFormDiscountCodeFragment\n      }\n      showAarpRate {\n        ...EGDSPillFragment\n      }\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    localDateFormat\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    rentalTypes {\n      ...RentalTypesSelectorFrament\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return nn=function(){return e},e}function an(){var e=Oe(["\n  query CarSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $carSearchCriteria: CarSearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      car(carSearchCriteria: $carSearchCriteria) {\n        __typename\n        ...CarsSearchFormFragment\n      }\n    }\n  }\n  ","\n"]);return an=function(){return e},e}function rn(){var e=Oe(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return rn=function(){return e},e}function ln(){var e=Oe(["\n  fragment EGDSSpannableTextInlineContentFragment on EGDSSpannableTextItem {\n    ...EGDSPlainTextFragment\n    ...EGDSStandardLinkFragment\n  }\n\n  ","\n  ","\n"]);return ln=function(){return e},e}function on(){var e=Oe(["\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    text\n    inlineContent {\n      ...EGDSPlainTextFragment\n      ...EGDSStandardLinkFragment\n    }\n    __typename\n  }\n  ","\n  ","\n"]);return on=function(){return e},e}function cn(){var e=Oe(["\n  fragment ActivitySearchFormFragment on ActivitySearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    subTitle {\n      ...EGDSSpannableTextFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return cn=function(){return e},e}function sn(){var e=Oe(["\n  query ActivitySearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $activitySearchCriteria: ActivitiySearchCriteriaInput\n    $includePlayback: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      activity(activitySearchCriteria: $activitySearchCriteria) {\n        __typename\n        ...ActivitySearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return sn=function(){return e},e}function dn(){var e=Oe(["\n  fragment DurationSpanSelectorFragment on DurationSpanSelector {\n    egdsElementId\n    title\n    doneButton {\n      __typename\n      ...EGDSPrimaryButtonFragment\n    }\n    closeButton {\n      __typename\n      ...EGDSTertiaryButtonFragment\n    }\n    minDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    maxDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    validations {\n      __typename\n      errorMessage\n      ... on DurationSpanInputValidation {\n        errorMessage\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  fragment DurationSpanLimitFragment on EGDSNumberInputField {\n    egdsElementId\n    label\n    value\n    placeholder\n    errorMessage\n    step\n    min\n    max\n  }\n\n  ","\n  ","\n  ","\n"]);return dn=function(){return e},e}function un(){var e=Oe(["\n  fragment SearchFormDurationSpanFieldFragment on SearchFormDurationSpanField {\n    __typename\n    egdsElementId\n    label\n    labelTemplate {\n      ...TemplateEGDSBasicLocalizedTextFragment\n    }\n    leftIcon {\n      id\n    }\n    action {\n      __typename\n      ...OpenDurationSpanActionFragment\n    }\n  }\n\n  fragment TemplateEGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    __typename\n    egdsElementId\n    models {\n      key\n      source\n    }\n    template\n    text\n  }\n\n  fragment OpenDurationSpanActionFragment on OpenDurationSpanAction {\n    __typename\n    analytics {\n      __typename\n      linkName\n      referrerId\n    }\n    durationSpan {\n      __typename\n      ...DurationSpanSelectorFragment\n    }\n    accessibility\n  }\n\n  ","\n"]);return un=function(){return e},e}function mn(){var e=Oe(["\n  fragment CruiseSearchFormFragment on CruiseSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...SearchFormDurationSpanFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    typeaheadAdapterDetails {\n      domainId\n      adapterRequest {\n        includeMetadata\n      }\n      categoryDetails {\n        key\n        value\n      }\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n    expertAdviceInfo @skip(if: $skipExpertAdviceInfo)\n    useOdysseus\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return mn=function(){return e},e}function pn(){var e=Oe(["\n  query CruiseSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $cruiseSearchCriteriaInput: CruiseSearchCriteriaInput\n    $includePlayback: Boolean = false\n    $skipExpertAdviceInfo: Boolean = false\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      cruise(cruiseSearchCriteria: $cruiseSearchCriteriaInput) {\n        __typename\n        ...CruiseSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return pn=function(){return e},e}function yn(){var e=Oe(["\n  fragment EGDSSearchFormSelectActionFragment on EGDSSearchFormSelectAction {\n    analytics {\n      linkName\n      referrerId\n    }\n\n    options {\n      ...SearchFormSelectorOptionFragment\n    }\n  }\n\n  fragment SearchFormSelectorOptionFragment on EGDSBasicOption {\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    selected\n    value\n    label\n  }\n"]);return yn=function(){return e},e}function _n(){var e=Oe(["\n  fragment EGDSSearchFormInputFieldFragment on EGDSSearchFormInputField {\n    egdsElementId\n    value\n    label\n    placeholder\n    leftIcon {\n      ...IconFragment\n    }\n    action {\n      ...EGDSSearchFormSelectActionFragment\n    }\n  }\n  ","\n  ","\n"]);return _n=function(){return e},e}function vn(){var e=Oe(["\n  fragment PackagesSearchFormSelectionFragment on PackagesSearchFormSelection {\n    car {\n      ...EGDSPillFragment\n    }\n    flight {\n      ...EGDSPillFragment\n    }\n    stay {\n      ...EGDSPillFragment\n    }\n  }\n\n  ","\n"]);return vn=function(){return e},e}function Sn(){var e=Oe(["\n  query PackagesOptionsQuery(\n    $context: ContextInput!\n    $packageSearchCriteria: PackageSearchCriteriaInput\n    $packageShoppingCriteria: ProductShoppingCriteriaInput\n    $packageType: PackageType\n    $includePackageType: Boolean = false\n  ) {\n    searchForm(context: $context) {\n      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {\n        __typename\n        ... on PackagesSearchForm {\n          packageSelection @include(if: $includePackageType) {\n            ...PackagesSearchFormSelectionFragment\n          }\n          directFlightsOnly {\n            ...EGDSPillFragment\n          }\n        }\n        elements {\n          ...EGDSSearchFormInputFieldFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Sn=function(){return e},e}function gn(){var e=Oe(["\n  fragment EGDSSecondaryButtonFragment on UISecondaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  ","\n"]);return gn=function(){return e},e}function En(){var e=Oe(["\n  fragment EGDSSearchFormLocationsFieldFragment on EGDSSearchFormLocationsField {\n    egdsElementId\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    destination {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    horizontalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    verticalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n    }\n  }\n  ","\n  ","\n"]);return En=function(){return e},e}function fn(){var e=Oe(["\n  fragment SearchFormPartialStayFragment on SearchFormPartialStay {\n    __typename\n    addPartialStay {\n      ...EGDSCheckBoxFragment\n      __typename\n    }\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n      __typename\n    }\n    errorMessage\n  }\n  ","\n  ","\n"]);return fn=function(){return e},e}function hn(){var e=Oe(["\n  fragment MultiPackagesSearchFormFragment on PackagesSearchForm {\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormLocationsFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n      ...EGDSSearchFormInputFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    directFlightsOnly {\n      ...EGDSPillFragment\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    partialStay {\n      ...SearchFormPartialStayFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return hn=function(){return e},e}function Dn(){var e=Oe(["\n  fragment NoSelectionMessageFragment on UIEmptyState {\n    body\n    heading\n    icon {\n      ...IconFragment\n    }\n  }\n  ","\n"]);return Dn=function(){return e},e}function bn(){var e=Oe(["\n  fragment PrebundlesSearchFormFragment on PackagesSearchForm {\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return bn=function(){return e},e}function Tn(){var e=Oe(["\n  query PackagesSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $packageSearchCriteria: PackageSearchCriteriaInput\n    $packageShoppingCriteria: ProductShoppingCriteriaInput\n    $includePlayback: Boolean = false\n    $packageType: PackageType\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      packages(packageSearchCriteria: $packageSearchCriteria, packageShoppingCriteria: $packageShoppingCriteria, packageType: $packageType) {\n        ...PrebundlesSearchFormFragment\n        ...MultiPackagesSearchFormFragment\n        ... on PackagesSearchForm {\n          packageSelection {\n            noSelectionMessage {\n              ...NoSelectionMessageFragment\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Tn=function(){return e},e}function Cn(){var e=Oe(["\n  fragment FlightTypeSelectorOptionsFragment on EGDSSearchFormSelectAction {\n    analytics {\n      linkName\n      referrerId\n    }\n    options {\n      ...FlightTypeSelectorOptionFragment\n    }\n    apply {\n      ...EGDSPrimaryButtonFragment\n    }\n  }\n\n  fragment FlightTypeSelectorOptionFragment on EGDSBasicOption {\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    value\n    label\n    selected\n  }\n\n  ","\n"]);return Cn=function(){return e},e}function In(){var e=Oe(["\n  query FlightOptionsQuery($context: ContextInput!, $flightSearchCriteria: FlightSearchCriteriaInput, $includeFlightType: Boolean = false) {\n    searchForm(context: $context) {\n      flight(flightSearchCriteria: $flightSearchCriteria) {\n        ...FlightsOptionsSearchFormFragment\n      }\n    }\n  }\n\n  fragment FlightsOptionsSearchFormFragment on FlightSearchForm {\n    flightTypeSelector @include(if: $includeFlightType) {\n      action {\n        ... on EGDSSearchFormSelectAction {\n          ...FlightTypeSelectorOptionsFragment\n        }\n      }\n    }\n\n    elements {\n      ...EGDSSearchFormInputFieldFragment\n    }\n\n    directFlightsOnly {\n      ...EGDSPillFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return In=function(){return e},e}function An(){var e=Oe(["\n  fragment SoftPackagesFragment on SoftPackages {\n    actionURL\n    addCar {\n      ...EGDSCheckBoxFragment\n    }\n    addFlight {\n      ...EGDSCheckBoxFragment\n    }\n    addHotel {\n      ...EGDSCheckBoxFragment\n    }\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    datesForHotelStay {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    maxBookableTravelers\n    maxTravelersErrorMessage\n    validDaysUpperBoundInclusive {\n      day\n      month\n      year\n    }\n  }\n\n  ","\n  ","\n"]);return An=function(){return e},e}function On(){var e=Oe(["\n  fragment FlightSearchFormFragment on FlightSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n    addLeg {\n      ...EGDSTertiaryButtonFragment\n    }\n    removeLeg {\n      ...EGDSTertiaryButtonFragment\n    }\n    legHeading {\n      ...EGDSBasicLocalizedTextFragment\n    }\n    legs {\n      id\n      locations {\n        ...EGDSSearchFormLocationsFieldFragment\n      }\n      date {\n        ...EGDSSearchFormDatePickerFieldFragment\n      }\n    }\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n    maxAllowedLegs\n    localDateFormat\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n    searchLocation {\n      ...SearchLocationFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return On=function(){return e},e}function Fn(){var e=Oe(["\n  query FlightSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $flightSearchCriteria: FlightSearchCriteriaInput\n    $fixedTravelers: Boolean\n    $includePlayback: Boolean = false\n    $disabledCabins: [FlightsCabinClass!]\n    $features: [String!]\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      flight(flightSearchCriteria: $flightSearchCriteria, fixedTravelers: $fixedTravelers, disabledCabins: $disabledCabins, features: $features) {\n        ...FlightSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return Fn=function(){return e},e}function kn(){var e=Oe(["\n  fragment SearchFormPopularFiltersFragment on SearchFormPopularFilters {\n    filters {\n      __typename\n      ...EGDSPillFragment\n    }\n    template {\n      template\n    }\n  }\n\n  ","\n"]);return kn=function(){return e},e}function Rn(){var e=Oe(["\n  fragment EGUisMicroMessageFragment on EGUisMicroMessage {\n    schemaName\n    messageContent\n  }\n"]);return Rn=function(){return e},e}function Gn(){var e=Oe(["\n  fragment AdaptexTrackingSuccessFragment on SearchFormAdaptExSuccessEvent {\n    __typename\n    datePrefill {\n      ...EGUisMicroMessageFragment\n    }\n  }\n\n  ","\n"]);return Gn=function(){return e},e}function Pn(){var e=Oe(["\n  fragment LodgingSearchFormFragment on LodgingSearchForm {\n    __typename\n    egdsElementId\n    actionURL\n    errorSummary {\n      ...EGDSErrorSummaryFragment\n    }\n    elements {\n      __typename\n      ...EGDSSearchFormLocationFieldFragment\n      ...EGDSSearchFormDatePickerFieldFragment\n      ...EGDSSearchFormTravelersFieldFragment\n    }\n    search {\n      ...EGDSSearchFormButtonFragment\n    }\n\n    playback @include(if: $includePlayback) {\n      ...EGDSSearchPlaybackFragment\n    }\n\n    softPackages {\n      ...SoftPackagesFragment\n    }\n\n    adaptExSuccessEvent {\n      ...AdaptexTrackingSuccessFragment\n    }\n\n    searchLocation {\n      ...SearchLocationFragment\n    }\n\n    popularFilters {\n      ...SearchFormPopularFiltersFragment\n    }\n\n    hidePlayback\n\n    priceInsightsDailyConfig {\n      debounceRate\n      monthsToQuery\n      __typename\n    }\n\n    groupStaysLink {\n      ...EGDSStandardLinkFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Pn=function(){return e},e}function Ln(){var e=Oe(["\n  query LodgingSearchFormQuery(\n    $context: ContextInput!\n    $pageLocation: PageLocation\n    $propertySearchCriteriaInput: PropertySearchCriteriaInput\n    $includePlayback: Boolean = false\n    $features: [String!]\n  ) {\n    searchForm(context: $context, pageLocation: $pageLocation) {\n      lodging(propertySearchCriteria: $propertySearchCriteriaInput, features: $features) {\n        __typename\n        ...LodgingSearchFormFragment\n      }\n    }\n  }\n\n  ","\n"]);return Ln=function(){return e},e}var Nn=Object.defineProperty,xn=function(e,t,n){return function(e,t,n){t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==(void 0===t?"undefined":ke(t))?t+"":t,n),n},Mn=function(e){var t=Ae(a.useState(!1),2),n=t[0],r=t[1],i=e.children;return a.createElement(o.E,{zIndex:500,onFixed:function(e){r(e)}},a.createElement(c.b,{elevation:n?"floating":"default",toolbarType:n?"standard":"transparent"},a.createElement(s.V,{layout:"fullwidth",canvasTheme:n?"primary":"none",paddedViewRow:!1},a.createElement(l.b,{padding:{block:"four",inline:"three"}},a.createElement("div",{"data-stid":"sticky-search-form"},i)))),!n&&a.createElement(l.b,{padding:"six"},a.createElement("div",null)))},Bn=function(e){return e.LOWER="LOWER",e.UPPER="UPPER",e}(Bn||{}),wn=function(e){return e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.WEEKEND="WEEKEND",e}(wn||{}),Wn=function(e){return e.MULTI_DESTINATION="MULTI_DESTINATION",e.ONE_WAY="ONE_WAY",e.ROUND_TRIP="ROUND_TRIP",e}(Wn||{}),Un=function(e){return e.FROM_AIRPORT="FROM_AIRPORT",e.ROUNDTRIP="ROUNDTRIP",e.TO_AIRPORT="TO_AIRPORT",e}(Un||{}),Hn=function(e){return e.FLIGHT_CAR="FLIGHT_CAR",e.FLIGHT_HOTEL="FLIGHT_HOTEL",e.FLIGHT_HOTEL_CAR="FLIGHT_HOTEL_CAR",e.HOTEL_ACTIVITY="HOTEL_ACTIVITY",e.HOTEL_CAR="HOTEL_CAR",e}(Hn||{}),zn=function(e){return e.CFAR_DETAILS="CFAR_DETAILS",e.CHECKOUT="CHECKOUT",e.CHECKOUT_ERROR="CHECKOUT_ERROR",e.CONFIRMATION="CONFIRMATION",e.DETAILS="DETAILS",e.ENTRY="ENTRY",e.FEATURES="FEATURES",e.INSURANCE_DETAILS="INSURANCE_DETAILS",e.ITINERARY="ITINERARY",e.PAYMENT_ERROR="PAYMENT_ERROR",e.POST_BOOKING="POST_BOOKING",e.SEARCH_RESULTS="SEARCH_RESULTS",e.SYSTEM="SYSTEM",e.USER="USER",e}(zn||{}),Vn=["localhost","wwwexpediacom","shared-ui.expedia.biz"],Yn=function(e){var t=e.children,n=Vn.includes(window.location.hostname);return a.createElement(a.Fragment,null,n&&a.createElement(l.b,{margin:{blockend:"three"}},a.createElement(_.p,{theme:"warning",text:"Fallback is in use"},a.createElement(v.a,{size:v.E.MEDIUM,name:"warning"}))),t)};Yn.displayName="FallbackBadge";var qn=(0,u.J1)(Le()),jn=function(e){var t=e.data,n=e.initialSelectedProduct,r=e.onProductTypeSelection,l=t.products,i=(0,g.KY)(),o=l.findIndex((function(e){return e.type===n})),c=Ae(a.useState(-1!==o?o:0),2),s=c[0],u=c[1],m={selectedTab:s,onTabSelect:function(e){var t=l[e],n=t.clickAnalytics,a=t.type;if(n){var o=n.linkName,c=n.referrerId;i(c,o)}u(e),r(a)},tabsType:S.c.NATURAL,targetURI:""},p=l.map((function(e,t){var n=e.id,r=e.label,l=e.targetURI;return a.createElement(S.E,{key:t,id:null!=n?n:void 0,name:r,targetURI:null!=l?l:""})}));return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(S.f,Te({},m),p)),a.createElement(d.rw,null,a.createElement(S.f,Ce(Te({className:"uitk-card-roundcorner-top-left uitk-card-roundcorner-top-right"},m),{centerAlign:!0}),p)))};jn.displayName="SearchFormProductSelector",jn.fragment=qn;var $n={SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE"),SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER:new y.SystemEvent(y.SystemEventLevel.INFO,"SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER")},Kn={__typename:"SearchFormProductSelector",products:[{clickAnalytics:{linkName:"Lodging search form selected",referrerId:"Web.SearchForm.Product.Selector.Lodging.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_lodging",label:"Stays",selected:!0,targetURI:"/Hotels",type:"LODGING",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Flights search form selected",referrerId:"Web.SearchForm.Product.Selector.Flights.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_product_flights",label:"Flights",selected:!1,targetURI:"/Flights",type:"FLIGHTS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cars search form selected",referrerId:"WebSearchForm.Product.Selector.Cars.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_product_cars",label:"Cars",selected:!1,targetURI:"/Cars",type:"CARS",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Packages search form selected",referrerId:"Web.SearchForm.Product.Selector.Packages.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_product_packages",label:"Packages",selected:!1,targetURI:"/Vacation-Packages",type:"PACKAGES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Activities search form selected",referrerId:"Web.SearchForm.Product.Selector.Activities.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_product_activities",label:"Things to do",selected:!1,targetURI:"/Activities",type:"ACTIVITIES",__typename:"SearchFormProduct"},{clickAnalytics:{linkName:"Cruises search form selected",referrerId:"Web.SearchForm.Product.Selector.Cruises.Click",__typename:"ClientSideAnalytics"},id:"search_form_product_selector_product_cruises",label:"Cruises",selected:!1,targetURI:"/Cruises",type:"CRUISES",__typename:"SearchFormProduct"}]},Qn=(0,u.J1)(Ne(),jn.fragment),Jn=function(e){var t,n,r=e.inputs,l=e.skipSsr,i=e.skipQuery,o=e.batchKey,c=(0,p.R)().context,s=(0,y.useLoggerEvents)($n),d=(0,a.useRef)(!1),u=Ce(Te({},r),{context:c});(0,a.useEffect)((function(){var e;null===(e=E.datadogRum.addAction)||void 0===e||e.call(E.datadogRum,"ProductSelector-componentInitialized")}),[]);var _,v=(0,m.I)(Qn,{context:{batchKey:o},variables:u,ssr:!l,skip:!!i}),S=v.data,g=v.error;if(v.loading)return null;if(g)return s.SEARCH_TOOLS_PRODUCT_SELECTOR_QUERY_FAILURE.log({name:g.name,error:new Error(g.message)}),a.createElement(Yn,null,a.createElement(jn,Ce(Te({},e),{data:Kn})));var f,h=null!==(_=null==S||null===(n=S.searchForm)||void 0===n||null===(t=n.productSelector)||void 0===t?void 0:t.products)&&void 0!==_?_:[];if(!S||h.length<=1)return 1===h.length&&s.SEARCH_TOOLS_PRODUCT_SELECTOR_SINGLE_PRODUCT_RENDER.log({name:"A single product is rendered"}),null;d.current||(null===(f=E.datadogRum.addAction)||void 0===f||f.call(E.datadogRum,"ProductSelector-componentPresented"),d.current=!0);return a.createElement(jn,Ce(Te({},e),{data:S.searchForm.productSelector}))};Jn.displayName="sharedui-ProductSelector";he(Xn={},"ONE_ONE",f.E.R1_1),he(Xn,"FOUR_THREE",f.E.R4_3),he(Xn,"SIXTEEN_NINE",f.E.R16_9),he(Xn,"THREE_TWO",f.E.R3_2),he(Xn,"THREE_FOUR",f.E.R3_4),he(Xn,"TWENTY_ONE_NINE",f.E.R21_9),he(Xn,"FOUR_ONE",f.E.R4_1),(0,u.J1)(xe());var Xn,Zn=function(e){var t=e.rows;return a.createElement(a.Fragment,null,t.map((function(e,t){var n=e.type;return a.createElement(l.b,{key:t,padding:0===t?void 0:{blockstart:"three"}},a.createElement("div",null,a.createElement(T.b,{animation:!0,type:n})))})))},ea={__typename:"SearchLocation",analytics:{__typename:"SearchLocationAnalytics",open:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.opened":{"v1":{"event_data":{"event":{"event_name":"search_location.opened","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',close:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.closed":{"v1":{"event_data":{"event":{"event_name":"search_location.closed","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',itemSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.selected":{"v1":{"event_data":{"event":{"event_name":"search_location.selected","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',recommendationsPresented:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.presented":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.presented","event_version":"2.1.0","event_category":"Search","event_type":"Impression"}}}}}}',recommendationSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.selected":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.selected","event_version":"2.1.0","event_category":"Search","event_type":"Interaction"}}}}}}'}},ta=new Date,na=new Date;na.setDate(na.getDate()+14);var aa=new Date;aa.setDate(aa.getDate()+15);var ra=new Date;function la(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}ra.setMonth(ra.getMonth()+10),ra.setDate(ra.getDate()-5);var ia={__typename:"CarSearchForm",egdsElementId:"car_search_form",actionURL:"/carsearch",errorSummary:{egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},pickUpLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"pick_up_location",label:"Pick-up",placeholder:"Pick-up",value:null,errorMessage:"Please select where you're picking up the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're picking up the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},dropOffLocation:{__typename:"EGDSSearchFormLocationField",egdsElementId:"drop_off_location",label:"Same as pick-up",placeholder:"Drop-off",value:null,errorMessage:"Please select where you're dropping off the vehicle",required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Car.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CARS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:1583,typeaheadFeatures:"postal_code|consistent_display|cars_rental|carsclickpopularity",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city, airport, or address",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Car.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Car.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,validations:[{errorMessage:"Please select where you're dropping off the vehicle",__typename:"EGDSRequiredInputValidation"}],regionId:null,regionType:"UNKNOWN",debounceRate:null,coordinates:null,airportCode:null},alternativeDropOffLocationLabel:"Drop-off",dates:{egdsElementId:"dates",label:"Dates",placeholder:"Dates",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"car date open",referrerId:"Web.Car.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:Te({},la(na)),startDatePlaceholderText:"",selectedEndDate:Te({},la(aa)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:Te({},la(ta)),validDaysUpperBoundInclusive:Te({},la(ra)),submitButtonAnalytics:{linkName:"car date submit",referrerId:"Web.Car.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"car date next",referrerId:"Web.Car.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"car date previous",referrerId:"Web.Car.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"car date start",referrerId:"Web.Car.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"car date end",referrerId:"Web.Car.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"car dates clear",referrerId:"Web.Car.Calendar.ClearDates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},pickUpTime:{__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Pick_up.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Pick-up time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your pick-up time must be in the future",readOnly:!1,value:null},dropOffTime:{__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"car time open",referrerId:"Web.Car.Drop_off.Time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Drop-off time",options:[{label:"12:00 AM",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15 AM",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30 AM",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45 AM",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"01:00 AM",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"01:15 AM",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"01:30 AM",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"01:45 AM",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"02:00 AM",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"02:15 AM",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"02:30 AM",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"02:45 AM",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"03:00 AM",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"03:15 AM",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"03:30 AM",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"03:45 AM",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"04:00 AM",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"04:15 AM",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"04:30 AM",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"04:45 AM",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"05:00 AM",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"05:15 AM",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"05:30 AM",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"05:45 AM",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"06:00 AM",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"06:15 AM",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"06:30 AM",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"06:45 AM",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"07:00 AM",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"07:15 AM",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"07:30 AM",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"07:45 AM",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"08:00 AM",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"08:15 AM",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"08:30 AM",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"08:45 AM",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"09:00 AM",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"09:15 AM",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"09:30 AM",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"09:45 AM",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00 AM",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15 AM",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30 AM",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45 AM",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00 AM",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15 AM",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30 AM",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45 AM",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00 PM",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15 PM",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30 PM",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45 PM",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"01:00 PM",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"01:15 PM",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"01:30 PM",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"01:45 PM",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"02:00 PM",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"02:15 PM",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"02:30 PM",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"02:45 PM",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"03:00 PM",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"03:15 PM",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"03:30 PM",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"03:45 PM",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"04:00 PM",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"04:15 PM",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"04:30 PM",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"04:45 PM",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"05:00 PM",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"05:15 PM",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"05:30 PM",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"05:45 PM",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"06:00 PM",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"06:15 PM",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"06:30 PM",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"06:45 PM",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"07:00 PM",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"07:15 PM",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"07:30 PM",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"07:45 PM",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"08:00 PM",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"08:15 PM",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"08:30 PM",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"08:45 PM",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"09:00 PM",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"09:15 PM",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"09:30 PM",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"09:45 PM",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00 PM",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15 PM",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30 PM",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45 PM",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00 PM",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15 PM",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30 PM",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45 PM",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"Your drop-off time must be at least 2 hours after pick-up",readOnly:!1,value:null},driverAgeCheck:null,specialRates:{label:"Special rates",discountCode:{__typename:"CarSearchFormDiscountCode",discountCode:{__typename:"EGDSBasicTriggerPill",id:"discount_codes",disabled:!1,primary:"Discount codes",selected:!1,icon:null,selectAnalytics:{linkName:"discount code selected",referrerId:"Web.Car.Discount.Code.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"discount code unselected",referrerId:"Web.Car.Discount.Code.Unselected",__typename:"ClientSideAnalytics"},accessibility:null},action:{discountType:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Discount type",options:[],disabled:!1,errorMessage:null,readOnly:!1,value:null},discountTypeOptions:[{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"FASTSTART Org ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"AL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Alamo Insiders #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Alamo Insiders #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"AWD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZI",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Wizard #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Wizard #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"BCD #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZD",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Fast Break #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Fast Break #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZR",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Dollar Express #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Dollar Express #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EY",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Customer #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ET",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Enterprise Plus #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Enterprise Plus #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Contract #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"EP",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Privilege #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Privilege #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"FX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"CDP",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZE",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:1,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"National Contract ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZL",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Emerald Club ID",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Emerald Club ID",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate account",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"NU",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZA",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Payless Perks #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Payless Perks #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SX",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"ZT",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-2",errorMessage:null,instructions:null,label:"Blue Chip #",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Blue Chip #",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:3,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:null,preferredBrand:"SV",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}},{__typename:"CarSearchFormDiscountTypeOption",corporateOrContractedOption:{discountCode:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Corporate discount code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},optionLabel:"Corporate or contracted",__typename:"CarSearchFormCorporateOrContractedOption"},preferredBrand:"SC",specialOrAdvertisedOption:{__typename:"CarSearchFormSpecialOrAdvertisedOption",addAnotherDiscountCode:{egdsElementId:null,primary:"Add another code",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"add more discount",referrerId:"Web.Car.Discount.Code.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},discountCodeType:{label:"Code type",__typename:"EGDSBasicSelect"},discountCodeOptions:[{discountCodeInput:{egdsElementId:"coupon-code-0",errorMessage:null,instructions:null,label:"Discount rate code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount rate code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"},{discountCodeInput:{egdsElementId:"coupon-code-1",errorMessage:null,instructions:null,label:"Discount coupon code",placeholder:null,readOnly:!1,required:!0,validations:[{errorMessage:"Please enter a valid discount code",__typename:"EGDSRequiredInputValidation"}],value:null,__typename:"EGDSTextInputField"},discountCodeTypeOption:"Discount coupon code",__typename:"CarSearchFormSpecialOrAdvertisedDiscountCodeOption"}],maxDiscountCode:2,optionLabel:"Special or advertised"}}],preferredBrand:{__typename:"EGDSBasicSelect",egdsElementId:null,clickAnalytics:null,icon:null,label:"Preferred brand",options:[{label:"Ace Rent A Car",selected:!1,value:"AC",__typename:"EGDSBasicOption"},{label:"Advantage Rent-A-Car",selected:!1,value:"AD",__typename:"EGDSBasicOption"},{label:"Alamo Rent A Car",selected:!1,value:"AL",__typename:"EGDSBasicOption"},{label:"Avis",selected:!1,value:"ZI",__typename:"EGDSBasicOption"},{label:"Budget",selected:!1,value:"ZD",__typename:"EGDSBasicOption"},{label:"Dollar Rent A Car",selected:!1,value:"ZR",__typename:"EGDSBasicOption"},{label:"Economy Rent a Car",selected:!1,value:"EY",__typename:"EGDSBasicOption"},{label:"Enterprise",selected:!1,value:"ET",__typename:"EGDSBasicOption"},{label:"Europcar",selected:!1,value:"EP",__typename:"EGDSBasicOption"},{label:"Fox Rent a Car",selected:!1,value:"FX",__typename:"EGDSBasicOption"},{label:"Hertz",selected:!1,value:"ZE",__typename:"EGDSBasicOption"},{label:"Midway Car Rental",selected:!1,value:"MW",__typename:"EGDSBasicOption"},{label:"National Car Rental",selected:!1,value:"ZL",__typename:"EGDSBasicOption"},{label:"Nu Car",selected:!1,value:"NU",__typename:"EGDSBasicOption"},{label:"Payless",selected:!1,value:"ZA",__typename:"EGDSBasicOption"},{label:"Routes Car Rental",selected:!1,value:"RO",__typename:"EGDSBasicOption"},{label:"Sixt",selected:!1,value:"SX",__typename:"EGDSBasicOption"},{label:"Thrifty Car Rental",selected:!1,value:"ZT",__typename:"EGDSBasicOption"},{label:"U-Save",selected:!1,value:"SV",__typename:"EGDSBasicOption"},{label:"Silvercar",selected:!1,value:"SC",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:null,readOnly:!1,value:null},errorSummary:{egdsElementId:"discount_code_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Car.Discount_Code.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Car.Discount_Code.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},toolbar:{primary:"Discount code",actions:{primary:{egdsElementId:null,primary:"Clear",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},secondaries:[{icon:{description:"close",__typename:"Icon"},__typename:"UITertiaryButton"}],__typename:"UIToolbarActions"},__typename:"UIToolbar"},done:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},__typename:"CarSearchFormDiscountCodeAction"}},showAarpRate:{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"aarp_rates",primary:"Show AARP rates",selected:!1,selectedText:null,value:null,icon:null,selectAnalytics:{linkName:"AARP rate selected",referrerId:"Web.Car.AARP.Rate.Selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"AARP rate unselected",referrerId:"Web.Car.AARP.Rate.Unselected",__typename:"ClientSideAnalytics"}},__typename:"CarSearchFormSpecialRates"},search:{egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Car.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},rentalTypes:null,localDateFormat:"M/d/yyyy",playback:null,searchLocation:ea},oa=new Date,ca=new Date;ca.setDate(ca.getDate()+14);var sa=new Date;sa.setDate(sa.getDate()+15);var da=new Date;function ua(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}da.setDate(da.getDate()+328);var ma={__typename:"EGDSSearchFormLocationField",egdsElementId:"airport_location",label:"Airport",placeholder:"Airport",value:null,errorMessage:"Please select an airport",validations:[{errorMessage:"Please select an airport",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:1,typeaheadFeatures:"proximity|nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},pa={__typename:"EGDSSearchFormLocationField",egdsElementId:"hotel_location",label:"Hotel",placeholder:"Hotel",value:null,errorMessage:"Please select a hotel",validations:[{errorMessage:"Please select a hotel",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:"lob_hotels",__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.GT.Location.Origin.Open",__typename:"ClientSideAnalytics"},info:{client:"SearchForm",drivable:!1,isDestination:!1,lineOfBusiness:"HOTELS",maxNumberOfResults:7,packageType:null,personalize:!0,regionType:128,typeaheadFeatures:"proximity|consistent_display|google",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.GT.Location.Origin.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.GT.Location.Origin.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},ya={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Gt.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Gt.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Gt.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Gt.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Gt.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Gt.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Age 2 to 17",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Gt.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Gt.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",__typename:"EGDSTravelerStepInput",label:"Infants",max:8,min:0,step:1,subLabel:"Younger than 2",value:0},type:null,__typename:"EGDSBasicTraveler"},infantsOnLap:null,pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},_a={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.GT.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},va={__typename:"EGDSBasicSelect",egdsElementId:"pick_up_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.pick_up_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight arrival time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"",readOnly:!1,value:null},Sa={__typename:"EGDSBasicSelect",egdsElementId:"drop_off_time",clickAnalytics:{linkName:"ground transportation time open",referrerId:"Web.Gt.drop_off_time.Open",__typename:"ClientSideAnalytics"},icon:null,label:"Flight departure time",options:[{label:"12:00am",selected:!1,value:"1200AM",__typename:"EGDSBasicOption"},{label:"12:15am",selected:!1,value:"1215AM",__typename:"EGDSBasicOption"},{label:"12:30am",selected:!1,value:"1230AM",__typename:"EGDSBasicOption"},{label:"12:45am",selected:!1,value:"1245AM",__typename:"EGDSBasicOption"},{label:"1:00am",selected:!1,value:"0100AM",__typename:"EGDSBasicOption"},{label:"1:15am",selected:!1,value:"0115AM",__typename:"EGDSBasicOption"},{label:"1:30am",selected:!1,value:"0130AM",__typename:"EGDSBasicOption"},{label:"1:45am",selected:!1,value:"0145AM",__typename:"EGDSBasicOption"},{label:"2:00am",selected:!1,value:"0200AM",__typename:"EGDSBasicOption"},{label:"2:15am",selected:!1,value:"0215AM",__typename:"EGDSBasicOption"},{label:"2:30am",selected:!1,value:"0230AM",__typename:"EGDSBasicOption"},{label:"2:45am",selected:!1,value:"0245AM",__typename:"EGDSBasicOption"},{label:"3:00am",selected:!1,value:"0300AM",__typename:"EGDSBasicOption"},{label:"3:15am",selected:!1,value:"0315AM",__typename:"EGDSBasicOption"},{label:"3:30am",selected:!1,value:"0330AM",__typename:"EGDSBasicOption"},{label:"3:45am",selected:!1,value:"0345AM",__typename:"EGDSBasicOption"},{label:"4:00am",selected:!1,value:"0400AM",__typename:"EGDSBasicOption"},{label:"4:15am",selected:!1,value:"0415AM",__typename:"EGDSBasicOption"},{label:"4:30am",selected:!1,value:"0430AM",__typename:"EGDSBasicOption"},{label:"4:45am",selected:!1,value:"0445AM",__typename:"EGDSBasicOption"},{label:"5:00am",selected:!1,value:"0500AM",__typename:"EGDSBasicOption"},{label:"5:15am",selected:!1,value:"0515AM",__typename:"EGDSBasicOption"},{label:"5:30am",selected:!1,value:"0530AM",__typename:"EGDSBasicOption"},{label:"5:45am",selected:!1,value:"0545AM",__typename:"EGDSBasicOption"},{label:"6:00am",selected:!1,value:"0600AM",__typename:"EGDSBasicOption"},{label:"6:15am",selected:!1,value:"0615AM",__typename:"EGDSBasicOption"},{label:"6:30am",selected:!1,value:"0630AM",__typename:"EGDSBasicOption"},{label:"6:45am",selected:!1,value:"0645AM",__typename:"EGDSBasicOption"},{label:"7:00am",selected:!1,value:"0700AM",__typename:"EGDSBasicOption"},{label:"7:15am",selected:!1,value:"0715AM",__typename:"EGDSBasicOption"},{label:"7:30am",selected:!1,value:"0730AM",__typename:"EGDSBasicOption"},{label:"7:45am",selected:!1,value:"0745AM",__typename:"EGDSBasicOption"},{label:"8:00am",selected:!1,value:"0800AM",__typename:"EGDSBasicOption"},{label:"8:15am",selected:!1,value:"0815AM",__typename:"EGDSBasicOption"},{label:"8:30am",selected:!1,value:"0830AM",__typename:"EGDSBasicOption"},{label:"8:45am",selected:!1,value:"0845AM",__typename:"EGDSBasicOption"},{label:"9:00am",selected:!1,value:"0900AM",__typename:"EGDSBasicOption"},{label:"9:15am",selected:!1,value:"0915AM",__typename:"EGDSBasicOption"},{label:"9:30am",selected:!1,value:"0930AM",__typename:"EGDSBasicOption"},{label:"9:45am",selected:!1,value:"0945AM",__typename:"EGDSBasicOption"},{label:"10:00am",selected:!1,value:"1000AM",__typename:"EGDSBasicOption"},{label:"10:15am",selected:!1,value:"1015AM",__typename:"EGDSBasicOption"},{label:"10:30am",selected:!0,value:"1030AM",__typename:"EGDSBasicOption"},{label:"10:45am",selected:!1,value:"1045AM",__typename:"EGDSBasicOption"},{label:"11:00am",selected:!1,value:"1100AM",__typename:"EGDSBasicOption"},{label:"11:15am",selected:!1,value:"1115AM",__typename:"EGDSBasicOption"},{label:"11:30am",selected:!1,value:"1130AM",__typename:"EGDSBasicOption"},{label:"11:45am",selected:!1,value:"1145AM",__typename:"EGDSBasicOption"},{label:"12:00pm",selected:!1,value:"1200PM",__typename:"EGDSBasicOption"},{label:"12:15pm",selected:!1,value:"1215PM",__typename:"EGDSBasicOption"},{label:"12:30pm",selected:!1,value:"1230PM",__typename:"EGDSBasicOption"},{label:"12:45pm",selected:!1,value:"1245PM",__typename:"EGDSBasicOption"},{label:"1:00pm",selected:!1,value:"0100PM",__typename:"EGDSBasicOption"},{label:"1:15pm",selected:!1,value:"0115PM",__typename:"EGDSBasicOption"},{label:"1:30pm",selected:!1,value:"0130PM",__typename:"EGDSBasicOption"},{label:"1:45pm",selected:!1,value:"0145PM",__typename:"EGDSBasicOption"},{label:"2:00pm",selected:!1,value:"0200PM",__typename:"EGDSBasicOption"},{label:"2:15pm",selected:!1,value:"0215PM",__typename:"EGDSBasicOption"},{label:"2:30pm",selected:!1,value:"0230PM",__typename:"EGDSBasicOption"},{label:"2:45pm",selected:!1,value:"0245PM",__typename:"EGDSBasicOption"},{label:"3:00pm",selected:!1,value:"0300PM",__typename:"EGDSBasicOption"},{label:"3:15pm",selected:!1,value:"0315PM",__typename:"EGDSBasicOption"},{label:"3:30pm",selected:!1,value:"0330PM",__typename:"EGDSBasicOption"},{label:"3:45pm",selected:!1,value:"0345PM",__typename:"EGDSBasicOption"},{label:"4:00pm",selected:!1,value:"0400PM",__typename:"EGDSBasicOption"},{label:"4:15pm",selected:!1,value:"0415PM",__typename:"EGDSBasicOption"},{label:"4:30pm",selected:!1,value:"0430PM",__typename:"EGDSBasicOption"},{label:"4:45pm",selected:!1,value:"0445PM",__typename:"EGDSBasicOption"},{label:"5:00pm",selected:!1,value:"0500PM",__typename:"EGDSBasicOption"},{label:"5:15pm",selected:!1,value:"0515PM",__typename:"EGDSBasicOption"},{label:"5:30pm",selected:!1,value:"0530PM",__typename:"EGDSBasicOption"},{label:"5:45pm",selected:!1,value:"0545PM",__typename:"EGDSBasicOption"},{label:"6:00pm",selected:!1,value:"0600PM",__typename:"EGDSBasicOption"},{label:"6:15pm",selected:!1,value:"0615PM",__typename:"EGDSBasicOption"},{label:"6:30pm",selected:!1,value:"0630PM",__typename:"EGDSBasicOption"},{label:"6:45pm",selected:!1,value:"0645PM",__typename:"EGDSBasicOption"},{label:"7:00pm",selected:!1,value:"0700PM",__typename:"EGDSBasicOption"},{label:"7:15pm",selected:!1,value:"0715PM",__typename:"EGDSBasicOption"},{label:"7:30pm",selected:!1,value:"0730PM",__typename:"EGDSBasicOption"},{label:"7:45pm",selected:!1,value:"0745PM",__typename:"EGDSBasicOption"},{label:"8:00pm",selected:!1,value:"0800PM",__typename:"EGDSBasicOption"},{label:"8:15pm",selected:!1,value:"0815PM",__typename:"EGDSBasicOption"},{label:"8:30pm",selected:!1,value:"0830PM",__typename:"EGDSBasicOption"},{label:"8:45pm",selected:!1,value:"0845PM",__typename:"EGDSBasicOption"},{label:"9:00pm",selected:!1,value:"0900PM",__typename:"EGDSBasicOption"},{label:"9:15pm",selected:!1,value:"0915PM",__typename:"EGDSBasicOption"},{label:"9:30pm",selected:!1,value:"0930PM",__typename:"EGDSBasicOption"},{label:"9:45pm",selected:!1,value:"0945PM",__typename:"EGDSBasicOption"},{label:"10:00pm",selected:!1,value:"1000PM",__typename:"EGDSBasicOption"},{label:"10:15pm",selected:!1,value:"1015PM",__typename:"EGDSBasicOption"},{label:"10:30pm",selected:!1,value:"1030PM",__typename:"EGDSBasicOption"},{label:"10:45pm",selected:!1,value:"1045PM",__typename:"EGDSBasicOption"},{label:"11:00pm",selected:!1,value:"1100PM",__typename:"EGDSBasicOption"},{label:"11:15pm",selected:!1,value:"1115PM",__typename:"EGDSBasicOption"},{label:"11:30pm",selected:!1,value:"1130PM",__typename:"EGDSBasicOption"},{label:"11:45pm",selected:!1,value:"1145PM",__typename:"EGDSBasicOption"}],disabled:!1,errorMessage:"The departing flight must occur at least 2 hours after the arriving flight.",readOnly:!1,value:null},ga={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.GT.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.GT.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Ea={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:ga,dates:{egdsElementId:"date_form_field",label:"Flight arrival date",placeholder:"Flight arrival date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Te({},ua(ca)),validDaysLowerBoundInclusive:Te({},ua(oa)),validDaysUpperBoundInclusive:Te({},ua(da)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:pa,airportLocation:ma,travelers:ya,pickupTime:va,dropoffTime:null,elements:[],playback:null,search:_a,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:"Airport to hotel",disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:"Hotel to airport",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:"Roundtrip",disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:ea}}},fa={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/",errorSummary:ga,dates:{egdsElementId:"date_form_field",label:"Flight departure date",placeholder:"Flight departure date",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Te({},ua(ca)),validDaysLowerBoundInclusive:Te({},ua(oa)),validDaysUpperBoundInclusive:Te({},ua(da)),submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:pa,airportLocation:ma,travelers:ya,pickupTime:null,dropoffTime:Sa,elements:[],playback:null,search:_a,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:null,disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:ea}}},ha={searchForm:{__typename:"SearchFormResults",groundTransportation:{__typename:"GroundTransportationSearchForm",egdsElementId:"ground_transportation_search_form",actionURL:"/ground-transfers/search",errorSummary:ga,dates:{egdsElementId:"date_form_field",label:"Flight dates",placeholder:"Flight dates",errorMessage:"",validations:null,action:{accessibility:null,analytics:{linkName:"ground transportation calendar selection",referrerId:"Web.GT.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!0,selectedStartDate:Te({},ua(ca)),startDatePlaceholderText:"",selectedEndDate:Te({},ua(sa)),endDatePlaceholderText:"",validDaysLowerBoundInclusive:Te({},ua(oa)),validDaysUpperBoundInclusive:Te({},ua(da)),flexibleDateContent:null,submitButtonAnalytics:{linkName:"ground transportation dates submit button",referrerId:"Web.GT.Calendar.Dates.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"ground transportation dates Dates next date button",referrerId:"Web.GT.Calendar.Next.Dates.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"ground transportation dates Dates previous date button",referrerId:"Web.GT.Calendar.Previous.Dates.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"ground transportation dates Dates start date button",referrerId:"Web.GT.Calendar.Start.Dates.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"ground transportation dates Dates end date button",referrerId:"Web.GT.Calendar.End.Dates.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:{linkName:"ground transportation dates Dates clear button",referrerId:"Web.GT.Calendar.Clear.Dates.Submit",__typename:"ClientSideAnalytics"},showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},hotelLocation:pa,airportLocation:ma,travelers:ya,pickupTime:va,dropoffTime:Sa,elements:[],playback:null,search:_a,groundTransportationSelection:{__typename:"GroundTransportationSearchFormSelection",airportToHotel:{__typename:"EGDSBasicPill",name:"trip_direction_from_airport",primary:"Airport to hotel",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},hotelToAirport:{__typename:"EGDSBasicPill",name:"trip_direction_to_airport",primary:"Hotel to airport",accessibility:null,disabled:!1,selected:!1,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null},roundTrip:{__typename:"EGDSBasicPill",name:"trip_direction_round_trip",primary:"Roundtrip",accessibility:null,disabled:!1,selected:!0,selectedText:"",value:null,deselectAnalytics:null,selectAnalytics:null,icon:null}},searchLocation:ea}}};function Da(e,t,n){return e.replace("${".concat(t,"}"),n)}var ba=(0,u.J1)(Me()),Ta=function(e){var t=e.errorCount,n=void 0===t?0:t,r=e.inputErrorRef,l=e.data,i=(0,g.KY)(),o=l.body,c=l.goToErrorLinkText,s=l.goToFirstErrorLinkText,d=l.heading,u=l.analytics,m=l.impressionAnalytics,p=l.headingTemplate,y=0===n,_=1===n,v=a.createRef();if(a.useEffect((function(){var e;(0,k.liveAnnounce)(h,k.Level.ASSERTIVE),null===(e=v.current)||void 0===e||e.focus()}),[]),y)return null;var S,E,f=_?c:s,h=d.trim()?d:function(e){if("EGDSCardinalLocalizedText"===(null==p?void 0:p.__typename)){var t=p.templates.slice(1,3),n=_?"":p.models[0].key;return Da(_?t[0].template:t[1].template,n,e.toString())}return""}(n);return a.createElement(g.ee,{referrerId:null!==(S=null==m?void 0:m.referrerId)&&void 0!==S?S:"",linkName:null!==(E=null==m?void 0:m.linkName)&&void 0!==E?E:""},a.createElement(A.E,{theme:"error"},a.createElement(F.E,{size:7,"aria-level":3},h),o&&a.createElement(F.c,{size:300},o.text),f&&a.createElement(O.E,{domRef:v},a.createElement("button",{type:"button",onClick:function(){var e;if(null==r||null===(e=r.current)||void 0===e||e.focus(),u){var t=u.referrerId,n=u.linkName,a="".concat(t,_?".One.Error":".Many.Errors");i(a,n)}}},f))))};Ta.displayName="SearchToolsEGDSErrorSummary",Ta.fragment=ba;var Ca="EGDSBasicSelect",Ia=(0,u.J1)(Be()),Aa=function(e){var t=e.onChange,n=e.selectValue,r=e.emptyState,l=e.data,i=e.errorMessage,o=e.setInputRef,c=(0,g.KY)(),s=l.egdsElementId,d=l.label,u=l.icon,m=l.options,p=l.clickAnalytics,y=l.readOnly,_=l.disabled,v=null!=s?s:"search_form_basic_select",S=a.useRef(null),E=a.useCallback((function(){if(p&&"ClientSideAnalytics"===p.__typename){var e=p.referrerId,t=p.linkName;c(e,t)}}),[p,c]),f=(0,C.u)(v,(function(e){return t&&t(e),e}));return a.useEffect((function(){o&&o(S)}),[]),(null==m?void 0:m.length)>0?a.createElement(R.i,{readOnly:y,disabled:_,id:v,name:"".concat(Ca,"-").concat(v),label:d,icon:null==u?void 0:u.id,onClick:E,"aria-label":null!=d?d:"",onChange:f,emptyState:r,value:n,placeholder:r?d:void 0,invalid:i,domRef:S},m.map((function(e){var t=e.label,n=e.value,r=e.selected;return a.createElement("option",{key:n,label:t,value:n,selected:null!=r&&r},t)}))):null};Aa.displayName="EGDSBasicSelect",Aa.fragment=Ia;var Oa=(0,u.J1)(we(),Aa.fragment),Fa=function(e){var t,n,r=e.data,l=e.fieldError,i=Te({errorMessage:l?(t=l,"EGDSBasicSelect"===r.__typename?(null==t?void 0:t.isValid)?"":null!==(n=r.errorMessage)&&void 0!==n?n:"":""):""},e);return"EGDSBasicSelect"===r.__typename?a.createElement(Aa,Ce(Te({},i),{data:r})):null};Fa.displayName="SearchToolsEGDSSelect",Fa.fragment=Oa;var ka=(0,u.J1)(We()),Ra=(0,u.J1)(Ue(),ka),Ga=function(e){var t=e.children,n=e.submitButtonProps,r=e.primary,l=e.isFullWidth,i=void 0!==l&&l;return a.createElement(G.E,Ce(Te({},n),{size:P.E.LARGE,"aria-label":null!=r?r:"",isFullWidth:i}),t)},Pa=function(e){var t,n,r=e.data,l=(0,g.KY)(),i=r.egdsElementId,o=r.primary,c=r.disabled,s=r.onClick,u=r.icon,m={id:null!=i?i:"search_form_submit_button",disabled:c,onClick:a.useCallback((function(){if(s&&"EGDSSubmitSearchFormAction"===s.__typename){var e=s.analytics,t=e.referrerId,n=e.linkName;l(t,n)}}),[s,l]),type:"submit"};return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Ga,{isFullWidth:!0,submitButtonProps:m,primary:o},o)),a.createElement(d.rw,null,u?a.createElement(Ga,{submitButtonProps:m,primary:o},a.createElement(v.a,{name:null!==(t=null==u?void 0:u.token)&&void 0!==t?t:"search",title:null!==(n=null==u?void 0:u.title)&&void 0!==n?n:"",id:null==u?void 0:u.id})):a.createElement(Ga,{submitButtonProps:m,primary:o},o)))};Pa.displayName="EGDSSearchFormButton",Pa.fragment=Ra;var La=0;var Na,xa=function(e){var t=a.useRef();if(!t.current){var n=La+=1;t.current=e?"".concat(e,"-").concat(n):"dialog-".concat(n)}return t.current},Ma=function(e){return 0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER"},Ba="yyyy-MM-dd",wa=function(e){var t=864e5*e;return new Date((new Date).getTime()+t)},Wa=function(e){return Math.ceil(e/1e3/60/60/24)},Ua=function(e){var t=e.year,n=e.month,a=e.day;return new Date(t,n-1,a)},Ha=(he(Na={},"SUN",w.j.SUN),he(Na,"MON",w.j.MON),he(Na,"TUE",w.j.TUE),he(Na,"WED",w.j.WED),he(Na,"THU",w.j.THU),he(Na,"FRI",w.j.FRI),he(Na,"SAT",w.j.SAT),Na),za=function(e){var t;return!!(null==e||null===(t=e.value)||void 0===t?void 0:t.startsWith("0"))},Va=function(e,t,n){var a=new Date(e.year,e.month,e.day);return!e.isPast&&(t&&n?a>=t&&a<=n:t&&!n?a>=t:!(!t&&n)||a<=n)},Ya=function(e,t,n,a,r){var l=a,i=r.formatDateString;if(e&&t){var o=new Date(e),c=new Date(t);if(o<c){o.setDate(o.getDate()+1);for(var s=o;s<=c;s.setDate(s.getDate()+1)){var d=i(s,{raw:Ba});l[d]&&(l[d].isWithinDateRange=n)}}}return l},qa=function(e,t,n,a,r,l,i,o,c){var s=e;return n&&s[n]&&(s[n].isSelected=!0,a&&s[a]&&(s[a].isSelected=!0)),r&&s[r]&&(!t||i&&r!==n)&&(s[r].isSelected=!1),c&&s[c]&&(s[c].isSelected=!0),l&&s[l]&&(s[l].isSelected=!0),l&&s[l]&&o&&r!==c&&l!==c&&(s[l].isSelected=!1),s},ja=function(e){return e.locale?e.locale.replace("_","-"):"en-US"},$a=function(e){return String(e).padStart(2,"0")},Ka=function(e){return{positive:"positive",standard:"default"}[e.theme]||"default"},Qa=function(e){var t={defaults:null};return e.forEach((function(e){var n,a=(n=e.date,"".concat(n.year,"-").concat($a(n.month),"-").concat($a(n.day)));t[a]=function(e){var t;return{dateText:{textTheme:Ka(e),date:e.date},accessibilityText:null!==(t=e.accessibilityText)&&void 0!==t?t:null,isSelected:!1,isWithinDateRange:!1}}(e)})),t},Ja=function(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}},Xa=function(e,t,n){return"flights"===e&&(null==t?void 0:t.journeyCriteria)&&t.journeyCriteria.length>0?{journeyCriteria:t.journeyCriteria.map((function(e){return{origin:e.origin,destination:e.destination,departureDate:e.departureDate}})),flightsSearchContext:{tripType:n?"ROUND_TRIP":"ONE_WAY"}}:null};function Za(e){return null!==e}var er=function(e){var t=e.day,n=e.dayData,r=t.day,l=t.isPast,i=t.isToday,o=n||{},c=o.dateText,s=o.isSelected,d=o.isWithinDateRange,u=o.validStartDate,m=o.validEndDate,p=!Va(t,u,m),y=(c||{}).textTheme,_=a.useMemo((function(){if(!s){if(i)return"today";if(l)return"muted";if("positive"===y&&s)return"default"}return"default"}),[s,i,l]);return a.createElement("div",{"data-stid":s?"selected":d?"in-range":"positive"===y||"negative"===y?y:"default"},a.createElement(B.Tm,{theme:!s&&!d&&!l&&y||"default",backgroundShape:"rounded"},a.createElement(M.d,{"aria-disabled":"true",theme:_,size:300,weight:"regular",disabled:p},"positive"!==y||s||d?r:a.createElement(F.c,{theme:"inverse"},r))))},tr=function(e,t){return Va(t,e.validStartDate,e.validEndDate)};er.canClick=tr,er.canSpan=tr,er.getAriaLabel=function(e,t,n){var a=t.localeDateString,r=e.accessibilityText,l=r?Da(r,"date",a):a;return Va(t,e.validStartDate,e.validEndDate)?l:n.formatText("calendar.unavailable.a11yLabel",a)};var nr=function(e,t,n){var a=t.formatDateString,r=Ae(e.split(" - "),2),l=r[0],i=r[1];if(""===l||""===i)return"";var o=a(l,{skeleton:"MMMd"}),c=a(i,{skeleton:"MMMd"});return(null==n?void 0:n.start)&&(null==n?void 0:n.end)?"".concat(o,", ").concat(n.start," - ").concat(c,", ").concat(n.end):"".concat(o," - ").concat(c)},ar=function(e,t,n,a){var r=a.formatDateString,l=Ae(t.split(" - "),2),i=l[0],o=l[1],c=n?r(e,{skeleton:"MMMd"}):i,s=n?o:r(e,{skeleton:"MMMd"});return"Invalid date"===c||"Invalid date"===s?"":"".concat(c," - ").concat(s)},rr=function(e,t,n){var a=new CustomEvent("change"),r=document.createElement("input");n&&(r.type=n),r.value=e;var l=function(e){t(e)};r.addEventListener("change",l),r.dispatchEvent(a),r.removeEventListener("change",l)},lr=function(e){var t=e.day,n=e.dayData,r=void 0===n?{}:n,l=r.validStartDate,i=r.validEndDate,o=!Va(t,l,i),c=a.useMemo((function(){return t.isPast?"muted":t.isToday?"today":"default"}),[t.isPast,t.isToday]);return a.createElement(M.d,{theme:c,disabled:o},t.day)},ir=function(e,t){return Va(t,e.validStartDate,e.validEndDate)};lr.canClick=ir,lr.canSpan=ir,lr.getAriaLabel=function(e,t,n){var a=t.localeDateString;return Va(t,e.validStartDate,e.validEndDate)?a:n.formatText("calendar.unavailable.a11yLabel",a)};var or,cr=(0,u.J1)(He()),sr=(he(or={},"EXTRA_SMALL",v.E.EXTRA_SMALL),he(or,"SMALL",v.E.SMALL),he(or,"MEDIUM",v.E.MEDIUM),he(or,"MEDIUM_LARGE",v.E.MEDIUM),he(or,"LARGE",v.E.LARGE),he(or,"XLARGE",v.E.XLARGE),or),dr=function(e){var t=e.data,n=t.id,r=t.title,l=t.description,i=t.size,o=sr[null!=i?i:"LARGE"];return a.createElement(v.a,{id:n,name:n,title:null!=r?r:l,description:l,size:o})};dr.displayName="Icon",dr.fragment=cr;var ur=(0,u.J1)(ze()),mr={POPOVER:"popover",BOTTOM:"bottom",CENTERED:"centered",FULL:"full",SIDE:"side"},pr=a.forwardRef((function(e,t){var n,r,l,i,o,c,s=e.data,u=e.isVisible,m=e.toggleVisibility,p=e.children,y=e.position,_=e.showOverTrigger,S=void 0!==_&&_,E=(0,g.KY)(),f=s.closeAccessibility,h=s.sheetTypes,D=s.closeAnalytics,b=mr[null!==(o=null==h||null===(r=h.find((function(e){return"SMALL"===e.viewSize})))||void 0===r||null===(n=r.sheetType)||void 0===n?void 0:n.toString())&&void 0!==o?o:"BOTTOM"],T=mr[null!==(c=null==h||null===(i=h.find((function(e){return"LARGE"===e.viewSize})))||void 0===i||null===(l=i.sheetType)||void 0===l?void 0:l.toString())&&void 0!==c?c:"POPOVER"],C=function(){var e=D.linkName,t=D.referrerId;E(t,e),m&&m()},I=a.createElement(V.g,null,a.createElement(z.E,{type:"button",onClick:C},a.createElement(v.a,{name:"close",title:null!=f?f:"",id:"sheet-close-button"}))),A=a.createElement(V.f,{padded:!0},p);return a.createElement(V.h,{isVisible:u},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(V.e,{isVisible:u,type:b,triggerRef:null,onDismiss:C,hasModal:!0},I,A)),a.createElement(d.rw,null,a.createElement(V.e,{position:null!=y?y:{inline:"leading",block:"trailing"},isVisible:u,type:T,triggerRef:t,onDismiss:C,width:360,applyBlockStartMargin:!0,showOverTrigger:S},I,A))))}));pr.fragment=ur,pr.displayName="EGDSSearchFormMoreInfoTriggerSheet";var yr=(0,u.J1)(Ve(),dr.fragment,pr.fragment),_r=a.forwardRef((function(e,t){var n=e.data,r=e.children,l=e.onHandleClick,i=e.textSize,o=n.icon,c=n.text,s=n.triggerAction.analytics,d=(0,g.KY)(),u=Ce(Te({},o),{size:"SMALL",description:""});return a.createElement(H.E,{theme:"default"},a.createElement("button",{type:"button",onClick:function(){if(s){var e=s.referrerId,t=s.linkName;d(e,t)}l&&l()},ref:t},null!=r?r:a.createElement(F.c,{size:null!=i?i:300},c),a.createElement(dr,{data:u})))}));_r.fragment=yr,_r.displayName="EGDSSearchFormMoreInfoTrigger";var vr=function(e){var t=e.data,n=(e.isCalendarTab,(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL?"start":"center"),r=Ae(a.useState(!1),2),i=r[0],o=r[1],c=Ae((0,U.useDialog)("more-info-trigger-sheet","pwaDialogNested"),3),s=c[0],u=c[1],m=c[2],p=a.useRef(null),y=function(){s?u.closeDialog():u.openDialog()},v=function(){o((function(e){var t;e&&(null===(t=p.current)||void 0===t||t.focus());return!e}))};return a.createElement(l.b,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement(b.i,{alignItems:"center",space:"two",justifyContent:n},a.createElement(b.j,null,a.createElement(l.b,null,a.createElement(_.p,{theme:"positive"}))),a.createElement(b.j,null,a.createElement(l.b,{padding:{blockstart:"three",blockend:"three"}},a.createElement(b.i,{justifyContent:"center"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,a.createElement(_r,{ref:p,data:t,onHandleClick:y,textSize:200}),a.createElement(m,null,a.createElement(pr,{toggleVisibility:y,isVisible:s,data:t.triggerAction.sheet},a.createElement(F.a,{size:2},t.triggerAction.text))))),a.createElement(d.rw,null,a.createElement("div",null,a.createElement(_r,{ref:p,data:t,onHandleClick:v,textSize:200}),a.createElement(pr,{toggleVisibility:v,isVisible:i,data:t.triggerAction.sheet,ref:p,position:{inline:"leading",block:"leading"},showOverTrigger:!0},a.createElement(F.a,{size:2},t.triggerAction.text))))))))))},Sr="EGDSBasicPill",gr=(0,u.J1)(Ye(),dr.fragment),Er=function(e){var t=e.data,n=e.onChange,r=e.triggerPill,l=e.onClick,i=e.active,o=t.accessibility,c=t.name,s=t.primary,d=t.selected,u=t.value,m=t.disabled,p=t.icon,y=t.selectAnalytics,_=t.deselectAnalytics,v=t.selectedText,S=(0,g.KY)(),E=null!=c?c:"egds-basic-pill",f=Ae(a.useState(d),2),h=f[0],D=f[1],b=(0,a.useRef)(!1),T=v||s,I=(0,C.u)(E,(function(e){var t=e.currentTarget.checked;if(D(t),b.current||(b.current=!0),n&&n(e),y&&t){var a=y.linkName,r=y.referrerId;return S(r,a),e}if(_&&!t){var l=_.linkName,i=_.referrerId;S(i,l)}return e}));return a.useEffect((function(){b.current&&(0,k.liveAnnounce)(null!=o?o:void 0,k.Level.POLITE)}),[o]),a.useEffect((function(){D(d)}),[d]),a.createElement(q.E,{checked:h,active:i,disabled:m,icon:"Icon"===(null==p?void 0:p.__typename)?p.token:"",id:E,name:"".concat(Sr,"-").concat(c),onChange:I,value:null!=u?u:"",altText:null!=o?o:"",triggerPill:r,onClick:function(){l&&l()}},h?T:s)};Er.displayName="EGDSBasicPill",Er.fragment=Ce(Te({},gr),{__typename:"EGDSBasicPill"});var fr=(0,u.J1)(qe(),Er.fragment),hr="EGDSDatePickerFlexibilityCalendarContent",Dr="".concat(hr,"-SelectedOption"),br=function(e){var t,n,r=e.data,i=e.onSelect,o=e.currentlySelectedPillValue,c=e.className,s=null!==(n=null==r||null===(t=r.flexibleDateOptions)||void 0===t?void 0:t.map((function(e){var t,n,a,r;return{selected:e.value===o,checked:e.value===o,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(n=e.value)&&void 0!==n?n:"",id:null!==(a=e.value)&&void 0!==a?a:"",altText:null!==(r=e.accessibility)&&void 0!==r?r:void 0}})))&&void 0!==n?n:[];return a.createElement(l.b,{margin:{medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement("div",{className:c},a.createElement(Y.S,{data:s,handleSelectedPill:function(e){i(e)}})))};br.displayName=hr,br.fragment=fr;var Tr=function(e){var t=e.flexibleCalendarProps,n=e.dailyPriceExplainabilityTextProps,r=null==t?void 0:t.data,l=null==t?void 0:t.includeFlexibleCalendarContent,i=null==n?void 0:n.isCalendarTab;return a.createElement(a.Fragment,null,n&&i&&a.createElement(vr,Te({},n)),l&&t&&r&&a.createElement(br,Ce(Te({},t),{data:r})))},Cr=(0,u.J1)(je()),Ir=function(e){var t=e.data,n=e.onTabSelected,r=e.backgroundColor,i=e.tabsType,o=t.tabs,c=t.selectedTabId,s=(0,g.KY)(),u=c?o.findIndex((function(e){return"EGDSBasicTab"===e.__typename?e.tabId===c:0})):0,m=Ae((0,a.useState)(u),2),p=m[0],y=m[1],_=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,v=_?S.c.EQUAL_WIDTH:S.c.NATURAL,E={selectedTab:-1!==p?p:0,onTabSelect:function(e){y(e);var t=o[e];if("EGDSBasicTab"===t.__typename){var a=t.clickAnalytics,r=t.tabId;!function(e){if(e&&"ClientSideAnalytics"===(null==e?void 0:e.__typename)){var t=e.linkName,n=e.referrerId;s(n,t)}}(a),n&&n(r)}},tabsType:null!=i?i:v,backgroundColor:null!=r?r:S.d.PRIMARY};return a.createElement(l.b,{padding:"half"},a.createElement("div",null,a.createElement(S.f,Te({},E),o.map((function(e){var t="EGDSBasicTab"===e.__typename?e.tabId:"",n="EGDSBasicTab"===e.__typename?e.label:"";return a.createElement(S.E,{id:t,key:t,name:n,targetURI:"#EGDSBasicTabSearchForm_".concat(t)})})))))};Ir.fragment=Cr,Ir.displayName="EGDSBasicTabs";var Ar=(0,u.J1)($e()),Or=function(e){var t,n=e.data,r=n.text,l=n.theme,i=n.size,o=n.accessibility,c={text:null!=r?r:"",theme:null!=l?l:"standard",size:null!=i?i:"large",a11yText:null!==(t=null!=o?o:r)&&void 0!==t?t:""};return r?a.createElement(_.p,Te({},c)):null};Or.displayName="EGDSStandardBadge",Or.fragment=Ar;var Fr=(0,u.J1)(Ke(),Or.fragment),kr=function(e){var t=e.data;return"EGDSStandardBadge"===t.__typename?a.createElement(Or,{data:t}):null};kr.displayName="SearchToolsEGDSBadge",kr.fragment=Fr;var Rr=(0,u.J1)(Qe()),Gr=function(e){var t=e.data,n=e.onChange,r=e.children,l=e.ariaLabel,i=t.primary,o=t.subText,c=t.disabled,s=t.selected,d=t.name,u=t.selectedAnalytics,m=t.unselectedAnalytics,p=(0,g.KY)();return a.createElement(B.tr,{id:null!=d?d:"",disabled:c,name:null!=d?d:"",checked:s,onChange:function(e){n&&n(e),function(e){var t=e?u:m;if("ClientSideAnalytics"===(null==t?void 0:t.__typename)){var n=t.linkName,a=t.referrerId;p(a,n)}}(!s)},"aria-label":null!=l?l:"".concat(i," ").concat(o)},r)};Gr.displayName="EGDSToggleButton",Gr.fragment=Rr;var Pr=(0,u.J1)(Je(),Gr.fragment),Lr=function(e){var t=e.data.options,n=Ae(a.useState(t),2),r=n[0],l=n[1],i=function(e){l((function(t){return t.map((function(t){return t.name===e.target.name?Ce(Te({},t),{selected:!t.selected}):t}))}))};return a.createElement($.b,{wrapButtons:!0},r.map((function(e,t){return a.createElement(Gr,{key:t,data:e,onChange:i})})))};Lr.displayName="EGDSToggleButtonGroup",Lr.fragment=Pr;var Nr=(0,u.J1)(Xe(),Lr.fragment),xr="EGDSDatePickerFlexibleMonths",Mr="".concat(xr,"-Options"),Br=function(e){var t=e.monthSelectionButton,n=e.onMonthSelectionToggle,r=e.badge,i=e.isBadgeLoading,o=t.icon,c=t.primary,s=t.subText;return a.createElement(Gr,{data:t,onChange:n,ariaLabel:"".concat(c," ").concat(s)},a.createElement(b.i,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"center"},o&&a.createElement(v.a,{name:"Icon"===(null==o?void 0:o.__typename)?o.id:""}),c&&a.createElement(F.c,{size:100,weight:"bold",spacing:"one"},null!=c?c:""),s&&a.createElement(l.b,{padding:{blockend:r||i?"one":"unset"}},a.createElement("div",null,a.createElement(F.c,{size:100},null!=s?s:""))),r&&!i&&a.createElement(kr,{data:r}),i&&a.createElement(T.b,{animation:!0,type:"secondary"})))},wr=function(e){var t=e.data,n=e.monthsSelectionToggleButtons,r=e.onMonthSelectionToggle,i=e.priceInsightsPrices,o=e.isPriceInsightsDataLoading,c=e.priceInsightsExplainabilityText,s=e.hasMobileExplainabilityTextBeenClicked,u=t.heading,m=t.subHeading,p=(0,d.eg)({viewSizes:d.pf}),y=p<=d.pf.MEDIUM,_=p<=d.pf.SMALL,v={grow:1,maxWidth:_||y?void 0:"twenty_four",minWidth:_||y?"quarter_width":void 0},S=Ae(a.useState(!1),2),g=S[0],E=S[1],f=Ae(a.useState(!1),2),D=f[0],C=f[1],I=a.useRef(null);a.useEffect((function(){C(!0)}),[s]),a.useEffect((function(){C(!1)}),[]);var A=function(){E((function(e){var t;e&&(null===(t=I.current)||void 0===t||t.focus());return!e}))};return a.createElement("div",null,a.createElement(b.i,{alignItems:"center",direction:"column",space:"three"},a.createElement(b.j,null,a.createElement("div",null,a.createElement(F.E,{size:6,align:"center"},u),a.createElement(F.b,null,m)))),n&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(b.i,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},null==n?void 0:n.options.map((function(e,t){return a.createElement(b.j,Ce(Te({},v),{key:t}),a.createElement("div",null,a.createElement(Br,{monthSelectionButton:e,onMonthSelectionToggle:r,badge:i?i[t]:null,isBadgeLoading:o})))})))),c&&a.createElement(pr,{isVisible:D,data:c.triggerAction.sheet,toggleVisibility:function(){return C(!1)}},a.createElement(F.a,{size:2},c.triggerAction.text)))),a.createElement(d.zQ,null,a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(h.E,{columns:6,space:"three"},null==n?void 0:n.options.map((function(e,t){return a.createElement(h.a,Ce(Te({},v),{key:t}),a.createElement("div",null,a.createElement(Br,{monthSelectionButton:e,onMonthSelectionToggle:r,badge:i?i[t]:null,isBadgeLoading:o})))})))),a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement(b.i,{justifyContent:"center"},a.createElement(a.Fragment,null,c&&!o&&a.createElement("div",null,a.createElement(_r,{ref:I,data:c,onHandleClick:A,textSize:200}),a.createElement(pr,{toggleVisibility:A,isVisible:g,data:c.triggerAction.sheet,ref:I,position:{inline:"trailing",block:"leading"},showOverTrigger:!0},a.createElement(F.a,{size:2},c.triggerAction.text))),o&&a.createElement(T.b,{animation:!0}))))))))};wr.displayName=xr,wr.fragment=Nr;var Wr=(0,u.J1)(Ze()),Ur=function(e){var t=e.data,n=e.checked,r=e.onChange,l=t.egdsElementId,i=t.description,o=t.enabled,c=t.name,s=t.required,d=t.label,u=t.checkedAnalytics,m=t.uncheckedAnalytics,p=t.state,y=Ae(a.useState(null!=n?n:"CHECKED"===p),2),_=y[0],v=y[1];a.useEffect((function(){v(null!=n?n:"CHECKED"===p)}),[n,p]);var S=(0,g.KY)(),E=a.useCallback((function(e){if(v(e.currentTarget.checked),u&&!_){var t=u.referrerId,n=u.linkName;S(t,n)}if(m&&_){var a=m.referrerId,l=m.linkName;S(a,l)}null==r||r(e)}),[u,_,r,S,m]);return a.createElement(K.E,{id:null!=l?l:"",checked:_,description:null!=i?i:void 0,disabled:!o,name:null!=c?c:void 0,onChange:E,required:s},null==d?void 0:d.text)};Ur.displayName="EGDSBasicCheckBox",Ur.fragment=Ce(Te({},Wr),{__typename:"EGDSBasicCheckBox"});var Hr=(0,u.J1)(et(),Ur.fragment),zr=function(e){var t=e.data,n=e.onChange;return"EGDSBasicCheckBox"===(null==t?void 0:t.__typename)?a.createElement(Ur,{onChange:n,data:t}):null};zr.displayName="EGDSCheckBox",zr.fragment=Hr;var Vr=(0,u.J1)(tt()),Yr=function(e){var t,n=e.data,r=e.onClick,l=n.id,i=n.primary,o=n.accessibility,c=n.removeAnalytics,s=n.name,d=n.value,u=null!==(t=null!=l?l:s)&&void 0!==t?t:"egds-basic-removable-pill",m=(0,g.KY)();return a.createElement("div",null,a.createElement(q.a,{id:u,onClick:function(e){if(r&&r({event:e,id:null!=l?l:""}),c){var t=c.referrerId,n=c.linkName;m(t,n)}},a11yRemoveText:o||""},i),a.createElement("input",{type:"hidden",name:null!=s?s:"",value:null!=d?d:""}))};Yr.displayName="EGDSBasicRemovablePill",Yr.fragment=Vr;var qr=(0,u.J1)(nt(),dr.fragment),jr=function(e){var t=e.data,n=e.onChange,r=e.triggerPill,l=e.onClick,i=e.domRef,o=e.active,c=t.id,s=t.primary,d=t.selected,u=t.disabled,m=t.icon,p=t.selectAnalytics,y=t.deselectAnalytics,_=t.accessibility,v=(0,g.KY)(),S=null!=c?c:"egds-basic-pill",E=Ae(a.useState(o||d),2),f=E[0],h=E[1];a.useEffect((function(){h(null!=o&&o)}),[o]);var D=(0,C.u)(S,(function(e){if(h(!f),n&&n(e),l&&l(),p&&f){var t=p.linkName,a=p.referrerId;return v(a,t),e}if(y&&!f){var r=y.linkName,i=y.referrerId;v(i,r)}return e}));return a.createElement(q.E,{checked:f,active:f,selected:d,disabled:u,icon:"Icon"===(null==m?void 0:m.__typename)?m.token:"",id:S,name:"".concat("EGDSBasicTriggerPill","-").concat(S),triggerPill:r,onClick:D,altText:null!=_?_:"",domRef:i},s)};jr.displayName="EGDSBasicTriggerPill",jr.fragment=qr;var $r=(0,u.J1)(at(),Er.fragment,jr.fragment,Yr.fragment),Kr=function(e){var t=e.data;switch(t.__typename){case"EGDSBasicPill":return a.createElement(Er,Ce(Te({},e),{data:t}));case"EGDSBasicTriggerPill":return a.createElement(jr,Ce(Te({},e),{data:t}));case"EGDSBasicRemovablePill":return a.createElement(Yr,Ce(Te({},e),{data:t}));default:return null}};Kr.displayName="SearchToolsEGDSPill",Kr.fragment=$r;var Qr=(0,u.J1)(rt(),Kr.fragment,zr.fragment),Jr="EGDSDatePickerFlexibleNights",Xr="".concat(Jr,"-Options"),Zr="".concat(Jr,"-Weekend"),el=function(e){var t=e.data,n=e.onNightSelectionPillChange,r=e.nightsSelectionPills,l=e.onIncludeWeekendCheck,i=e.includeWeekendCheckbox,o=t.heading;return a.createElement("div",null,a.createElement(b.i,{alignItems:"center",direction:"column",space:"three"},a.createElement(b.j,null,a.createElement(F.E,{size:6},o)),a.createElement(b.j,null,a.createElement(Y.S,{data:r,handleSelectedPill:n,wrap:!0,align:"center"}),";"),i&&a.createElement(b.j,null,a.createElement(zr,{data:i,onChange:l}))))};el.displayName=Jr,el.fragment=Qr;var tl=(0,u.J1)(lt(),wr.fragment,el.fragment),nl=function(e){var t=e.data,n=e.className,r=e.onNightSelectionPillChange,i=e.nightsSelectionPills,o=e.onIncludeWeekendCheck,c=e.includeWeekendCheckbox,s=e.monthsSelectionToggleButtons,d=e.onMonthSelectionToggle,u=e.priceInsightsPrices,m=e.isPriceInsightsDataLoading,p=e.priceInsightsExplainabilityText,y=e.hasMobileExplainabilityTextBeenClicked,_=t.nightsSelection,v=t.monthsSelection;return a.createElement(l.b,{padding:"four"},a.createElement("div",{className:n},_&&a.createElement(el,{data:_,onNightSelectionPillChange:r,nightsSelectionPills:i,onIncludeWeekendCheck:o,includeWeekendCheckbox:c}),a.createElement(l.c,{blockMargin:"six"}),v&&a.createElement(wr,{data:v,isPriceInsightsDataLoading:m,priceInsightsPrices:u,monthsSelectionToggleButtons:s,onMonthSelectionToggle:d,priceInsightsExplainabilityText:p,hasMobileExplainabilityTextBeenClicked:y})))};nl.displayName="EGDSDatePickerFlexibilityDatesContent",nl.fragment=tl;var al=(0,u.J1)(it(),Ir.fragment,br.fragment,nl.fragment),rl=function(e){var t=e.data,n=e.children,r=e.className,l=e.onContentSelectorSelection,i=e.onNightSelectionPillChange,o=e.nightsSelectionPills,c=e.onIncludeWeekendCheck,s=e.includeWeekendCheckbox,u=e.monthsSelectionToggleButtons,m=e.onMonthSelectionToggle,p=e.contentSelector,y=e.priceInsightsPrices,_=e.isPriceInsightsDataLoading,v=e.priceInsightsExplainabilityText,g=e.hasMobileExplainabilityTextBeenClicked,E=t.flexibleDatesContent,f="EGDSBasicTabs"===(null==p?void 0:p.__typename)?p.selectedTabId:"",h={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},D=function(){if("EGDSBasicTabs"===(null==p?void 0:p.__typename)){var e=p.tabs;return"EGDSBasicTab"===e[0].__typename&&"EGDSBasicTab"===e[1].__typename?{calendarTabId:e[0].tabId,flexibleTabId:e[1].tabId}:h}return h}(),b=D.calendarTabId,T=D.flexibleTabId,C=a.createElement("div",{className:r},"EGDSBasicTabs"===(null==p?void 0:p.__typename)&&a.createElement(Ir,{data:p,onTabSelected:l,backgroundColor:S.d.SECONDARY,tabsType:S.c.EQUAL_WIDTH}),f===b&&n,f===T&&E&&a.createElement(nl,{data:E,priceInsightsPrices:y,isPriceInsightsDataLoading:_,onNightSelectionPillChange:i,nightsSelectionPills:o,onIncludeWeekendCheck:c,includeWeekendCheckbox:s,monthsSelectionToggleButtons:u,onMonthSelectionToggle:m,priceInsightsExplainabilityText:v,hasMobileExplainabilityTextBeenClicked:g}));return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(j.E,{direction:"vertical"},C)),a.createElement(d.rw,null,C))};rl.displayName="EGDSDatePickerFlexibilityContent",rl.fragment=al;var ll=function(e){var t,n=null===(t=e.find((function(e){return e.selected})))||void 0===t?void 0:t.value;return!!n&&((null==n?void 0:n.includes("WEEK"))||(null==n?void 0:n.includes("6_DAY_LOWER,7_DAY_UPPER"))||(null==n?void 0:n.includes("MONTH")))},il={INCLUDE_WEEKEND_UPDATE:function(e,t){var n=t.checked,a=t.enabled,r=void 0===a||a;return e.includeWeekendCheckbox.data?Ce(Te({},e),{includeWeekendCheckbox:Ce(Te({},e.includeWeekendCheckbox),{data:Ce(Te({},e.includeWeekendCheckbox.data),{state:n,enabled:r})})}):Te({},e)},INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE:function(e,t){var n=t.checked;return e.includeWeekendCheckbox.data?Ce(Te({},e),{includeWeekendCheckbox:Ce(Te({},e.includeWeekendCheckbox),{checkboxNightsState:n})}):Te({},e)},INCLUDE_WEEKEND_RESET:function(e){var t;return e.includeWeekendCheckbox.data?Ce(Te({},e),{includeWeekendCheckbox:Ce(Te({},e.includeWeekendCheckbox),{data:null!==(t=e.includeWeekendCheckbox.prevIncludeWeekendState)&&void 0!==t?t:e.includeWeekendCheckbox.data})}):Te({},e)},INCLUDE_WEEKEND_PREV_STATE_UPDATE:function(e,t){var n=t.prevIncludeWeekendState;return e.includeWeekendCheckbox.data?Ce(Te({},e),{includeWeekendCheckbox:Ce(Te({},e.includeWeekendCheckbox),{prevIncludeWeekendState:n})}):Te({},e)}},ol={MONTHS_SELECTION_UPDATE:function(e,t){var n=t.selectedMonth;if(e.monthsOptions.data&&n){var a=e.monthsOptions.data.options.map((function(e){return e.name===n?Ce(Te({},e),{selected:!e.selected}):e}));return Ce(Te({},e),{monthsOptions:Ce(Te({},e.monthsOptions),{data:Ce(Te({},e.monthsOptions.data),{options:Fe(a)})})})}return Te({},e)},MONTHS_SELECTION_RESET:function(e){var t;return e.monthsOptions.data?Ce(Te({},e),{monthsOptions:Ce(Te({},e.monthsOptions),{data:null!==(t=e.monthsOptions.prevMonthsOptionsSelected)&&void 0!==t?t:e.monthsOptions.data})}):Te({},e)},MONTHS_SELECTION_PREV_STATE_UPDATE:function(e,t){var n=t.prevMonthsOptions;return Ce(Te({},e),{monthsOptions:Ce(Te({},e.monthsOptions),{prevMonthsOptionsSelected:n})})},MONTHS_SELECTION_DEFAULT_UPDATE:function(e){if(e.monthsOptions.data){var t=e.monthsOptions.data.options.map((function(e,t){return 0===t||1===t?Ce(Te({},e),{selected:!e.selected}):e}));return Ce(Te({},e),{monthsOptions:Ce(Te({},e.monthsOptions),{data:Ce(Te({},e.monthsOptions.data),{options:Fe(t)})})})}return Te({},e)},MONTHS_SELECTION_OPTIONS_UPDATE:function(e,t){var n=t.monthsSelectionOptions;return e.monthsOptions.data?Ce(Te({},e),{monthsOptions:Ce(Te({},e.monthsOptions),{data:Ce(Te({},e.monthsOptions.data.options),{__typename:"EGDSToggleButtonGroup",options:n})})}):Te({},e)}},cl={NIGHTS_OPTIONS_CHANGED:function(e,t){var n=t.nightsRangeSelected;if(e.nightsSelection.data){var a=e.nightsSelection.data.map((function(e){return e.value===n?Ce(Te({},e),{selected:!0}):Ce(Te({},e),{selected:!1})}));return Ce(Te({},e),{nightsSelection:Ce(Te({},e.nightsSelection),{data:Fe(a)})})}return Te({},e)},NIGHTS_OPTIONS_PREV_STATE_UPDATE:function(e,t){var n=t.prevNightsOptions;return Ce(Te({},e),{nightsSelection:Ce(Te({},e.nightsSelection),{prevNightsRangeSelected:n})})},NIGHTS_OPTIONS_RESET:function(e){var t;return e.nightsSelection.data?Ce(Te({},e),{nightsSelection:Ce(Te({},e.nightsSelection),{data:null!==(t=e.nightsSelection.prevNightsRangeSelected)&&void 0!==t?t:e.nightsSelection.data})}):Te({},e)}},sl={CONTENT_SELECTOR_CHANGED:function(e,t){var n=t.tabSelected;return e.contentSelector.data?Ce(Te({},e),{contentSelector:Ce(Te({},e.contentSelector),{data:Ce(Te({},e.contentSelector.data),{selectedTabId:null!=n?n:""})})}):Te({},e)},CONTENT_SELECTOR_RESET:function(e){if(e.contentSelector.data){var t=e.contentSelector,n=t.prevTabSelected,a=t.data.selectedTabId;return Ce(Te({},e),{contentSelector:Ce(Te({},e.contentSelector),{data:Ce(Te({},e.contentSelector.data),{selectedTabId:null!=n?n:a})})})}return Te({},e)},CONTENT_SELECTOR_PREV_STATE_UPDATE:function(e,t){var n=t.prevTab;return Ce(Te({},e),{contentSelector:Ce(Te({},e.contentSelector),{prevTabSelected:null!=n?n:e.contentSelector.prevTabSelected})})}},dl=Te({},sl,cl,il,ol),ul=function(e,t){var n=dl[t.type];return n?n(e,t):e},ml=function(e){var t=e.data,n=e.isPriceInsightsLoading,r=e.onHandleClick;return a.createElement(l.b,{padding:{blockend:"three",inline:"two"}},a.createElement("div",null,n&&a.createElement(T.b,{animation:!0}),t&&!n&&a.createElement(_r,{onHandleClick:r,data:t,textSize:200})))},pl=(0,u.J1)(ot(),_r.fragment,Gr.fragment,kr.fragment),yl=(0,u.J1)(ct(),pl),_l=(0,u.J1)(st(),_r.fragment),vl=(0,u.J1)(dt(),_l),Sl="on_submit",gl="on_close",El="on_checkin_date_change",fl=function(e){var t,n,r,l,i,o,c,s,u,m,y,_,v,S,E,f,h,D,b,T,A,O,F=e.autoOpen,k=e.startDate,R=e.endDate,G=e.enableSameDayDateRange,P=e.buttonText,x=e.clearButtonText,M=e.inputLabel1,B=e.inputLabel2,w=e.allowClearDates,U=e.validDaysLowerBoundInclusive,H=e.validDaysUpperBoundInclusive,z=e.skipQuery,V=e.typename,Y=e.errorMessage,q=e.buttonTextTemplate,j=e.onClearDates,$=e.onSelectEndDate,K=e.onSelectStartDate,Q=e.onChangeEndDate,J=e.onChangeStartDate,X=e.onClose,Z=e.onOpen,ee=e.setFieldRefByTypename,te=e.onNextCalendarClick,ne=e.onPreviousCalendarClick,ae=e.flexibleDateContent,re=e.flexibleContentConfig,le=e.dialogId,ie=e.startDateString,oe=e.endDateString,ce=e.showCalendar,se=e.toggleCalendar,de=e.showStartDateEndDateHiddenInputs,ue=e.input1Stid,me=e.popoverWidth,pe=e.gaiaId,ye=e.onFlexibleTabSelection,_e=e.dailyPriceInsightsConfig,ve=e.priceInsightsDayData,Se=e.dayTemplateComponent,ge=e.handleCalendarScroll,Ee=e.dailyPriceAnalytics,fe=e.dailyPriceInsightsExplainabilityText,he=(0,p.R)().context,De=(0,g.iQ)(),be=ja(he),Ie=(0,g.KY)(),Oe=(0,I.useLocalization)(),ke=Oe.formatDateString,Re=a.useRef(null),Ge=Ae(a.useState(null),2),Pe=Ge[0],Le=Ge[1],Ne=Ae(a.useState(),2),xe=Ne[0],Me=Ne[1],Be=Ae(a.useState(null),2),we=Be[0],We=Be[1],Ue=(0,N.useExperiment)("Monthly_Price_Insights_in_Flex_Search"),He=Ue.exposure,ze=Ue.logExperiment,Ve=Ae((0,L._)(yl,{onCompleted:function(e){if(e.searchFormPriceInsights.flexibleDatesMonthly.options){var t=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((function(e){return e.button})).filter(Za),n=e.searchFormPriceInsights.flexibleDatesMonthly.options.map((function(e){return e.price})).filter(Za);1===He.bucket&&(Pe||Le(t),Me(n),We(e.searchFormPriceInsights.flexibleDatesMonthly.explainabilityText))}}}),2),Ye=Ve[0],qe=Ve[1].loading,je=(0,N.useExperiment)("Monthly_Price_Insights_api_call_gate_web"),$e=je.exposure,Ke=je.logExperiment,Qe=(0,N.useExperiment)("Auto_close_date_selector_after_end_date_selection"),Je=Qe.exposure,Xe=Qe.logExperiment,Ze=function(e,t){var n=null!=e?e:t?Ua(t):"";return n?ke(n,{raw:"yyyy-MM-dd"}):null};F&&Z&&Z();var et=Ze(ie,k),tt=Ze(oe,R),nt=Ae(a.useState(et),2),at=nt[0],rt=nt[1],lt=Ae(a.useState(tt),2),it=lt[0],ot=lt[1],ct=Ae(a.useState(et),2),st=ct[0],dt=ct[1],ut=Ae(a.useState(tt),2),mt=ut[0],pt=ut[1],yt=Ae(a.useState(500),2),_t=yt[0],vt=yt[1],St=Ae(a.useState(!1),2),gt=St[0],Et=St[1],ft="boolean"==typeof ce&&se,ht=Ae(a.useState(ft?ce:null!=F&&F),2),Dt=ht[0],bt=ht[1],Tt=Ae(a.useState(Dt),2),Ct=Tt[0],It=Tt[1],At=Ae(a.useState(!1),2),Ot=At[0],Ft=At[1],kt=a.useMemo((function(){return H?Ua(H):wa(_t)}),[_t,H]),Rt=a.useMemo((function(){return U?Ua(U):void 0}),[U]),Gt=Ae(a.useState({defaults:{validStartDate:Rt,validEndDate:kt}}),2),Pt=Gt[0],Lt=Gt[1];a.useEffect((function(){if(ve&&(null==_e?void 0:_e.dailyPriceInsightsEnabled)){var e=qa(ve,k,et,tt,st,mt,!1,!1,R),t=Ya(st,mt,!0,e,Oe);Lt((function(e){return Ce(Te({},e,t),{defaults:Ce(Te({},e.defaults),{dateText:{textTheme:null}})})}))}else Lt({defaults:{validStartDate:Rt,validEndDate:kt}})}),[kt,Rt,ve,_e]);var Nt,xt,Mt,Bt,wt,Wt,Ut,Ht,zt,Vt,Yt,qt=Ae(a.useState("EGDSCardinalLocalizedText"===(null==q?void 0:q.__typename)?q.text:P),2),jt=qt[0],$t=qt[1],Kt=null==ae||null===(t=ae.calendarContent)||void 0===t?void 0:t.flexibleDateOptions,Qt=null!==(Nt=null==Kt?void 0:Kt.find((function(e){return st&&mt?e.selected:za(e)})))&&void 0!==Nt?Nt:null,Jt=(null==Qt?void 0:Qt.primary)?"(".concat(Qt.primary,")"):void 0,Xt={value:null==Qt?void 0:Qt.value,hasValueChanged:!1,trailingText:Qt&&za(Qt)?"":Jt},Zt=Ae(a.useState(Xt),2),en=Zt[0],tn=Zt[1],nn=(0,d.eg)({viewSizes:d.pf})>=d.pf.LARGE,an=null==ae?void 0:ae.contentSelector,rn=(Mt=null!==(xt=null==ae||null===(n=ae.flexibleDatesContent)||void 0===n?void 0:n.nightsSelection)&&void 0!==xt?xt:null,null!==(Bt=null==Mt?void 0:Mt.options.map((function(e){var t,n,a,r;return{selected:e.selected,checked:!1,text:null!==(t=e.primary)&&void 0!==t?t:"",disabled:e.disabled,value:null!==(n=e.value)&&void 0!==n?n:"",id:null!==(a=e.name)&&void 0!==a?a:"",altText:null!==(r=e.accessibility)&&void 0!==r?r:""}})))&&void 0!==Bt?Bt:[]),ln=null!==(wt=null==ae||null===(l=ae.flexibleDatesContent)||void 0===l||null===(r=l.nightsSelection)||void 0===r?void 0:r.includeWeekend)&&void 0!==wt?wt:null,on=null!==(Wt=null==ae||null===(o=ae.flexibleDatesContent)||void 0===o||null===(i=o.monthsSelection)||void 0===i?void 0:i.options)&&void 0!==Wt?Wt:null,cn={contentSelector:{data:null!=an?an:null},nightsSelection:{data:rn},includeWeekendCheckbox:{data:ln,checkboxNightsState:ll(rn)?"UNCHECKED":null!==(Ut=null==ln?void 0:ln.state)&&void 0!==Ut?Ut:"UNCHECKED"},monthsOptions:{data:on}},sn=Ae((Ht=cn,[(zt=Ae((0,a.useReducer)(ul,Ht),2))[0],zt[1]]),2),dn=sn[0],un=sn[1],mn=dn.contentSelector,pn=dn.nightsSelection,yn=dn.includeWeekendCheckbox,_n=dn.monthsOptions,vn="EGDSBasicTab"===(null===(s=mn.data)||void 0===s||null===(c=s.tabs[0])||void 0===c?void 0:c.__typename)?null===(m=mn.data)||void 0===m||null===(u=m.tabs[0])||void 0===u?void 0:u.tabId:"date_form_nested_flexible_tab_calendar",Sn="EGDSBasicTab"!==(null===(_=mn.data)||void 0===_||null===(y=_.tabs[0])||void 0===y?void 0:y.__typename)||mn.data.selectedTabId===vn,gn=null!==(Vt=(null==re?void 0:re.includeFlexibleDatesContent)&&!Sn)&&void 0!==Vt&&Vt,En=Ae(a.useState(),2),fn=En[0],hn=En[1],Dn=(0,C.u)((Yt=Sn&&(null==re?void 0:re.includeFlexibleCalendarContent)&&en.trailingText,gn||Yt?"".concat(V,"-Flexible"):V),(function(e){return e})),bn=Ae(a.useState(),2),Tn=bn[0],Cn=bn[1];a.useEffect((function(){!(null==Tn?void 0:Tn.includes(gl))||(null==Tn?void 0:Tn.includes(Sl))||nn?Cn(null):(la&&(un({type:"CONTENT_SELECTOR_RESET"}),Gn()),An())}),[Tn]),a.useEffect((function(){var e,t;un({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:rn}),un({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:ln}),un({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:null!==(t=null===(e=mn.data)||void 0===e?void 0:e.selectedTabId)&&void 0!==t?t:vn}),un({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:on})}),[]),a.useEffect((function(){if(gt){Et(!1);var e="";st&&mt&&(e=Rn()),rr(Sn?e:null!=fn?fn:"",Dn)}}),[gt]),a.useEffect((function(){if(et&&(dt(et),rt(et)),tt&&(pt(tt),ot(tt)),et||tt||(dt(""),pt("")),H){var e=Ua(H).getTime()-(new Date).getTime();vt(Wa(e))}}),[tt,et,z,U,H]),a.useEffect((function(){z||(null==Qt?void 0:Qt.value)===en.value||tn(Xt)}),[Qt,z]),a.useEffect((function(){ee("EGDSSearchFormDatePickerField",Re)}),[]);var In=a.useCallback((function(){var e,t;Dt&&(null!==(t=null==Re||null===(e=Re.current)||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:20)<=20&&(bt(!1),document.body.click())}),[Dt]);a.useEffect((function(){if(Dt)return window.addEventListener("scroll",In),function(){return window.removeEventListener("scroll",In)}}),[Dt,In]),a.useEffect((function(){var e;ft&&(ce&&!Ct?null===(e=Re.current)||void 0===e||e.click():!ce&&Ct&&document.body.click())}),[ce,se]);var An=function(){dt(at),pt(it)},On=function(e,t){if("EGDSCardinalLocalizedText"===(null==q?void 0:q.__typename)&&e&&t){var n=Number(new Date(e)),a=Number(new Date(null!=t?t:"")),r=Wa(a-n);$t((i=r,(o=(l=q).templates.find((function(e){return e.category===Ma(i)})))?Da(o.template,l.models[0].key,i.toString()):""))}var l,i,o},Fn=function(){var e,t=null!==(e=null==Kt?void 0:Kt.find((function(e){return"0_day"===e.value})))&&void 0!==e?e:null;if(t){var n=t.value;tn({value:n,trailingText:"",hasValueChanged:!0})}},kn=function(){var e,t=null==ae||null===(e=ae.flexibilityLabel)||void 0===e?void 0:e.templates,n=null==Jn?void 0:Jn.text,a=null==Xn?void 0:Xn.map((function(e){return e.shortMonthName})),r=on&&a.length>0,l=r&&a.length>6?5:a.length-1,i=r&&t?t[l].template:"",o=r?[n].concat(Fe(a)):[],c=i;return o.forEach((function(e,t){var n,a,r=null==ae||null===(a=ae.flexibilityLabel)||void 0===a||null===(n=a.models[t])||void 0===n?void 0:n.key;c=Da(c,null!=r?r:"",null!=e?e:"")})),c};a.useEffect((function(){gn&&hn(kn)}),[]);var Rn=function(){var e="".concat(st," - ").concat(mt),t=nr(e,Oe),n=en.trailingText;return n&&Sn&&(null==re?void 0:re.includeFlexibleCalendarContent)?"".concat(t," ").concat(n):e},Gn=function(){_n.prevMonthsOptionsSelected&&un({type:"MONTHS_SELECTION_RESET"}),pn.prevNightsRangeSelected&&un({type:"NIGHTS_OPTIONS_RESET"}),yn.prevIncludeWeekendState&&un({type:"INCLUDE_WEEKEND_RESET"})},Pn=function(){if(gn){var e,t,n=kn();hn(n),null!==(t=null===(e=_n.data)||void 0===e?void 0:e.options.some((function(e){return e.selected})))&&void 0!==t&&t||un({type:"MONTHS_SELECTION_DEFAULT_UPDATE"});var a=pn.prevNightsRangeSelected!==pn.data||(null==yn?void 0:yn.prevIncludeWeekendState)!==(null==yn?void 0:yn.data)||(null==_n?void 0:_n.prevMonthsOptionsSelected)!==_n.data;un({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:_n.data}),un({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:null==yn?void 0:yn.data}),un({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:pn.data}),Et(a)}if(la){var r,l,i="EGDSBasicTabs"===(null==mn||null===(r=mn.data)||void 0===r?void 0:r.__typename)?null===(l=mn.data)||void 0===l?void 0:l.selectedTabId:"";un({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:i}),mn.prevTabSelected!==i&&Et(!0)}};a.useEffect((function(){Pe&&un({type:"MONTHS_SELECTION_OPTIONS_UPDATE",monthsSelectionOptions:Pe})}),[Pe]);var Ln,Nn,xn,Mn,Bn,wn,Wn,Un,Hn,zn,Vn,Yn,qn,jn,$n,Kn,Qn=gn?(Hn=null===(Ln=pn.data)||void 0===Ln?void 0:Ln.find((function(e){return!0===e.selected})),zn=(null===(Nn=_n.data)||void 0===Nn?void 0:Nn.options)?[null==_n||null===(xn=_n.data)||void 0===xn?void 0:xn.options[0],null==_n||null===(Mn=_n.data)||void 0===Mn?void 0:Mn.options[1]]:[],Vn=null!==(Wn=null===(wn=_n.data)||void 0===wn||null===(Bn=wn.options)||void 0===Bn?void 0:Bn.filter((function(e){return e.selected})))&&void 0!==Wn?Wn:[],{selectedFlexibleDatesNights:Hn,selectedFlexibleDatesMonths:null==(Un=Vn&&(null==Vn?void 0:Vn.length)>0?Vn:zn)?void 0:Un.map((function(e){var t,n,a=null===(t=e.name)||void 0===t?void 0:t.split("_"),r=null!==(n=null==a?void 0:a.splice(a.length-2,a.length).join("_"))&&void 0!==n?n:"";return{shortMonthName:a?a[a.length-1]:"",monthsDate:r}})).filter((function(e){return!!e.monthsDate&&!!e.shortMonthName}))}):{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]},Jn=Qn.selectedFlexibleDatesNights,Xn=Qn.selectedFlexibleDatesMonths,Zn=Ae(a.useState(!1),2),ea=Zn[0],ta=Zn[1],na={data:ae,onNightSelectionPillChange:function(e){un({type:"NIGHTS_OPTIONS_CHANGED",nightsRangeSelected:e}),function(e){var t,n,a,r=pn.data.findIndex((function(t){return t.value===e})),l=null==ae||null===(a=ae.flexibleDatesContent)||void 0===a||null===(n=a.nightsSelection)||void 0===n||null===(t=n.options[r])||void 0===t?void 0:t.selectAnalytics;(null==l?void 0:l.linkName)&&(null==l?void 0:l.referrerId)&&Ie(l.referrerId,l.linkName)}(e);var t=e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER")||e.includes("MONTH"),n=e.includes("DAY"),a=ll(pn.data);t&&un({type:"INCLUDE_WEEKEND_UPDATE",checked:"CHECKED",enabled:!1}),n&&a&&un({type:"INCLUDE_WEEKEND_UPDATE",checked:yn.checkboxNightsState,enabled:!0})},nightsSelectionPills:pn.data,includeWeekendCheckbox:yn.data,onIncludeWeekendCheck:function(e){var t=e.target.checked?"CHECKED":"UNCHECKED";un({type:"INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE",checked:t}),un({type:"INCLUDE_WEEKEND_UPDATE",checked:t})},onMonthSelectionToggle:function(e){un({type:"MONTHS_SELECTION_UPDATE",selectedMonth:e.target.name})},monthsSelectionToggleButtons:_n.data,onContentSelectorSelection:function(e){var t;de("EGDSBasicTabs"===(null===(t=mn.data)||void 0===t?void 0:t.__typename)&&e===vn),un({type:"CONTENT_SELECTOR_CHANGED",tabSelected:e}),e!==vn&&(null==ye||ye(),ze(He))},contentSelector:mn.data,priceInsightsPrices:xe,isPriceInsightsDataLoading:qe,priceInsightsExplainabilityText:we,hasMobileExplainabilityTextBeenClicked:ea},aa=(null==ae?void 0:ae.contentSelector)&&(null==re?void 0:re.includeFlexibleDatesContent)?{component:rl,props:na}:void 0,ra=nn||Sn?Tr:ml,la=!!aa,ia=null==re?void 0:re.includeFlexibleCalendarContent,oa="EGDSBasicTabs"===(null===(v=mn.data)||void 0===v?void 0:v.__typename)&&Sn?"":"is-visually-hidden is-hidden",ca={data:null!==(Yn=null==ae?void 0:ae.calendarContent)&&void 0!==Yn?Yn:{},onSelect:function(e){if(null==Kt?void 0:Kt.length){var t=Kt.find((function(t){return t.value===e}));if(t){var n=t.selectAnalytics,a=t.value,r=t.primary,l=za(t)?"":"(".concat(r,")");tn((function(e){var t,n,r=null!==(n=null===(t=Kt.find((function(t){return t.value===e.value})))||void 0===t?void 0:t.deselectAnalytics)&&void 0!==n?n:null;return r&&Ie(r.referrerId,r.linkName),{value:a,trailingText:l,prevValue:e.value,hasValueChanged:!0}})),n&&Ie(n.referrerId,n.linkName)}}},currentlySelectedPillValue:null!==(qn=en.value)&&void 0!==qn?qn:"",className:la?oa:"",includeFlexibleCalendarContent:!(!(null==re?void 0:re.includeFlexibleCalendarContent)||!(null==ae?void 0:ae.calendarContent))},sa=nn||!we||Sn?{flexibleCalendarProps:ca,dailyPriceExplainabilityTextProps:fe?{data:fe,isCalendarTab:Sn}:void 0}:{data:we,onHandleClick:function(){return ta((function(e){return!e}))},isPriceInsightsLoading:qe},da={inputName1:"EGDSDateRange-date-selector-trigger",input1Stid:null!=ue?ue:"default",autoCloseOnSelection:1===Je.bucket,allowClearDates:null!==(jn=w&&Sn)&&void 0!==jn&&jn,clearButtonLabel:x,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",dayTemplateComponent:null!=Se?Se:lr,dayData:Pt,endDate:mt,enableSameDayDateRange:G,inputLabel1:M,inputLabel2:B,locale:be,maxDate:kt,minDate:Rt,onDateRangeChange:function(e,t){var n,a,r=mt!==e,l=R&&r;(Et(!1),Ft(!0),null===e&&null!==st||dt(e),e)&&(J(e),st!==e&&K(),ve&&"positive"===(null===(a=ve[e])||void 0===a||null===(n=a.dateText)||void 0===n?void 0:n.textTheme)&&(null==Ee?void 0:Ee.startDateAnalytics)&&De({clientPayload:JSON.parse(null==Ee?void 0:Ee.startDateAnalytics)}));e||(dt(""),J(""),K());var i,o=function(e){var t,n;return null==e||null===(n=e.toISOString())||void 0===n||null===(t=n.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi))||void 0===t?void 0:t[0]}(e&&(null==(i=new Date(e))||i.setDate(i.getDate()+1),i)),c=t||o||null;t&&Xe(Je),c?(pt(c),mt!==c&&$(),Q(c),On(e,c)):e?dt(e):e||(pt(""),Q(""),$()),function(e,t,n,a){var r=a.formatDateString;if(e&&t){var l=new Date(e),i=new Date(t);if(l<i){l.setDate(l.getDate()+1);for(var o=l;o<=i;o.setDate(o.getDate()+1)){var c,s;if("positive"===(null===(s=n[r(o,{raw:Ba})])||void 0===s||null===(c=s.dateText)||void 0===c?void 0:c.textTheme))return!0}}}return!1}(e,c,Pt,Oe)&&(null==Ee?void 0:Ee.rangeAnalytics)&&De({clientPayload:JSON.parse(Ee.rangeAnalytics)}),ve&&(null==_e?void 0:_e.dailyPriceInsightsEnabled)&&(Lt(qa(Pt,k,e,c,st,mt,r,l,t)),Lt(Ya(st,mt,!1,Pt,Oe)),Lt(Ya(e,t,!0,Pt,Oe)))},onDateRangeClear:function(){dt(null),pt(null),Fn(),j()},onClose:function(){ft&&se(!1);var e=at!==st;nn?Pn():Cn((function(t){var n=e?[gl,El]:[gl];return t?Fe(t).concat(Fe(n)):Fe(n)})),en.hasValueChanged&&""!==st&&""!==mt&&(Et(!0),tn((function(e){return Ce(Te({},e),{hasValueChanged:!1})}))),Ot&&(Et(!0),Ft(!1)),X(),It(!1)},onSubmit:function(e,t){if(!nn&&la&&(Cn([Sl]),Pn()),!k&&!R&&e&&t)return rt(e),ot(t),void Et(!0);e||t||Fn(),(null!=et?et:"")===e&&(null!=tt?tt:"")===t||(rt(e),ot(t),Et(!0))},onOpen:function(){(null==Ee?void 0:Ee.presentationAnalytics)&&ve?De({clientPayload:JSON.parse(null==Ee?void 0:Ee.presentationAnalytics)}):(null==Ee?void 0:Ee.errorAnalytics)&&!ve&&De({clientPayload:JSON.parse(null==Ee?void 0:Ee.errorAnalytics)}),ft&&se(!0),(null==ae?void 0:ae.contentSelector)&&(null==re?void 0:re.includeFlexibleDatesContent)&&(pe?(Ke($e),1===$e.bucket&&Ye({variables:{context:he,gaiaId:null!=pe?pe:""}}),Sn||ze(He)):xe&&(null==xe?void 0:xe.length)>0&&Me(null)),Z(),It(!0),Sn||null==ye||ye()},invalidInput1:Y,startDate:st,submitButtonLabel:jt,useSingleTrigger:!0,initialOpenState:Dt,startDateRef:Re,onNextClicked:te,onPrevClicked:ne,onScrollHandler:ge,handleShape:"circle",alertTemplateComponent:ra,alertTemplateData:sa,calendarWrapper:aa,trailingText1:ia&&!gn?null!==($n=en.trailingText)&&void 0!==$n?$n:"":void 0,dialogId:le,inputValue1:gn?fn:void 0,popoverWidth:me};return a.createElement(a.Fragment,null,a.createElement(W.E,Te({},da)),(null==ae||null===(E=ae.flexibleDatesContent)||void 0===E||null===(S=E.nightsSelection)||void 0===S?void 0:S.includeWeekend)&&"CHECKED"===(null==yn||null===(f=yn.data)||void 0===f?void 0:f.state)&&la&&!Sn&&a.createElement("input",{type:"hidden","data-stid":Zr,name:"".concat(Zr,"-").concat(null===(h=ae.flexibleDatesContent.nightsSelection)||void 0===h?void 0:h.includeWeekend.name),value:"INCLUDE_WEEKEND"}),(null==ae||null===(b=ae.flexibleDatesContent)||void 0===b||null===(D=b.nightsSelection)||void 0===D?void 0:D.options)&&Jn&&la&&!Sn&&a.createElement("input",{type:"hidden","data-stid":Xr,name:"".concat(Xr,"-").concat(Jn.id),value:Jn.value}),(null==ae||null===(A=ae.flexibleDatesContent)||void 0===A||null===(T=A.monthsSelection)||void 0===T?void 0:T.options)&&la&&!Sn&&a.createElement("input",{type:"hidden","data-stid":Mr,name:Mr,value:Xn.map((function(e){return e.monthsDate})).join("/")}),(null==ae?void 0:ae.calendarContent)&&ia&&Sn&&a.createElement("input",{type:"hidden","data-stid":Dr,name:"".concat(Dr,"-").concat(null===(O=ae.calendarContent)||void 0===O?void 0:O.formElementId),value:null!==(Kn=en.value)&&void 0!==Kn?Kn:""}))},hl=(0,u.J1)(ut(),rl.fragment),Dl="EGDSDatePickerFlexibleNights",bl="EGDSDateRangePicker",Tl={START_DATE_NAME_PREFIX:"".concat(bl,"-StartDate"),END_DATE_NAME_PREFIX:"".concat(bl,"-EndDate"),PARTIAL_STAY_START_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-StartDate",PARTIAL_STAY_END_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-EndDate",SOFT_PACKAGES_START_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-StartDate",SOFT_PACKAGES_END_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-EndDate",FLEXIBILITY_PREFIX:"EGDSDatePickerFlexibilityCalendarContent-SelectedOption",FLEXIBILITY_NIGHTS_PREFIX:"".concat(Dl,"-Options"),FLEXIBILITY_WEEKEND_PREFIX:"".concat(Dl,"-Weekend"),FLEXIBILITY_MONTHS_PREFIX:"EGDSDatePickerFlexibleMonths-Options"},Cl="yyyy-MM-dd",Il=function(e){var t,n,r,l=(0,g.KY)(),o=e.data,c=e.analytics,s=e.egdsElementId,u=e.label,m=e.validDaysUpperBoundInclusive,y=e.skipReflection,_=e.onOpenDatesField,v=e.updatePlaybackDates,S=e.lobName,E=e.enablePriceCalendar,f=e.priceCalendarInputs,h=e.dialogId,D=e.popoverWidth,b=e.gaiaId,T=e.dailyPriceInsightsConfig,C=e.onLocationChange,A=o.__typename,O=o.selectedStartDate,F=o.selectedEndDate,k=o.validDaysUpperBoundInclusive,R=o.sameDaySelectionAllowed,G=o.clearButtonText,P=o.showClearDatesButton,M=o.startDatePlaceholderText,B=o.endDatePlaceholderText,w=o.clearDatesButtonAnalytics,W=o.endDateButtonAnalytics,U=o.startDateButtonAnalytics,H=o.submitButtonAnalytics,z=o.nextButtonAnalytics,V=o.previousButtonAnalytics,Y=o.flexibleDateContent,q=o.buttonText,j=(0,p.R)().context,$=(0,i.k)(),K=$.state,Q=$.dispatch,J=null!==(r=K.dates)&&void 0!==r?r:{},X=J.start,Z=J.end,ee=(0,I.useLocalization)().formatDateString,te=O?ee(Ua(O),{raw:Cl}):"",ne=F?ee(Ua(F),{raw:Cl}):"",ae=Ae(a.useState({startDate:te,endDate:ne}),2),re=ae[0],le=ae[1],ie="EGDSBasicTabs"===(null==Y||null===(t=Y.contentSelector)||void 0===t?void 0:t.__typename)?null==Y?void 0:Y.contentSelector.tabs:null,oe=ie&&"EGDSBasicTab"===ie[0].__typename?ie[0].tabId:"calendar-tab",ce=Ae(a.useState("EGDSBasicTabs"!==(null==Y||null===(n=Y.contentSelector)||void 0===n?void 0:n.__typename)||(null==Y?void 0:Y.contentSelector.selectedTabId)===oe),2),se=ce[0],de=ce[1],ue=(0,N.useExperiment)("Daily_Price_Insight_AA_test"),me=ue.exposure,pe=ue.logExperiment,ye=(0,N.useExperiment)("Price_Insight_Calendar_in_Search_Form"),_e=ye.exposure,ve=ye.logExperiment,Se=(null!=T?T:{}).dailyPriceDebounce,ge=function(e){return"partial-stay-date-range-select"===s?Tl["PARTIAL_STAY_".concat(e,"_DATE_NAME_PREFIX")]:"soft_packages_date_form_field"===s?Tl["SOFT_PACKAGES_".concat(e,"_DATE_NAME_PREFIX")]:Tl["".concat(e,"_DATE_NAME_PREFIX")]},Ee=function(e){var t,n,a=null!==(t=null==e?void 0:e.referrerId)&&void 0!==t?t:"",r=null!==(n=null==e?void 0:e.linkName)&&void 0!==n?n:"";a&&r&&l(a,r)},fe=function(){return Ee(H)},he=function(){var e;if(E&&C&&(null==f||null===(e=f.journeyCriteria)||void 0===e?void 0:e[0])){var t=f.journeyCriteria[0];C({name:"origin_select",value:t.origin}),C({name:"destination_select",value:t.destination})}ve&&_e&&ve(_e),null==_||_(),Ee(c)},De=Ae(a.useState(void 0),2),be=De[0],Ie=De[1],Oe=Ae(a.useState(void 0),2),Fe=Oe[0],ke=Oe[1],Re=Ae((0,L._)(vl,{onCompleted:function(e){var t,n,a,r=null!==(a=null==e||null===(n=e.searchFormPriceInsights)||void 0===n||null===(t=n.dailyPrice)||void 0===t?void 0:t.days)&&void 0!==a?a:[];if(1===(null==_e?void 0:_e.bucket)){var l,i,o,c,s,d,u,m=r.length>0?Qa(r):void 0;Ie({days:m,explainabilityText:(null==e||null===(i=e.searchFormPriceInsights)||void 0===i||null===(l=i.dailyPrice)||void 0===l?void 0:l.explainabilityText)&&r.length>0?null==e||null===(c=e.searchFormPriceInsights)||void 0===c||null===(o=c.dailyPrice)||void 0===o?void 0:o.explainabilityText:void 0,analytics:null!==(u=null==e||null===(d=e.searchFormPriceInsights)||void 0===d||null===(s=d.dailyPrice)||void 0===s?void 0:s.analytics)&&void 0!==u?u:void 0})}}}),1)[0];a.useEffect((function(){ke(null==be?void 0:be.days)}),[be]);var Ge=function(e){Re({variables:e})},Pe=1===(null==_e?void 0:_e.bucket)&&Fe?er:void 0,Le=Ae(a.useState(!1),2),Ne=Le[0],xe=Le[1],Me=!!b&&!!Ge&&Ne;a.useEffect((function(){b?(ke(void 0),xe(!0)):b||Ie(void 0)}),[b]),a.useEffect((function(){if(Me){var e=Ja(new Date),t=Ja(new Date((new Date).getFullYear(),(new Date).getMonth()+3));if(e&&t&&1===(null==me?void 0:me.bucket))Ge({context:j,criteria:{checkInDate:e,checkOutDate:t,gaiaId:b}});pe&&me&&Se&&pe(me),xe(!1)}}),[Ne]);var Be=Te({onClearDates:function(){return Ee(w)},onSelectEndDate:function(){return Ee(W)},onSelectStartDate:function(){return Ee(U)},onSubmit:function(){return Ee(H)},onClose:fe,onOpen:he,onChangeStartDate:function(e){le((function(t){return Ce(Te({},t),{startDate:null!=e?e:t.startDate})})),v&&v(e,!0)},onChangeEndDate:function(e){le((function(t){return y||Q({type:"UPDATE_DATES",end:e,start:t.startDate}),v&&v(e,!1),Ce(Te({},t),{endDate:null!=e?e:t.endDate})}))},onNextCalendarClick:function(){Ee(z)},onPreviousCalendarClick:function(){Ee(V)}},y?{}:{startDateString:X,endDateString:Z}),we=Ce(Te({},e,o,Be),{typename:A,startDate:O,endDate:F,validDaysUpperBoundInclusive:null!=m?m:k,enableSameDayDateRange:R,clearButtonText:null!=G?G:"",inputLabel1:null!=u?u:M,inputLabel2:null!=u?u:B,allowClearDates:null!=P&&P,dayTemplateComponent:Pe,priceInsightsDayData:Fe,dailyPriceInsightsConfig:Ce(Te({},T),{dailyPriceInsightsEnabled:1===_e.bucket}),dailyPriceAnalytics:null==be?void 0:be.analytics,showStartDateEndDateHiddenInputs:function(e){return de(e)},dailyPriceInsightsExplainabilityText:null==be?void 0:be.explainabilityText});a.useEffect((function(){y||le((function(e){return Te({},e,X?{startDate:X}:{},Z?{endDate:Z}:{})}))}),[le,X,Z,y]);var We,Ue,He=a.useCallback((function(){return Xa(S,f,!0)}),[S,f])(),ze={submitButtonLabel:q,initialStartDate:te,initialEndDate:ne,dateLabel:null!=u?u:M,dialogId:h,onOpen:he,onClose:fe,onDateChange:function(e,t){le({startDate:e,endDate:t})}};return a.createElement(a.Fragment,null,E&&S&&He?a.createElement(x.D,{lobName:S,queryInputs:He,priceCalendarPassthroughProps:ze}):a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(fl,Ce(Te({},we),{autoOpen:!1}))),a.createElement(d.rw,null,a.createElement(fl,Ce(Te({},we),{popoverWidth:D})))),se&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":ge("START"),name:"".concat(ge("START"),"-").concat(s),value:null!==(We=re.startDate)&&void 0!==We?We:""}),a.createElement("input",{type:"hidden","data-stid":ge("END"),name:"".concat(ge("END"),"-").concat(s),value:null!==(Ue=re.endDate)&&void 0!==Ue?Ue:""})))};Il.displayName=bl,Il.fragment=hl;var Al="EGDSSingleDatePicker",Ol="".concat(Al,"-Date"),Fl="yyyy-MM-dd",kl=(0,u.J1)(mt()),Rl=function(e){var t,n=e.analytics,r=e.data,l=e.egdsElementId,o=e.label,c=e.setFieldRefByTypename,s=e.errorMessage,d=e.index,u=(e.showCalendar,e.toggleCalendar,e.autoOpen),m=e.dialogId,y=e.skipReflection,_=e.updatePlaybackDates,v=e.totalLegs,S=e.input1Stid,E=e.lobName,f=e.enablePriceCalendar,h=e.priceCalendarInputs,D=e.onLocationChange,b=(0,g.KY)(),T=r.__typename,A=r.buttonText,O=r.selectedStartDate,F=r.validDaysLowerBoundInclusive,k=r.validDaysUpperBoundInclusive,R=r.startDateButtonAnalytics,G=r.submitButtonAnalytics,P=(0,i.k)(),L=P.state,N=(P.dispatch,null!==(t=L.dates)&&void 0!==t?t:{}),M=N.start,B=(N.end,(0,I.useLocalization)().formatDateString),w=Ae(a.useState(null!=u&&u),1)[0],U=new Date;(new Date).setDate(U.getDate()+1);var H=Ae(a.useState(B(U,{raw:Fl})),2),z=H[0],V=H[1],Y=Ae(a.useState(B(U,{raw:Fl})),2),q=(Y[0],Y[1]),j=Ae(a.useState(330),2),$=j[0],K=j[1],Q=(0,C.u)("".concat(T),(function(e){return e})),J=Ae(a.useState(!1),2),X=J[0],Z=J[1],ee=Ae(a.useState(!1),2),te=ee[0],ne=ee[1];a.useEffect((function(){var e={raw:Fl};if(!y&&M?V(M):O&&V(B(Ua(O),e)),F&&q(B(Ua(F),e)),k){var t=Ua(k).getTime()-(new Date).getTime();K(Wa(t))}}),[B,O,F,k,M]),a.useEffect((function(){if(X){Z(!1);var e=z?"".concat(z):"";rr(e,Q)}}),[X]);var ae="".concat(l).concat(Number.isInteger(d)?"-".concat(d):""),re=(0,p.R)().context,le=a.useRef(null),ie=function(e){var t,n,a=null!==(t=null==e?void 0:e.referrerId)&&void 0!==t?t:"",r=null!==(n=null==e?void 0:e.linkName)&&void 0!==n?n:"";a&&r&&b(a,r)};a.useEffect((function(){c("EGDSSearchFormDatePickerField",le)}),[]);var oe=function(e){Z(!1),ne(!0),V(e),_&&v&&(0===d||d===v-1)&&_(e,0===d),ie(R)},ce=a.useCallback((function(){return Xa(E,h,!1)}),[E,h]),se=function(){var e;if(f&&D&&(null==h||null===(e=h.journeyCriteria)||void 0===e?void 0:e[0])){var t=h.journeyCriteria[0];D({name:"origin_select",value:t.origin}),D({name:"destination_select",value:t.destination})}ie(n)},de=function(){ie(G),te&&(Z(!0),ne(!1))},ue={isSingleDateSelection:!0,input1Stid:null!=S?S:"default",startDate:z,submitButtonLabel:A,inputLabel1:null!=o?o:void 0,maxDate:wa($),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:{month:"short",day:"numeric"},dayNameLength:"narrow",initialOpenState:w,locale:ja(re),handleShape:"circle",invalidInput1:s,dialogId:m,startDateRef:le,onDateRangeChange:oe,onOpen:se,onClose:de,endDate:null},me=ce(),pe={submitButtonLabel:A,initialStartDate:z,dateLabel:null!=o?o:void 0,dialogId:m,onOpen:se,onClose:de,onDateChange:oe};return a.createElement(a.Fragment,null,f&&E&&me?a.createElement(x.D,{lobName:E,queryInputs:me,priceCalendarPassthroughProps:pe}):a.createElement(W.E,Te({},ue)),a.createElement("input",{type:"hidden","data-stid":Ol,name:"".concat(Ol,"-").concat(ae),value:z}))};Rl.displayName=Al,Rl.fragment=kl;var Gl=(0,u.J1)(pt(),Il.fragment,Rl.fragment),Pl=function(e){var t=e.setFieldRefByTypename,n=e.fieldError,r=e.data,l=e.dialogId,i=e.validDaysUpperBoundInclusive,o=e.overrideErrorMessage,c=e.priceCalendarProps,s=e.popoverWidth,d=r.action,u=r.errorMessage,m=r.validations,p=null!=c?c:{},y=p.lobName,_=p.enablePriceCalendar,v=p.priceCalendarInputs,S=p.onLocationChange,g=xa();if("EGDSOpenDatePickerAction"!==(null==d?void 0:d.__typename))return null;var E=n?function(e){var t,n,a=e.validations;return(null==a?void 0:a.sameDate)||(null==a?void 0:a.endDateBeforeStartDate)||(null==a?void 0:a.dateOutsideTripRange)?null!==(t=null!=o?o:u)&&void 0!==t?t:"":(null==a?void 0:a.maxDate)&&m&&"EGDSMaxLengthInputValidation"===m[0].__typename&&null!==(n=m[0].errorMessage)&&void 0!==n?n:""}(n):"",f=Ce(Te({},e),{analytics:d.analytics,setFieldRefByTypename:t,errorMessage:E,dialogId:l||g});switch(d.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(Il,Ce(Te({},r,f),{data:d.datePicker,validDaysUpperBoundInclusive:i,lobName:y,enablePriceCalendar:_,priceCalendarInputs:v,onLocationChange:S,popoverWidth:s}));case"EGDSSingleDatePicker":return a.createElement(Rl,Ce(Te({},r,f),{data:d.datePicker,lobName:y,enablePriceCalendar:_,priceCalendarInputs:v,onLocationChange:S}));default:return null}};Pl.displayName="EGDSSearchFormDatePickerField",Pl.fragment=Gl;var Ll=function(){function e(t){ge(this,e),xn(this,"value"),this.value=t}return fe(e,[{key:"get",value:function(){if(this.isPresent())return this.value;throw new Error("Exception while trying to get the value of an empty Optional")}},{key:"isPresent",value:function(){return!e.isEmpty(this.value)}},{key:"isNotPresent",value:function(){return!this.isPresent()}},{key:"orElse",value:function(e){return this.isPresent()?this.value:e}}],[{key:"of",value:function(t){if(e.isEmpty(t))throw new Error("Optional.of doesn't accept undefined or null values. Use Optional.ofNullable instead");return new e(t)}},{key:"ofNullable",value:function(t){return new e(t)}},{key:"empty",value:function(){return new e(null)}},{key:"isEmpty",value:function(e){return null==e||void 0===e}}]),e}(),Nl=function(){function e(t,n){ge(this,e),xn(this,"level"),xn(this,"name"),this.level=t,this.name=n}return fe(e,[{key:"toString",value:function(){return"SystemEvent(level=".concat(this.level.toString()," name=").concat(this.name,")")}}]),e}(),xl=function(){function e(){ge(this,e)}return fe(e,null,[{key:"init",value:function(t){if(t&&"function"==typeof t.getLoggerWithIdentifier){var n=t.getLoggerWithIdentifier("uitk-react-typeahead");n&&"function"==typeof n.logEvent&&(e.logger=n)}}},{key:"isOrigin",value:function(e){var t=e.toLowerCase();return t.indexOf("origin")>-1||t.indexOf("from")>-1||t.indexOf("departure")>-1||t.indexOf("drop")>-1||t.indexOf("home")>-1||t.indexOf("loc2")>-1}},{key:"isDestination",value:function(e){var t=e.toLowerCase();return t.indexOf("dest")>-1||t.indexOf("to")>-1||t.indexOf("arrival")>-1||t.indexOf("near")>-1||t.indexOf("pick")>-1||0===t.indexOf("location")}},{key:"getDomElement",value:function(){var t,n=null===(t=document.querySelector("#search-location-input-field"))||void 0===t?void 0:t.getElementsByTagName("input")[0];return n||e.logError({message:"Failed to retrieve data for the typeahead UI component"}),n}},{key:"logError",value:function(t){try{if(e.logger){var n=t.stack?{message:t.message,stack:t.stack}:t;e.logger.logEvent(new Nl("ERROR","SearchLocationLoggingError"),n)}}catch(a){console.error("unable to log errors from SearchLocation logger. Reason:".concat(a))}}},{key:"getInputElementId",value:function(t){var n;return t&&((n=t.getAttribute("data-stid"))||e.logError({message:"Failed to retrieve input element id from 'data-stid'"})),n||e.UNKNOWN}},{key:"getSubLob",value:function(e,t){var n=t;t||(n=new URLSearchParams(window.location.search).get("pwaSubLOB")||"");switch(n=null==n?void 0:n.toLowerCase(),e.toLowerCase()){case"flights":switch(n){case"oneway":return"OW";case"multicity":return"MD";default:return"RT"}case"packages":switch(n){case"fhc":return"FHC";case"hc":return"HC";case"fc":return"FC";default:return"FH"}default:return""}}}]),e}();xn(xl,"UNKNOWN","UNKNOWN"),xn(xl,"logger");var Ml=xl,Bl="2.1.0",wl="Search",Wl={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},Ul=["POPULAR","ALTERNATE"],Hl=function(){function e(){ge(this,e)}return fe(e,null,[{key:"getRecommendationSeenMessage",value:function(e,t){var n;if((null==e||null===(n=e.sr)||void 0===n?void 0:n.length)>0&&(null==e?void 0:e.recId)){var a=e.sr.filter((function(e){return Ul.includes(e.category)}));if(a&&(null==a?void 0:a.length)>0)return{event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:Bl,event_category:wl,action_location:t},recommendation_module:{recommendation_title:this.getRecommendationTitle(a[0].category),eg_recommendation_response_id:this.getEgRecommendationResponseId(e.recId),recommendations:this.getRecommendations(a)}}}}},{key:"getRecommendationClickedMessage",value:function(e,t,n){if(e&&Ul.includes(e.category)&&(null==t?void 0:t.recId)){var a,r=e.index;if((null==t||null===(a=t.sr)||void 0===a?void 0:a.length)>0)for(var l=t.sr.filter((function(t){return t.category===e.category})),i=0;i<(null==l?void 0:l.length);i+=1){var o,c;if((null===(o=l[i].essId)||void 0===o?void 0:o.sourceId)===(null===(c=e.essId)||void 0===c?void 0:c.sourceId)){r=i;break}}return{event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:Bl,event_category:wl,action_location:n},recommendation_module:{recommendation_title:this.getRecommendationTitle(e.category),eg_recommendation_response_id:this.getEgRecommendationResponseId(t.recId),recommendations:this.getSelectedRecommendations(e,r)}}}}},{key:"getEgRecommendationResponseId",value:function(e){return e&&(this.egRecommendationResponseId=e),this.egRecommendationResponseId}},{key:"getRecommendationTitle",value:function(e){return Wl[e]}},{key:"getRecommendations",value:function(e){var t=this,n=[],a=0;return e&&(null==e?void 0:e.length)>0&&(e.forEach((function(e){n.push(t.getRecommendation(e,a)),a+=1})),n.push()),n}},{key:"getSelectedRecommendations",value:function(e,t){var n=[];return e&&n.push(this.getRecommendation(e,t)),n}},{key:"getRecommendation",value:function(e,t){var n,a;return{recommendation_id:e.imageUrl?"".concat(null===(n=e.essId)||void 0===n?void 0:n.sourceId,".image"):null===(a=e.essId)||void 0===a?void 0:a.sourceId,recommendation_position:t.toString(),presentation_details_recommendation_name:e.regionNames.primaryDisplayName}}}]),e}();xn(Hl,"egRecommendationResponseId");var zl="1.0.0",Vl=function(){function e(t){ge(this,e),xn(this,"session"),this.session=t}return fe(e,[{key:"getOpenEventPayload",value:function(){var e;return this.session.focusTime=performance.now(),{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:zl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:(null===(e=this.session.input)||void 0===e?void 0:e.value)||""},typeahead:{search_field:this.getSearchField(this.session.fieldName),line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob)}}}},{key:"getCloseEventPayload",value:function(){var e,t,n;return{event:{event_name:"search_location.closed",event_type:"Interaction",event_version:zl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:this.session.query===this.session.prefill?"":this.session.query||""},typeahead:{search_field:this.getSearchField(this.session.fieldName),backspaces_count:this.session.noOfBackspaces,suggestion_list:(null===(t=this.session.response)||void 0===t||null===(e=t.sr)||void 0===e?void 0:e.length)?this.getSuggestionList(this.session.response.sr):[],line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob),typeahead_selection_bool:!!this.session.selected,focus_to_blur_time:this.calculateTimeSpendOnTypeaheadInput().toString(),characters_typed_count:null===(n=this.session.query)||void 0===n?void 0:n.length}}}},{key:"getRemoveRecentEventPayload",value:function(){var e,t,n,a,r=null;return"CATEGORIZED"===(null===(e=this.session.removed)||void 0===e?void 0:e.displayType)?r=parseInt(this.session.removed.index,10):this.session.removed&&(r=parseInt(this.session.removed.index,10)+1),{event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:zl,event_category:"Search",action_location:this.session.fieldName},destination:this.session.removed?this.getRemovedDestinationField():null,typeahead:{suggestion_type:"RecentHistory",line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob),suggestion_count:null!==(a=null===(n=this.session.response)||void 0===n||null===(t=n.sr)||void 0===t?void 0:t.length)&&void 0!==a?a:null,selection_depth:r}}}},{key:"getSelectEventPayload",value:function(e){var t,n,a,r,l,i,o,c,s,d,u,m,p,y,_;if(e)return{event:{event_name:"search_location.selected",event_type:"Interaction",event_version:zl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:this.session.query===this.session.prefill?"":this.session.query||"",search_id:null!==(y=null===(s=this.session.response)||void 0===s?void 0:s.rid)&&void 0!==y?y:null},destination:{destination_full_name:"CurrentLocation",destination_geo_id:"",destination_type:"CurrentLocation"},typeahead:{search_field:this.getSearchField(this.session.fieldName),backspaces_count:this.session.noOfBackspaces,selection_depth:1,suggestion_count:null!==(_=null===(u=this.session.response)||void 0===u||null===(d=u.sr)||void 0===d?void 0:d.length)&&void 0!==_?_:null,suggestion_type:"CurrentLocation",suggestion_list:(null===(p=this.session.response)||void 0===p||null===(m=p.sr)||void 0===m?void 0:m.length)?this.getSuggestionList(this.session.response.sr):[],line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob)}};var v,S,g=null;return"CATEGORIZED"===(null===(t=this.session.selected)||void 0===t?void 0:t.displayType)?g=parseInt(this.session.selected.index,10):this.session.selected&&(g=parseInt(this.session.selected.index,10)+1),{event:{event_name:"search_location.selected",event_type:"Interaction",event_version:zl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:this.session.query===this.session.prefill?"":this.session.query||"",search_id:null!==(v=null===(n=this.session.response)||void 0===n?void 0:n.rid)&&void 0!==v?v:null},destination:this.session.selected?this.getSelectedDestinationField():null,typeahead:{search_field:this.getSearchField(this.session.fieldName),backspaces_count:this.session.noOfBackspaces,selection_depth:g,suggestion_count:null!==(S=null===(r=this.session.response)||void 0===r||null===(a=r.sr)||void 0===a?void 0:a.length)&&void 0!==S?S:null,suggestion_type:(null===(i=this.session.response)||void 0===i||null===(l=i.sr)||void 0===l?void 0:l.length)?this.getSuggestionType(this.session.response.sr[0].category):null,suggestion_list:(null===(c=this.session.response)||void 0===c||null===(o=c.sr)||void 0===o?void 0:o.length)?this.getSuggestionList(this.session.response.sr):[],line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob)}}}},{key:"getSearchField",value:function(e){return e?Ml.isOrigin(e)?"Origin":Ml.isDestination(e)?"Destination":"UNKNOWN":"UNKNOWN"}},{key:"getSelectedDestinationField",value:function(){var e;return{destination_full_name:null===(e=this.session.selected.regionNames)||void 0===e?void 0:e.lastSearchName,destination_geo_id:this.getSourceId(this.session.selected),destination_geo_system:this.getSourceSystem(this.session.selected),destination_type:this.session.selected.type}}},{key:"getRemovedDestinationField",value:function(){var e;return{destination_full_name:null===(e=this.session.removed.regionNames)||void 0===e?void 0:e.lastSearchName,destination_geo_id:this.getSourceId(this.session.removed),destination_geo_system:this.getSourceSystem(this.session.removed)}}},{key:"getSourceId",value:function(e){var t;return e.sourceId||(null===(t=e.essId)||void 0===t?void 0:t.sourceId)||e.hotelId||e.gaiaId||Ml.UNKNOWN}},{key:"getSourceSystem",value:function(e){var t,n=e.sourceName||(null===(t=e.essId)||void 0===t?void 0:t.sourceName)||(e.hotelId?"LCM":e.gaiaId?"GAI":"");switch(n){case"GAI":return"GAIA";case"LCM":return"LCM";case"GPA":return"GOOGLE";default:return n||"UNKNOWN"}}},{key:"getSuggestionType",value:function(e){switch(e){case"GOOGLEMAPS":return"Google";case"USERHISTORY":return"RecentHistory";case"ALTERNATE":return"Alternate";case"POPULAR":return"Popular";case"CURRENTLOCATION":return"CurrentLocation";default:return"Normal"}}},{key:"getSuggestionList",value:function(e){var t=this;return e.map((function(e){var n,a;return{destination_geo_id:t.getSourceId(e),destination_geo_system:t.getSourceSystem(e),destination_type:t.getDestinationType(e.type),reason:(null===(a=e.hierarchyInfo)||void 0===a||null===(n=a.relation)||void 0===n?void 0:n.length)?e.hierarchyInfo.relation[0]:null}}))}},{key:"getDestinationType",value:function(e){switch(e){case"MULTICITY":return"MULTI_CITY";case"MULTIREGION":case"METROCODE":return"REGION";case"TRAINSTATION":return"TRAIN_STATION";case"METROSTATION":case"BUSSTATION":return"METRO_STATION";case"PREMISE":case"POI":case"ADDRESS":return"LANDMARK";case"LISTING":return"HOTEL";default:return e}}},{key:"getSublob",value:function(e,t){var n=Ml.getSubLob(e,t);return n?".".concat(n):""}},{key:"calculateTimeSpendOnTypeaheadInput",value:function(){var e=this.session.focusTime;return e?performance.now()-e:-1}}]),e}(),Yl=function(){function e(){ge(this,e),xn(this,"prevResponse"),xn(this,"response"),xn(this,"shownResponse"),e.sessionStore||this.initSessionStore()}return fe(e,[{key:"initMetadata",value:function(t,n){e.sessionStore.metadata={lob:null!=t?t:Ml.UNKNOWN,subLob:n}}},{key:"recordRequest",value:function(t){e.sessionStore.query=t}},{key:"recordResponse",value:function(e){this.prevResponse=this.response,this.response=e}},{key:"getRecommendationPresentedPayload",value:function(t){var n,a,r,l;if(null===(a=this.response)||void 0===a||null===(n=a.q)||void 0===n?void 0:n.includes(t))this.shownResponse=this.response;else{if(!(null===(l=this.prevResponse)||void 0===l||null===(r=l.q)||void 0===r?void 0:r.includes(t)))return;this.shownResponse=this.prevResponse}return e.sessionStore.response=this.shownResponse,Hl.getRecommendationSeenMessage(this.shownResponse,e.sessionStore.fieldName||"")}},{key:"getOpenEventPayload",value:function(t){return this.initEventData(),e.sessionStore.prefill=t,e.sessionStore.selected=void 0,new Vl(e.sessionStore).getOpenEventPayload()}},{key:"getRemoveRecentEventPayload",value:function(t){return Ll.ofNullable(t).isPresent()&&this.essResponseIsNotEmpty()&&void 0!==t.index&&(e.sessionStore.removed=e.sessionStore.response.sr[t.index-1]),new Vl(e.sessionStore).getRemoveRecentEventPayload()}},{key:"getSelectEventPayloads",value:function(t){var n=t;if(this.shownResponse&&n){"CATEGORIZED"===n.displayType&&(n.index+=1);var a="CURRENT_LOCATION"===(null==n?void 0:n.type);return Ll.ofNullable(n).isPresent()&&this.essResponseIsNotEmpty()&&(e.sessionStore.selected=e.sessionStore.response.sr[n.index-1]),{selectPayload:new Vl(e.sessionStore).getSelectEventPayload(a),recommendationSelectPayload:Hl.getRecommendationClickedMessage(e.sessionStore.selected,e.sessionStore.response,e.sessionStore.fieldName||"")}}}},{key:"getCloseEventPayload",value:function(){var t,n=new Vl(e.sessionStore).getCloseEventPayload();return e.sessionStore.noOfBackspaces=0,null===(t=e.sessionStore.input)||void 0===t||t.removeEventListener("keydown",this.keyDown),this.resetResponse(),n}},{key:"essResponseIsNotEmpty",value:function(){var t,n,a;return(null===(a=e.sessionStore)||void 0===a||null===(n=a.response)||void 0===n||null===(t=n.sr)||void 0===t?void 0:t.length)>0}},{key:"keyDown",value:function(t){(t.key&&["Delete","Backspace"].indexOf(t.key)>-1||t.keyCode&&[8,46].indexOf(t.keyCode)>-1)&&(e.sessionStore.noOfBackspaces+=1)}},{key:"initEventData",value:function(){this.initSessionStore(),this.initializeInputField()}},{key:"initializeInputField",value:function(){var t,n;e.sessionStore.input=Ml.getDomElement(),e.sessionStore.fieldName=Ml.getInputElementId(e.sessionStore.input),null===(t=e.sessionStore.input)||void 0===t||t.removeEventListener("keydown",this.keyDown),null===(n=e.sessionStore.input)||void 0===n||n.addEventListener("keydown",this.keyDown)}},{key:"initSessionStore",value:function(){var t,n;e.sessionStore={metadata:null!==(n=null===(t=e.sessionStore)||void 0===t?void 0:t.metadata)&&void 0!==n?n:{lob:Ml.UNKNOWN},noOfBackspaces:0,query:""}}},{key:"resetResponse",value:function(){this.prevResponse=void 0,this.response=void 0,this.shownResponse=void 0}}]),e}();xn(Yl,"sessionStore");var ql=Yl,jl="2.1.0",$l="Search",Kl={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},Ql=["POPULAR","ALTERNATE"],Jl=function(){function e(){ge(this,e)}return fe(e,null,[{key:"getRecommendationSeenMessage",value:function(e){var t,n;if((null===(t=e.response)||void 0===t?void 0:t.length)&&e.response.length>0&&(null===(n=e.analyticsInfo)||void 0===n?void 0:n.recommendationId)){var a,r,l=e.response.filter((function(e){var t,n;return Ql.includes(null!==(n=null===(t=e.analyticsInfo)||void 0===t?void 0:t.category)&&void 0!==n?n:"")}));if(l&&(null==l?void 0:l.length)>0)return{event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:jl,event_category:$l,action_location:e.fieldName},recommendation_module:{recommendation_title:this.getRecommendationTitle(null!==(r=null===(a=l[0].analyticsInfo)||void 0===a?void 0:a.category)&&void 0!==r?r:""),eg_recommendation_response_id:e.analyticsInfo.recommendationId,recommendations:this.getRecommendations(l)}}}}},{key:"getRecommendationClickedMessage",value:function(e){var t,n,a,r,l,i,o;if((null===(t=e.analyticsInfo)||void 0===t?void 0:t.recommendationId)&&Ql.includes(null!==(r=null===(a=e.selected)||void 0===a||null===(n=a.analyticsInfo)||void 0===n?void 0:n.category)&&void 0!==r?r:""))return{event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:jl,event_category:$l,action_location:e.fieldName},recommendation_module:{recommendation_title:this.getRecommendationTitle(null!==(o=null===(i=e.selected)||void 0===i||null===(l=i.analyticsInfo)||void 0===l?void 0:l.category)&&void 0!==o?o:""),eg_recommendation_response_id:e.analyticsInfo.recommendationId,recommendations:e.selected?this.getSelectedRecommendations(e.selected,e.selected.index):[]}}}},{key:"getRecommendationTitle",value:function(e){return Kl[e]}},{key:"getRecommendations",value:function(e){var t=this,n=[],a=0;return e&&(null==e?void 0:e.length)>0&&(e.forEach((function(e){n.push(t.getRecommendation(e,a)),a+=1})),n.push()),n}},{key:"getSelectedRecommendations",value:function(e,t){var n=[];return e&&n.push(this.getRecommendation(e,t)),n}},{key:"getRecommendation",value:function(e,t){var n;return{recommendation_id:"Image"===(null===(n=e.graphic)||void 0===n?void 0:n.__typename)&&e.graphic.url?"".concat(e.regionId,".image"):e.regionId,recommendation_position:t.toString(),presentation_details_recommendation_name:e.primaryText}}}]),e}(),Xl="1.0.0",Zl=function(){function e(t){ge(this,e),xn(this,"session"),this.session=t}return fe(e,[{key:"getOpenEventPayload",value:function(){var e;return this.session.focusTime=performance.now(),{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:Xl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:(null===(e=this.session.input)||void 0===e?void 0:e.value)||""},typeahead:{search_field:this.getSearchField(this.session.fieldName),line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob)}}}},{key:"getCloseEventPayload",value:function(){var e,t;return{event:{event_name:"search_location.closed",event_type:"Interaction",event_version:Xl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:this.session.query===this.session.prefill?"":this.session.query||""},typeahead:{search_field:this.getSearchField(this.session.fieldName),backspaces_count:this.session.noOfBackspaces,suggestion_list:(null===(e=this.session.response)||void 0===e?void 0:e.length)?this.getSuggestionList(this.session.response):[],line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob),typeahead_selection_bool:!!this.session.selected,focus_to_blur_time:this.calculateTimeSpendOnTypeaheadInput().toString(),characters_typed_count:null===(t=this.session.query)||void 0===t?void 0:t.length}}}},{key:"getRemoveRecentEventPayload",value:function(){var e,t,n;return{event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:Xl,event_category:"Search",action_location:this.session.fieldName},destination:this.session.removed?this.getRemovedDestinationField():null,typeahead:{suggestion_type:"RecentHistory",line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob),suggestion_count:null!==(n=null===(e=this.session.response)||void 0===e?void 0:e.length)&&void 0!==n?n:null,selection_depth:null===(t=this.session.removed)||void 0===t?void 0:t.index}}}},{key:"getSelectEventPayload",value:function(){var e,t,n,a,r,l,i,o,c;return{event:{event_name:"search_location.selected",event_type:"Interaction",event_version:Xl,event_category:"Search",action_location:this.session.fieldName},search_request:{search_query:this.session.query===this.session.prefill?"":this.session.query||"",search_id:(null===(e=this.session.response)||void 0===e?void 0:e.length)?null===(t=this.session.analyticsInfo)||void 0===t?void 0:t.resultId:null},destination:this.session.selected?this.getSelectedDestinationField():null,typeahead:{search_field:this.getSearchField(this.session.fieldName),backspaces_count:this.session.noOfBackspaces,selection_depth:null===(n=this.session.selected)||void 0===n?void 0:n.index,suggestion_count:null!==(o=null===(a=this.session.response)||void 0===a?void 0:a.length)&&void 0!==o?o:null,suggestion_type:(null===(r=this.session.response)||void 0===r?void 0:r.length)?this.getSuggestionType(null!==(c=null===(l=this.session.response[0].analyticsInfo)||void 0===l?void 0:l.category)&&void 0!==c?c:""):null,suggestion_list:(null===(i=this.session.response)||void 0===i?void 0:i.length)?this.getSuggestionList(this.session.response):[],line_of_business:this.session.metadata.lob+this.getSublob(this.session.metadata.lob,this.session.metadata.subLob)}}}},{key:"getSearchField",value:function(e){return e?Ml.isOrigin(e)?"Origin":Ml.isDestination(e)?"Destination":"UNKNOWN":"UNKNOWN"}},{key:"getSelectedDestinationField",value:function(){var e,t,n;return{destination_full_name:null===(e=this.session.selected)||void 0===e?void 0:e.primaryText,destination_geo_id:null===(t=this.session.selected)||void 0===t?void 0:t.regionId,destination_geo_system:this.getSourceSystem(this.session.selected),destination_type:null===(n=this.session.selected)||void 0===n?void 0:n.geoType}}},{key:"getRemovedDestinationField",value:function(){var e,t;return{destination_full_name:null===(e=this.session.removed)||void 0===e?void 0:e.primaryText,destination_geo_id:null===(t=this.session.removed)||void 0===t?void 0:t.regionId,destination_geo_system:this.getSourceSystem(this.session.removed)}}},{key:"getSourceSystem",value:function(e){var t;if(!e)return"UNKNOWN";var n=null===(t=e.analyticsInfo)||void 0===t?void 0:t.sourceName;switch(n){case"GAI":return"GAIA";case"LCM":return"LCM";case"GPA":return"GOOGLE";default:return n||"UNKNOWN"}}},{key:"getSuggestionType",value:function(e){switch(e){case"GOOGLEMAPS":return"Google";case"USERHISTORY":return"RecentHistory";case"ALTERNATE":return"Alternate";case"POPULAR":return"Popular";case"CURRENTLOCATION":return"CurrentLocation";default:return"Normal"}}},{key:"getSuggestionList",value:function(e){var t=this;return e.map((function(e){var n,a,r,l,i;return{destination_geo_id:e.regionId,destination_geo_system:null===(n=e.analyticsInfo)||void 0===n?void 0:n.sourceName,destination_type:t.getDestinationType(null!==(i=e.geoType)&&void 0!==i?i:""),reason:(null===(r=e.analyticsInfo)||void 0===r||null===(a=r.relation)||void 0===a?void 0:a.length)?null===(l=e.analyticsInfo)||void 0===l?void 0:l.relation[0]:null}}))}},{key:"getDestinationType",value:function(e){switch(e){case"MULTICITY":return"MULTI_CITY";case"MULTIREGION":case"METROCODE":return"REGION";case"TRAINSTATION":return"TRAIN_STATION";case"METROSTATION":case"BUSSTATION":return"METRO_STATION";case"PREMISE":case"POI":case"ADDRESS":return"LANDMARK";case"LISTING":return"HOTEL";default:return e}}},{key:"getSublob",value:function(e,t){var n=Ml.getSubLob(e,t);return n?".".concat(n):""}},{key:"calculateTimeSpendOnTypeaheadInput",value:function(){var e=this.session.focusTime;return e?performance.now()-e:-1}}]),e}(),ei=function(){function e(){ge(this,e),e.sessionStore||this.initSessionStore()}return fe(e,[{key:"initMetadata",value:function(t,n){e.sessionStore.metadata={lob:null!=t?t:Ml.UNKNOWN,subLob:n}}},{key:"recordRequest",value:function(t){e.sessionStore.query=t}},{key:"recordResponse",value:function(t,n){e.sessionStore.response=t,e.sessionStore.analyticsInfo=n}},{key:"getRecommendationPresentedPayload",value:function(){return Jl.getRecommendationSeenMessage(e.sessionStore)}},{key:"getOpenEventPayload",value:function(t){return this.initializeInputField(),e.sessionStore.prefill=t,new Zl(e.sessionStore).getOpenEventPayload()}},{key:"getRemoveRecentEventPayload",value:function(t){var n=this.getIndex(t);return Ll.ofNullable(t).isPresent()&&this.responseIsNotEmpty()&&void 0!==n&&(e.sessionStore.removed=Ce(Te({},t),{index:n+1})),new Zl(e.sessionStore).getRemoveRecentEventPayload()}},{key:"getSelectEventPayloads",value:function(t){var n=this.getIndex(t);return Ll.ofNullable(t).isPresent()&&this.responseIsNotEmpty()&&void 0!==n&&(e.sessionStore.selected=Ce(Te({},t),{index:n+1})),{selectPayload:new Zl(e.sessionStore).getSelectEventPayload(),recommendationSelectPayload:Jl.getRecommendationClickedMessage(e.sessionStore)}}},{key:"getCloseEventPayload",value:function(){var t=new Zl(e.sessionStore).getCloseEventPayload();return this.resetResponse(),t}},{key:"responseIsNotEmpty",value:function(){var t,n,a;return void 0!==(null===(t=e.sessionStore)||void 0===t?void 0:t.response)&&(null===(a=e.sessionStore)||void 0===a||null===(n=a.response)||void 0===n?void 0:n.length)>0}},{key:"keyDown",value:function(t){(t.key&&["Delete","Backspace"].indexOf(t.key)>-1||t.keyCode&&[8,46].indexOf(t.keyCode)>-1)&&(e.sessionStore.noOfBackspaces+=1)}},{key:"getIndex",value:function(t){var n;return null===(n=e.sessionStore.response)||void 0===n?void 0:n.findIndex((function(e){return e.locationFullName===t.locationFullName}))}},{key:"initializeInputField",value:function(){var t,n;e.sessionStore.input=Ml.getDomElement(),e.sessionStore.fieldName=Ml.getInputElementId(e.sessionStore.input),null===(t=e.sessionStore.input)||void 0===t||t.removeEventListener("keydown",this.keyDown),null===(n=e.sessionStore.input)||void 0===n||n.addEventListener("keydown",this.keyDown)}},{key:"initSessionStore",value:function(){e.sessionStore={metadata:{lob:Ml.UNKNOWN},noOfBackspaces:0,query:""}}},{key:"resetResponse",value:function(){var t;e.sessionStore.response=void 0,e.sessionStore.selected=void 0,e.sessionStore.noOfBackspaces=0,null===(t=e.sessionStore.input)||void 0===t||t.removeEventListener("keydown",this.keyDown)}}]),e}();xn(ei,"sessionStore");var ti=ei,ni=function(e){return e.locationFullName+(e.regionId||"")},ai="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",ri=(0,u.J1)(yt()),li=function(e){var t=e.data,n=(null!=t?t:{}).poweredBy;return"GOOGLE"===(void 0===n?"":n)?a.createElement(l.b,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",null,a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,{maxWidth:144,minWidth:144},a.createElement(f.a,{imageFit:"contain"},a.createElement(f.b,{src:ai,alt:"Powered by Google Logo"})))))):null};li.fragment=ri,li.displayName="SearchLocationQueryAttributionFragment";var ii=(0,u.J1)(_t(),dr.fragment),oi=function(e){var t=e.data,n=e.onClick,r=t.text,l=t.accessibilityText,i=t.icon;return a.createElement(z.E,{onClick:function(e){n(e)},"aria-label":l},a.createElement(dr,{data:i}),r)};oi.fragment=ii,oi.displayName="SearchLocationButton";var ci,si=(0,u.J1)(vt()),di=(he(ci={},"ONE_ONE",f.E.R1_1),he(ci,"THREE_TWO",f.E.R3_2),he(ci,"THREE_FOUR",f.E.R3_4),he(ci,"FOUR_ONE",f.E.R4_1),he(ci,"FOUR_THREE",f.E.R4_3),he(ci,"SIXTEEN_NINE",f.E.R16_9),he(ci,"TWENTY_ONE_NINE",f.E.R21_9),ci),ui=function(e){var t=e.data,n=t.url,r=t.description,l=t.aspectRatio;return a.createElement(f.a,{roundcorner:["all"],ratio:l?di[l]:f.E.R4_3},a.createElement(f.b,{placeholderImage:!0,src:n,alt:r}))};ui.fragment=si,ui.displayName="Image";var mi=(0,u.J1)(St(),dr.fragment,ui.fragment),pi=function(e){var t=e.data;switch(t.__typename){case"Icon":return a.createElement(dr,{data:t});case"Image":return a.createElement(ui,Ce(Te({},e),{data:t}));default:return null}};pi.fragment=mi,pi.displayName="SearchLocationGraphic";var yi=(0,u.J1)(gt(),pi.fragment,oi.fragment),_i=function(e){var t=e.data,n=e.activeItemId,r=e.onClick,i=e.includeIndendation,o=void 0!==i&&i,c=e.onRemoveRecentSearch,s=e.stid,d=t.primaryText,u=t.itemAccessibilityText,m=t.secondaryText,p=t.remove,y=t.graphic,_=t.locationFullName,v=t.impressionAnalytics,S=t.regionId,E={linkName:(null==v?void 0:v.linkName)||"",referrerId:(null==v?void 0:v.referrerId)||""},f="".concat(s,"-result-item"),h="".concat(s,"-result-item-button");return a.createElement(g.ee,Te({},E),a.createElement(Z.a,{spacing:"relaxed","data-stid":f,active:n===_+(S||"")},a.createElement(l.b,{margin:{inlinestart:o?"eight":void 0}},a.createElement("div",null,a.createElement(Z.b,null,a.createElement("button",{"data-stid":h,onClick:function(e){r(t.locationFullName,t)},"aria-label":u,type:"button"})),a.createElement("div",null,a.createElement(b.i,null,y&&a.createElement(b.j,Te({alignSelf:"center"},"Image"===y.__typename?{maxWidth:64,minWidth:84}:{}),a.createElement("div",null,a.createElement(pi,{data:y}))),a.createElement(b.j,null,a.createElement(l.b,{margin:{inlinestart:"three"}},a.createElement("div",null,a.createElement(F.c,{size:300,overflow:"truncate",inline:"strong"},d),a.createElement(F.c,{size:300,overflow:"truncate"},m)))),p&&a.createElement(b.j,{alignSelf:"center",grow:1},a.createElement(b.i,{justifyContent:"end"},a.createElement(oi,{data:p,onClick:function(e){null==c||c(e,t)}})))))))))};_i.fragment=yi,_i.displayName="SearchLocationBasicItem";var vi=(0,u.J1)(Et(),_i.fragment),Si=function(e){var t=e.data,n=t.item,r=t.subItems;return a.createElement(a.Fragment,null,a.createElement(_i,Ce(Te({},e),{data:n})),r.map((function(t,n){return a.createElement(_i,Ce(Te({key:n},e),{data:t,includeIndendation:!0}))})))};Si.fragment=vi,Si.displayName="SearchLocationItemWithSubItems";var gi=(0,u.J1)(ft()),Ei=(0,u.J1)(ht(),_i.fragment),fi=function(e){var t,n=Ae((0,ee.n)(gi),1)[0],r=(0,I.useLocalization)().formatText,l=Ae((0,a.useState)(new Set),2),i=l[0],o=l[1],c=(0,p.R)().context,s=e.data,d=e.onRemoveRecentSearch,u=e.lob,m=void 0===u?"HOTEL":u,y=e.activeItemId,_=e.onClick,v=e.stid,S=e.isDestination,g=s.item,E=s.dateRange,f=s.travelers,h=g.regionId,D=g.primaryText,b=(t=Se((function(e){return Pe(this,(function(t){switch(t.label){case 0:if(e.preventDefault(),!h)return[2,null];o((function(e){return new Set(e).add(h)})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n({variables:{context:c,lob:m,gaiaIds:[h],isDestination:S}}).then((function(t){"SUCCESS"===t.data.searchLocationDeleteRecentSearch.status&&((0,k.liveAnnounce)(r("typeahead.custom.delete.recent.search.button.announce.a11y",D)),null==d||d(e,g))}))];case 2:case 3:return t.sent(),[3,4];case 4:return[2]}}))})),function(e){return t.apply(this,arguments)});return a.createElement(a.Fragment,null,h&&!i.has(h)&&a.createElement(_i,{key:h,lob:m,stid:v,data:g,activeItemId:y,onClick:function(e,t){null==_||_(e,t,E||void 0,f||void 0)},onRemoveRecentSearch:b}))};fi.fragment=Ei,fi.displayName="SearchLocationRecentSearch";var hi=(0,u.J1)(Dt(),_i.fragment,Si.fragment,fi.fragment),Di=function(e){var t=e.data;switch(t.__typename){case"SearchLocationBasicItem":return a.createElement(_i,Ce(Te({},e),{data:t}));case"SearchLocationItemWithSubItems":return a.createElement(Si,Ce(Te({},e),{data:t}));case"SearchLocationRecentSearch":return a.createElement(fi,Ce(Te({},e),{data:t}));default:return null}};Di.fragment=hi,Di.displayName="SearchLocationItem";var bi=(0,u.J1)(bt(),Di.fragment),Ti=function(e){var t=e.data,n=e.onClick,r=e.onRemoveRecentSearch,i=e.lob,o=e.stid,c=e.activeItemId,s=e.isDestination,d=e.hideTitle,u=void 0!==d&&d,m=t.items,p=t.title;return a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,p&&!u&&a.createElement(l.b,{padding:{block:"three",inlinestart:"six"}},a.createElement("div",null,a.createElement(F.c,{overflow:"truncate",size:300,weight:"bold"},p))),m&&a.createElement(Z.E,null,m.map((function(e,t){return a.createElement(Di,{key:t,data:e,lob:i,stid:o,activeItemId:c,onClick:n,onRemoveRecentSearch:r,isDestination:s})})))))};Ti.fragment=bi,Ti.displayName="SearchLocationGroupFragment";var Ci=function(e){var t=e.children;return t&&a.createElement(l.b,{padding:{inline:"three"}},a.createElement(b.i,{justifyContent:"center",alignContent:"center"},a.createElement(F.c,{align:"center"},a.createElement(l.b,{margin:{blockstart:"six"}},a.createElement(v.a,{name:"search",size:v.E.XLARGE})),a.createElement(l.b,{margin:{blockend:"three"}},a.createElement(F.c,{size:300},t)))))};Ci.displayName="SearchLocationPlaceholderText";var Ii=function(e){var t=e.headingText,n=e.hideHeading,r=void 0!==n&&n,i=e.typeaheadLabel,o=e.stid,c=void 0===o?"":o,s=e.values,d=e.onItemRemove,u=e.onClear,m=e.clearAllText,p=(0,I.useLocalization)(),y=null!=m?m:p.formatText("typeahead.mulselect.clearAll"),_=null!=t?t:p.formatText("typeahead.multiselect.selectedItemHeading");return a.createElement("div",null,!r&&_&&(null==s?void 0:s.length)&&s.length>0&&a.createElement(l.b,{padding:{inlinestart:"four"}},a.createElement("div",null,a.createElement(F.c,{overflow:"truncate",size:300,weight:"bold"},_))),a.createElement(l.b,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",{"data-stid":c},null==s?void 0:s.map((function(e,t){return a.createElement(l.b,{key:"".concat(c,"-pill-").concat(t),margin:{block:"one"}},a.createElement(q.a,{onClick:function(){return function(e,t){(0,k.liveAnnounce)(p.formatText("typeahead.removeSelection",e)),null==d||d(t)}(e,t)},id:"".concat(c,"-pill-").concat(t)},e))})),(null==s?void 0:s.length)&&a.createElement(z.E,{onClick:function(){(0,k.liveAnnounce)(p.formatText("typeahead.clearAllSelections",i)),null==u||u()},size:P.E.SMALL},y))))};Ii.displayName="SearchLocationSelections";var Ai=function(e){var t,n=(0,I.useLocalization)().formatText,r=e.value,i=e.label,o=e.stid,c=void 0===o?"":o,s=e.handleClear,u=e.onItemRemove,m=e.clearAllText,p=e.selectedItemHeading,y=e.handleClose,_=e.dismissButtonText,v=e.queryResults,S=e.lineOfBusiness,g=e.onClick,E=e.emptyPlaceholderText,f=Ae(a.useState(v),2),h=f[0],T=f[1],C=Ae(a.useState([]),2),A=C[0],O=C[1],F=(he(t={},d.OB.MEDIUM,{minHeight:"458px",maxHeight:"458px"}),he(t,d.OB.LARGE,{minHeight:"458px",maxHeight:"458px"}),t),R=(0,d.s5)(F);a.useEffect((function(){if(r){var e=v.flatMap((function(e){return e.items})).filter((function(e){return r.some((function(t){return e.locationFullName===t}))}));O((function(t){var n=e.filter((function(e){return!(null==t?void 0:t.some((function(t){return t.locationFullName===e.locationFullName})))}));return Fe(t).concat(Fe(n))}));var t=v.map((function(e){return Ce(Te({},e),{items:e.items.filter((function(e){return!r.some((function(t){return e.locationFullName===t}))}))})}));T(t)}}),[r,v]);var P=function(e,t){var a=(null==t?void 0:t.locationFullName)||(null==t?void 0:t.primaryText)||e;g(a,t),t&&O((function(e){return Fe(e).concat([t])}));var r=h.map((function(e){return Ce(Te({},e),{items:e.items.filter((function(e){return e.locationFullName!==a}))})})).filter((function(e){return e.items.length>0}));T(r);var l=r.reduce((function(e,t){return e+t.items.length}),0);(0,k.liveAnnounce)("".concat(n("typeahead.announceResults.itemSelected",a),"\n            ").concat(n("typeahead.announceResults.showingResults",i,l,a)))};return a.createElement(a.Fragment,null,a.createElement(j.E,{direction:"vertical"},a.createElement(D.d,{style:Te({},R)},a.createElement(l.b,{padding:{blockstart:"one",blockend:"sixteen"}},a.createElement("div",null,r&&r.length>0&&a.createElement(Ii,{typeaheadLabel:i,values:r,stid:c,clearAllText:m,onClear:function(){T(v),null==s||s()},onItemRemove:function(e){A[e]&&(O((function(t){var n=t.filter((function(t,n){return n!==e})),a=v.map((function(e){return Ce(Te({},e),{items:e.items.filter((function(e){return!n.some((function(t){return t.locationFullName===e.locationFullName}))}))})}));return T(a),n})),null==u||u(e))},headingText:p}),h.length>0?h.map((function(e,t){return a.createElement(Ti,{stid:c,key:t,lob:S,data:e,onClick:P,isDestination:!0,hideTitle:e.items.length<=0})})):a.createElement(Ci,null,E))))),a.createElement(D.d,{style:{zIndex:1,minHeight:"60px"}},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(ne.E,{type:ne.a.BUTTON},a.createElement(te.E,{disabled:0===(null==r?void 0:r.length),onClick:y,isFullWidth:!0},_))),a.createElement(d.zQ,null,a.createElement(l.b,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(G.E,{disabled:0===(null==r?void 0:r.length),onClick:y},_))))))))};Ai.displayName="SearchLocationMultiItem";var Oi=function(){return a.createElement(l.b,{margin:{block:"eight"}},a.createElement(T.b,{animation:!0,type:"primary"}))},Fi=function(){return a.createElement(a.Fragment,null,Array.from({length:3}).map((function(e,t){return a.createElement(Oi,{key:t})})))};function ki(e,t,n){var a=(n||{}).atBegin;return function(e,t,n){var a,r=n||{},l=r.noTrailing,i=void 0!==l&&l,o=r.noLeading,c=void 0!==o&&o,s=r.debounceMode,d=void 0===s?void 0:s,u=!1,m=0;function p(){a&&clearTimeout(a)}function y(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var o=this,s=Date.now()-m;function y(){m=Date.now(),t.apply(o,r)}function _(){a=void 0}u||(c||!d||a||y(),p(),void 0===d&&s>e?c?(m=Date.now(),i||(a=setTimeout(d?_:y,e))):y():!0!==i&&(a=setTimeout(d?_:y,void 0===d?e-s:e)))}return y.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;p(),u=!n},y}(e,t,{debounceMode:!1!==(void 0!==a&&a)})}Fi.displayName="SearchLocationResultsLoading";var Ri="search-location-input-field",Gi=(0,u.J1)(Tt(),li.fragment,Ti.fragment),Pi=1,Li=function(e){var t=e.debounceRate,n=e.initialSearchTerm,r=e.label,i=e.value,o=e.onClose,s=e.placeholder,u=e.handleClear,m=e.onInputChange,y=e.stid,_=e.isMulti,v=e.required,S=e.onResultItemSelect,E=e.emptyResultPlaceholder,f=e.lineOfBusiness,h=e.onItemRemove,b=e.eventTracker,T=e.searchLocationAnalytics,C=e.isDestination,A=void 0===C||C,O=e.dismissButtonText,F=e.clearAllText,R=e.selectedItemHeading,G=e.regionType,P=a.useRef(null),N="string"==typeof i?i:"",x=Ae(a.useState(n||N||""),2),M=x[0],B=x[1],w=(0,p.R)().context,W=Ae(a.useState([]),2),U=W[0],H=W[1],z=Ae(a.useState([]),2),V=z[0],Y=z[1],q=Ae(a.useState(""),2),$=q[0],K=q[1],Q=(0,g.iQ)(),J=null!=T?T:{},Z=J.itemSelected,ee=J.recommendationSelected,te=J.recommendationsPresented,ne=(0,I.useLocalization)().formatText,ae=a.useRef(null),re=Ae((0,L._)(Gi,{onCompleted:function(e){var t,n,a,r,l,i,o=(null===(t=e.searchLocation)||void 0===t?void 0:t.itemsGroups)||[];H(o),l=o,i=M,ae.current&&clearTimeout(ae.current),(null==l?void 0:l.length)>0&&(ae.current=window.setTimeout((function(){var e=null==i?void 0:i.split(""),t=document.activeElement===P.current;if(e&&l&&t){var n="'".concat(e.join("' , '")," '"),a=l.reduce((function(e,t){return e+t.items.length}),0);(0,k.liveAnnounce)(ne("typeahead.announceResults.resultsAvailable",n,a))}}),1e3));var c=function(e){return e.flatMap((function(e){return(e.items||[]).flatMap((function(e){var t,n=null!==(t=e.item)&&void 0!==t?t:e,a=Ce(Te({},n),{uniqueId:ni(n)}),r=(e.subItems||[]).map((function(e){return Ce(Te({},e),{uniqueId:ni(e)})}));return[a].concat(Fe(r))}))}))}(o);if(Y(c),null==b||b.recordResponse(c,null===(n=ce.searchLocation)||void 0===n?void 0:n.analyticsInfo),null!==(null===(r=ce.searchLocation)||void 0===r||null===(a=r.analyticsInfo)||void 0===a?void 0:a.recommendationId)){var s=null==b?void 0:b.getRecommendationPresentedPayload();te&&s&&Q({serverPayload:te,clientPayload:s})}}}),2),le=re[0],ie=re[1],oe=ie.loading,ce=ie.data,se=function(e){0===e.length&&H([]);var t=performance.now();null==b||b.recordRequest(e),le({variables:{context:w,searchLocationCriteria:{searchTerm:e,lineOfBusiness:null!=f?f:"",isDestination:A,isGroundTransfersAirport:"GROUNDTRANSFERS"===f&&G===Pi}}}).then((function(){var n=performance.now()-t,a=!!e;window.DD_RUM&&window.DD_RUM.addAction("".concat("LOCATION_SEARCH_BFF_REQUEST_").concat(a?"WITH_SEARCH_TERM":"WITHOUT_SEARCH_TERM"),{duration:n})}))},de=a.useMemo((function(){return t&&t>0?ki(t,se):se}),[t]),ue=function(e,t,n,a){var r=t?t.locationFullName||t.primaryText:e;if(S(r,Ce(Te({},t),{dateRange:n,travelers:a,lineOfBusiness:f})),t){var l,i=null!==(l=null==b?void 0:b.getSelectEventPayloads(t))&&void 0!==l?l:{},o=i.selectPayload,c=i.recommendationSelectPayload;Z&&o&&Q({serverPayload:Z,clientPayload:o}),ee&&c&&Q({serverPayload:ee,clientPayload:c})}_||((0,k.liveAnnounce)("".concat(ne("typeahead.announceResults.itemSelected",r)," ").concat(ne("typeahead.announceResults.menuClosed"))),B(r))},me=function(e,t){Y((function(e){return e.filter((function(e){return e.regionId!==t.regionId}))})),null==h||h(t.regionId);var n=null==b?void 0:b.getRemoveRecentEventPayload(t);Q({clientPayload:n})};a.useEffect((function(){requestAnimationFrame((function(){var e;null===(e=P.current)||void 0===e||e.select()})),de(M||"")}),[]),a.useEffect((function(){f&&(null==b||b.initMetadata(f))}),[f]);var pe={"data-stid":y&&"".concat(y,"-menu-input"),domRef:P,hasClearButton:M.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:y,label:r,"aria-label":r,onChange:function(e){var t=e.target.value;B(t),de(t),null==m||m(t)},onKeyDown:function(e){var t=V.findIndex((function(e){return e.uniqueId===$}));switch(e.key){case"ArrowDown":e.preventDefault();var n=t===V.length-1?0:t+1;K(V[n].uniqueId);break;case"ArrowUp":e.preventDefault();var a=0===t||-1===t?V.length-1:t-1;K(V[a].uniqueId);break;case"Enter":if(e.preventDefault(),_)break;if($){var r=V.find((function(e){return e.uniqueId===$}));r&&ue(r.locationFullName||r.primaryText,r)}else ue(M,void 0);break;case"Escape":null==o||o()}},placeholder:s,value:M,handleClear:u,required:v,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1},ye=V.length>0?U.map((function(e,t){return a.createElement(Ti,{stid:y,key:t,lob:f,activeItemId:$,data:e,onClick:ue,onRemoveRecentSearch:me,isDestination:A})})):a.createElement(Ci,null,E);return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(c.b,{navigationContent:{navIconLabel:"Close the dialog",onClick:function(){null==o||o()},navButtonId:"".concat(y,"-close")}},a.createElement("div",{id:Ri},a.createElement(X.K,Ce(Te({},pe),{"data-stid":y&&"".concat(y,"-dialog-input")}))))),a.createElement(d.zQ,null,a.createElement(D.d,{type:"sticky",position:{top:"zero",zindex:"layer1"}},a.createElement("div",{id:Ri},a.createElement(X.K,Te({},pe)))))),_&&!oe?a.createElement(Ai,{value:i,label:r,stid:y,clearAllText:F,handleClear:u,handleClose:o,dismissButtonText:O,onItemRemove:h,selectedItemHeading:R,queryResults:U,onClick:ue,emptyPlaceholderText:E,lineOfBusiness:f||"CRUISES"}):a.createElement(j.E,{direction:"vertical"},a.createElement(D.d,{style:{minHeight:"438px",maxHeight:V.length>8?"438px":void 0}},a.createElement(a.Fragment,null,oe?a.createElement(l.b,{padding:{inlinestart:"six"}},a.createElement("div",null,a.createElement(Fi,null))):ye,(null==ce?void 0:ce.searchLocation)&&a.createElement(li,{data:ce.searchLocation})))))};Li.displayName="SearchLocationResultsQuery";var Ni={SEARCH_LOCATION_TYPEAHEAD_DURATION:new y.SystemEvent(y.SystemEventLevel.INFO,"SEARCH_LOCATION_TYPEAHEAD_DURATION")},xi=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()},Mi=function(e,t){var n=xi(t),a=xi(e);return n.substring(0,e.length)===a},Bi=a.createContext({impressionWrapper:void 0}),wi=function(e){var t,n,r=e.results,i=function(e){var t,n;return null!==(n=null==e||null===(t=e.data)||void 0===t?void 0:t.category)&&void 0!==n?n:""},o=function(e){return e.find((function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.category}))},c="categorized"===r.type?(t=r.items,(null==(n=t.find((function(e){return o(null==e?void 0:e.typeaheadResults)})))?void 0:n.typeaheadResults)?i(null==n?void 0:n.typeaheadResults[0]):""):i(o(r.items));return c===le.ck?a.createElement(l.b,{padding:{block:"three",inline:"four"}},a.createElement("div",null,c===le.ck&&a.createElement("img",{src:ai,alt:"Powered by Google Logo"}))):null};wi.displayName="SearchLocationAttribution";var Wi=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},Ui=function(e,t,n){var a=Wi(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp("(".concat(a,")"),"i"),l=e.split("\n");return l.map((function(e,a){var i="match"===n?function(e,t,n){var a=Wi(e).search(n);return-1!==a?"".concat(e.substring(0,a),"<strong>").concat(e.substring(a,a+t.length),"</strong>").concat(e.substring(a+t.length)):e}(e,t,r):function(e,t,n){var a=Wi(e).search(n);if(-1!==a){var r=e.substring(0,a),l=e.substring(a,a+t.length),i=e.substring(a+t.length);return"<strong>".concat(r,"</strong>").concat(l,"<strong>").concat(i,"</strong>")}return"<strong>".concat(e,"</strong>")}(e,t,r);return i+(a<l.length-1?"\n":"")})).join("")},Hi=function(e){var t=e.text,n=e.query,r=e.boldingResultsType,l=e.searchDetailID,i=t.replace(/<\/?B>/gi,""),o=(0,a.useMemo)((function(){return Ui(i,n,r)}),[i,n,r]);return a.createElement("div",{"data-stid":l,dangerouslySetInnerHTML:{__html:o}})},zi=Hi;Hi.displayName="BoldedText";var Vi=function(e){return null==e?void 0:e.replace(/(<([^>]+)>)/gi,"")},Yi=function(e){var t=e.data,n=e.onResultItemSelect,r=e.value,i=e.className,o=e.subtext,c=e.a11yLabel,s=e.activeSuggestion,d=e.name,u=e.contentRef,m=e.icon,p=e.imageUrl,y=e.historyDetail,_=e.sanitized,S=e.stid,g=e.index,E=e.handleRemoveRecentSearch,h=e.isNestedChild,D=e.searchTerm,T=e.boldingType,C=(0,I.useLocalization)().formatText,A="string"==typeof o?o:(null==o?void 0:o.subtext)||"",O=" ".concat(c||A),R=Vi("".concat(d).concat(O)),G="full-search-detail-".concat(y||!1),P="USERHISTORY"===(null==t?void 0:t.category),L=!!(null==t?void 0:t.popularFilter),N=C("typeahead.custom.delete.recent.search.button.label.a11y",r),x=C("typeahead.custom.delete.recent.search.button.announce.a11y",r);!0===s&&(0,k.liveAnnounce)("".concat(Vi(d)),void 0,void 0,u);var M=function(){switch(T){case"match":return"match";case"non-match":return"non-match";default:return}}(),B=""!==D.trim(),w=!_&&void 0!==M&&B,W=void 0!==T&&B,U=a.useContext(Bi).impressionWrapper,H=null!=U?U:a.Fragment,V=function(e){var t=e.isPopularFilter,n=e.isUserHistory;return t?"PopularFilter":n?"UserHistory":"ResultItem"}({isPopularFilter:L,isUserHistory:P}),Y="".concat(V,".Presented.").concat(L?"".concat(r," - ").concat(Vi(A)):r),q=U?{linkNameSuffix:V,referrerIdSuffix:Y}:{};return a.createElement(H,Te({},q),a.createElement(Z.a,{spacing:"relaxed",className:i,"data-stid":S&&"".concat(S,"-result-item"),"data-index":g,active:s},a.createElement(l.b,{padding:{inlinestart:h?"eight":"unset"}},a.createElement("div",null,a.createElement(Z.b,null,a.createElement("button",{"data-stid":S&&"".concat(S,"-result-item-button"),onClick:function(){n(r,t)},"aria-label":R,type:"button"})),a.createElement("div",null,a.createElement(b.i,null,m&&!p&&a.createElement(b.j,{alignSelf:"center"},a.createElement(v.a,{name:m,size:v.E.MEDIUM})),p&&a.createElement(b.j,{alignSelf:"center",maxWidth:64,minWidth:84},a.createElement(f.a,{roundcorner:["all"],ratio:f.E.R4_3},a.createElement(f.b,{placeholderImage:!0,width:"64px",height:"88px",src:p,alt:"".concat(R," Image")}))),a.createElement(b.j,null,a.createElement(l.b,{margin:p?{inlinestart:"three",blockstart:"one"}:{inlinestart:"three"}},a.createElement("div",null,a.createElement(F.c,Te({size:300,overflow:"truncate"},B&&!_&&W?{}:{inline:"strong"}),_||!B?a.createElement("span",{dangerouslySetInnerHTML:{__html:d}}):w?a.createElement(zi,{text:d,query:D,boldingResultsType:M,searchDetailID:G}):a.createElement("span",{dangerouslySetInnerHTML:{__html:d}})),a.createElement(F.c,{size:300,overflow:"truncate"},function(){if(!_&&A)return a.createElement(a.Fragment,null,w?a.createElement(zi,{text:A,query:D,boldingResultsType:M,searchDetailID:G}):a.createElement("div",{dangerouslySetInnerHTML:{__html:A},"data-stid":G}))}())))),P&&!L&&a.createElement(b.j,{alignSelf:"center",grow:1},a.createElement(b.i,{justifyContent:"end"},a.createElement(z.E,{onClick:function(){E(null!=t?t:{}),(0,k.liveAnnounce)(1===x.length?"".concat(d," was deleted from recent searches"):x)},"aria-label":0===N.length?"Delete ".concat(r," from recent searches"):N},a.createElement(v.a,{name:"close",size:v.E.SMALL}))))))))))};Yi.displayName="SearchLocationResultItem";var qi=function(e){var t=e.activeSuggestion,n=e.allowExactMatch,r=e.listTitle,i=e.typeaheadLabel,o=e.onResultItemSelect,c=e.results,s=e.searchTerm,d=e.stid,u=e.emptyResultPlaceholder,m=e.isMulti,p=e.onClearAll,y=e.onItemRemove,_=e.clearAllText,S=e.selectedItemHeading,g=e.value,E=e.domRef,f=e.contentRef,h=e.historyDetail,D=e.handleRemoveRecentSearch,C=e.boldingType,A=(0,I.useLocalization)(),O=m?(0,le.we)(c,g):c,k=(0,le.g)(O),R=m&&g.length>0?a.createElement(Ii,{typeaheadLabel:i,values:g,stid:d,clearAllText:_,onClear:p,onItemRemove:y,headingText:S}):null,G=function(e,t){o(e,t,O)},P=function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.disabled},L=function(e){var t,n;return null===(n=e[0])||void 0===n||null===(t=n.typeaheadResults[0])||void 0===t?void 0:t.disabled},N=a.createElement(l.b,{padding:{inlinestart:"six"}},a.createElement("div",null,a.createElement(l.b,{margin:{blockstart:"four"}},a.createElement(T.b,null)),a.createElement(l.b,{margin:{block:"eight"}},a.createElement(T.b,null)),a.createElement(T.b,null))),x=u&&a.createElement(l.b,{padding:{inline:"three"}},a.createElement(b.i,{justifyContent:"center",alignContent:"center",className:"typeahead-custom-empty-results-placeholder"},a.createElement(F.c,{align:"center"},a.createElement(l.b,{margin:{blockstart:"six"}},a.createElement(v.a,{name:"search",size:v.E.XLARGE})),a.createElement(l.b,{margin:{blockend:"three"}},a.createElement(F.c,{size:300},u))))),M=n&&s&&!function(e){switch(e.type){case"categorized":return L(e.items);case"uncategorized":return P(e.items);default:return}}(O)&&a.createElement(Yi,{icon:"search",name:A.formatText("typeahead.searchFor",[s]),onResultItemSelect:G,handleRemoveRecentSearch:D,index:k,stid:d,value:s,sanitized:!0,activeSuggestion:!(-1===t||t!==k),historyDetail:h,searchTerm:s,boldingType:C}),B=function(e){switch(e.type){case"categorized":return L(e.items)?N:(n=e.items,(i=null==n?void 0:n.map((function(e){var n,r;return(null===(n=e.typeaheadResults)||void 0===n?void 0:n.length)>0?a.createElement(a.Fragment,{key:e.heading},e.heading&&a.createElement(l.b,{padding:{block:"three",inlinestart:"six"}},a.createElement("li",null,a.createElement(F.c,{overflow:"truncate",size:300,weight:"bold"},e.heading))),null===(r=e.typeaheadResults)||void 0===r?void 0:r.map((function(e,n){var r;return a.createElement(Yi,{data:e.data,key:n,index:n,icon:e.icon,imageUrl:e.imageUrl,name:e.name,handleRemoveRecentSearch:D,onResultItemSelect:G,stid:d,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===(null===(r=e.data)||void 0===r?void 0:r.index),historyDetail:h,searchTerm:s,boldingType:C})}))):null}))).filter((function(e){return null!==e})).length>0?i:null);case"uncategorized":return P(e.items)?N:function(e){var n=e.map((function(e,n){var i,o=e.data&&(e.isChild||(null===(i=e.data)||void 0===i?void 0:i.popularFilter));return a.createElement(a.Fragment,{key:n},r&&a.createElement(l.b,{padding:{block:"three",inlinestart:"six"}},a.createElement("li",null,a.createElement(F.c,{overflow:"truncate",size:300,weight:"bold"},e.title))),a.createElement(Yi,{data:e.data,key:n,index:n,imageUrl:e.imageUrl,icon:e.icon,name:e.name,onResultItemSelect:G,handleRemoveRecentSearch:D,stid:d,a11yLabel:e.a11yLabel,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===n,contentRef:f,historyDetail:h,isNestedChild:o,searchTerm:s,boldingType:C}))}));return n.filter((function(e){return null!==e})).length>0?n:null}(e.items);default:return null}var n,i}(O);return a.createElement(l.b,{padding:m?{blockstart:"one",blockend:"sixteen"}:{blockstart:"three"}},a.createElement("div",{ref:E},R,!B&&x,B&&a.createElement(Z.E,{"data-stid":d&&"".concat(d,"-results")},B,M),a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(wi,{results:O})))))};qi.displayName="SearchLocationResultsList";var ji="search-location-input-field",$i=function(e){return"heading"in e},Ki=function(e){var t=e.debounceRate,n=e.initialSearchTerm,r=e.isMulti,i=e.adapter,o=e.onResultItemSelect,s=e.label,u=e.value,m=e.allowExactMatch,p=e.categorize,y=e.onClose,_=e.stid,v=e.placeholder,S=e.emptyResultPlaceholder,E=e.listTitle,f=e.handleClear,h=e.dismissButtonText,T=e.clearAllText,C=e.onClearAll,A=e.onItemRemove,O=e.selectedItemHeading,F=e.historyDetail,R=e.required,P=e.searchTermForMultiSelection,L=e.onInputChange,N=e.resultsRequestDurationTimeCallback,x=e.predictiveText,M=e.boldingType,B=e.eventTracker,w=e.searchLocationAnalytics,W=(0,I.useLocalization)().formatText,U=a.useRef(null),H=a.useRef(null),z=a.useRef(null),V=Ae(a.useState(!1),2),Y=V[0],q=V[1],$="string"==typeof u?u:"",K=Ae(a.useState(n||$||P||""),2),Q=K[0],J=K[1],Z=a.useRef(n),ee=Ae(a.useState(-1),2),ae=ee[0],re=ee[1],ie=Ae(a.useState(""),2),oe=ie[0],ce=ie[1],se=Ae(a.useState(!1),2),de=se[0],ue=se[1],me=Ae(a.useState([]),2),pe=me[0],ye=me[1],_e=Ae(a.useState([]),2),ve=_e[0],ge=_e[1],Ee=(0,g.iQ)(),fe=null!=w?w:{},he=fe.itemSelected,De=fe.recommendationSelected,be=fe.recommendationsPresented,Ie=function(e,t){U.current&&clearTimeout(U.current),(null==e?void 0:e.length)>0&&(U.current=window.setTimeout((function(){var n=null==t?void 0:t.split(""),a=document.activeElement===H.current;if(n&&e&&a){var r="'".concat(n.join("' , '")," '");(0,k.liveAnnounce)(W("typeahead.announceResults.resultsAvailable",r,e.length))}}),1e3))},Oe=function(){var e=Se((function(e,t,n){var a,r,l,o,c,s,d,u,m,y,_;return Pe(this,(function(v){switch(v.label){case 0:return Z.current=e,c=e,s=performance.now(),""!==c&&t?p?[4,Promise.all([i.fetchResultsCategorized(c),i.fetchRecentSearchResultsCategorized()])]:[3,2]:[3,5];case 1:return u=v.sent(),[3,4];case 2:return[4,Promise.all([i.fetchResults(c),i.fetchRecentSearchResults()])];case 3:u=v.sent(),v.label=4;case 4:return d=Ae.apply(void 0,[u,2]),l=d[0],(null==(o=d[1])?void 0:o.length)>0?p||$i(o[0])?r=o:a=o:p?r=l:a=l,[3,11];case 5:return p?[4,i.fetchResultsCategorized(c)]:[3,7];case 6:return r=v.sent(),[3,11];case 7:return""!==c&&n?[4,i.fetchAlternativeResults(c)]:[3,9];case 8:return(null==(m=v.sent())?void 0:m.length)&&$i(m[0])?r=m:a=m,[3,11];case 9:return[4,i.fetchResults(c)];case 10:(null==(y=v.sent())?void 0:y.length)&&$i(y[0])?r=y:a=y,v.label=11;case 11:return null==N||N(performance.now()-s,""!==c.trim()),Z.current!==e?[2]:(((null==a?void 0:a.length)||(null==r?void 0:r.length))&&(_=null==B?void 0:B.getRecommendationPresentedPayload(t||n?"":e),be&&_&&Ee({serverPayload:be,clientPayload:_})),(null==a?void 0:a.length)?(ye((function(){return q(!1),Ie(a,c),a})),ge([])):(null==r?void 0:r.length)?(ge((function(){q(!1);var e=r.flatMap((function(e){return e.typeaheadResults}));return Ie(e,c),r})),ye([])):(q(!1),ye([]),ge([])),[2])}}))}));return function(t,n,a){return e.apply(this,arguments)}}(),Fe=a.useMemo((function(){return t&&t>0?ki(t,Oe):Oe}),[de,Oe,x]),ke=function(){var e=Se((function(e){var t;return Pe(this,(function(n){return t=e.target.value,q(!0),J(t),ce(""),Fe(t),null==L||L(t),[2]}))}));return function(t){return e.apply(this,arguments)}}(),Re=function(){ce(""),null==y||y()},Ge=function(e,t,n){var a;null===(a=i.onItemSelection)||void 0===a||a.call(i,t).then((function(a){if(r){var l=pe&&n?(0,le.g)(n)-1:0;(0,k.liveAnnounce)("".concat(W("typeahead.announceResults.itemSelected",e),"\n             ").concat(W("typeahead.announceResults.showingResults",s,l,Q))),re(-1)}else(0,k.liveAnnounce)("".concat(W("typeahead.announceResults.itemSelected",e)," ").concat(W("typeahead.announceResults.menuClosed"))),J(e);var i;o(e,a);var c=null!==(i=null==B?void 0:B.getSelectEventPayloads(t))&&void 0!==i?i:{},d=c.selectPayload,u=c.recommendationSelectPayload;he&&d&&Ee({serverPayload:he,clientPayload:d}),De&&u&&Ee({serverPayload:De,clientPayload:u})})).catch((function(){Oe(e,!0,""!==e),Re()}))},Le=function(){null==y||y()},Ne=p||ve.length>0?{type:"categorized",items:ve}:{type:"uncategorized",items:pe};a.useEffect((function(){setTimeout((function(){var e;return null===(e=H.current)||void 0===e?void 0:e.select()}),0)}),[H]),a.useEffect((function(){Fe(Q,!1,""!==Q)}),[]),a.useEffect((function(){if(x&&de&&Q){var e,t=(n=Q,a=(null===(e=pe[0])||void 0===e?void 0:e.title)||"",0===(r=n.length)||r>22?"":Mi(n,a)?n+a.substring(r):"");ce(t)}var n,a,r}),[Q,pe,x,de]);var xe={"data-stid":_&&"".concat(_,"-menu-input"),domRef:H,hasClearButton:Q.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:_,label:s,"aria-label":s,onChange:ke,onKeyDown:function(e){switch(e.key){case"Tab":break;case"Escape":Re();break;case"Backspace":ue(!1);break;case"Enter":e.preventDefault();var t=oe.length>0&&-1===ae?(0,le.BZ)(Ne,0):(0,le.BZ)(Ne,ae);t?Ge(t.value,t.data):Ge(Q,void 0);break;case"ArrowUp":e.preventDefault(),re((function(e){var t=0===e,n=Ne.items,a=m?n.length:n.length-1;return t?a:e-1}));break;case"ArrowDown":e.preventDefault(),re((function(e){var t=Ne.items;return e>=(m?t.length:t.length-1)?0:e+1}));break;default:ue(!0)}},placeholder:v,value:Q,handleClear:f,required:R,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,predictiveText:oe};return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(c.b,{navigationContent:{navIconLabel:"Close the dialog",onClick:function(){null==y||y()},navButtonId:"".concat(_,"-close")}},a.createElement("div",{id:ji},a.createElement(X.K,Ce(Te({},xe),{"data-stid":_&&"".concat(_,"-dialog-input")}))))),a.createElement(d.zQ,null,a.createElement(D.d,{type:"sticky",position:{top:"zero",zindex:"layer1"}},a.createElement("div",{id:ji},a.createElement(X.K,Te({},xe)))))),a.createElement(j.E,{direction:"vertical"},a.createElement(D.d,{style:{minHeight:"438px",maxHeight:r||(null==Ne?void 0:Ne.items.length)>8?"438px":void 0}},Y?a.createElement(l.b,{padding:{inlinestart:"six"}},a.createElement("div",null,a.createElement(Fi,null))):a.createElement(qi,{typeaheadLabel:s,allowExactMatch:m,onResultItemSelect:Ge,handleRemoveRecentSearch:function(e){var t=e.regionId,n=null==B?void 0:B.getRemoveRecentEventPayload(e);Ee({clientPayload:n}),function(e){return i.fetchDeleteRecentSearch(e)}(null!=t?t:"").then((function(){var e=pe.filter((function(e){var n=e.data;return(null==n?void 0:n.regionId)===t&&"USERHISTORY"===(null==n?void 0:n.category)?null:e})),n=ve.map((function(e){return Ce(Te({},e),{typeaheadResults:e.typeaheadResults.filter((function(e){var n=e.data;return(null==n?void 0:n.regionId)===t&&"USERHISTORY"===(null==n?void 0:n.category)?null:e}))})}));ye(e),ge(n)}))},results:Ne,searchTerm:Q,stid:_,listTitle:E,activeSuggestion:ae,emptyResultPlaceholder:S,isMulti:null!=r&&r,dismissButtonText:h,selectedItemHeading:O,clearAllText:T,onClearAll:C,onItemRemove:A,value:u,domRef:z,historyDetail:F,boldingType:M}))),r&&a.createElement(D.d,{style:{zIndex:1,minHeight:"60px"}},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(ne.E,{type:ne.a.BUTTON},a.createElement(te.E,{disabled:0===(null==u?void 0:u.length),onClick:Le,isFullWidth:!0},h))),a.createElement(d.zQ,null,a.createElement(l.b,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(G.E,{disabled:0===(null==u?void 0:u.length),onClick:Le},h))))))))};Ki.displayName="SearchLocationResults";var Qi=a.forwardRef((function(e,t){var n=e.a11yLabel,r=e.searchTerm,l=e.isExpanded,i=e.label,o=e.icon,c=e.invalid,s=e.stid,u=e.onClick,m=e.placeholder,p=e.value,y=e.required,_=e.isMulti,v=e.name,S=Ae(a.useState(!1),2),g=S[0],E=S[1];a.useEffect((function(){E(!0)}),[]);var f,h={label:i,icon:o,placeholder:m,required:y,"aria-label":[n,r].filter((function(e){return e&&e.length>0})).join(" "),"aria-describedby":c&&s?"".concat(s,"-input-error"):void 0,"data-stid":"".concat(s,"-menu-trigger"),onClick:function(){null==u||u()},value:_?p.join(", "):p,invalid:c},D=(he(f={},d.OB.SMALL,{"data-stid":"".concat(s,"-dialog-trigger")}),he(f,d.OB.LARGE,{"aria-expanded":l}),f),b=(0,d.s5)(D);return a.createElement(a.Fragment,null,g&&a.createElement(R.g,Te(Ce(Te({},h),{domRef:t}),b)),a.createElement("div",{className:g?"is-hidden":void 0},a.createElement(R.b,Ce(Te({},h),{id:"".concat(v,"-input"),"data-stid":void 0,name:v,domRef:t}))))}));Qi.displayName="SearchLocationTrigger";var Ji=(0,u.J1)(Ct()),Xi=function(e){var t,n,r,l=e.accessibilityLabel,i=e.adapter,o=e.label,c=e.typeaheadPlaceholder,s=e.typeaheadEmptyResultPlaceholder,u=e.dismissButtonText,m=e.isMulti,p=e.onResultSelection,y=e.onUpdate,_=e.handleClear,v=e.value,S=e.id,E=e.stid,f=e.onMountCB,h=e.onClick,b=e.onDismiss,T=e.onType,C=e.resultItemImpressionTracker,A=e.predictiveText,O=e.boldingType,F=e.retainSearch,R=e.isExperienceAPIDriven,G=e.required,P=e.lineOfBusiness,L=e.eventTracker,N=e.searchLocationAnalytics,x=e.isDestination,M=e.debounceRate,B=e.onItemRemove,w=e.regionType,W=(0,I.useLocalization)(),H=xa("search-location-dialog-".concat(S)),z=Ae((0,U.useDialog)(H),3),Y=z[0],q=z[1],j=z[2],$=(0,I.useLocalization)().formatText,K=Ae(a.useState("string"==typeof v?v:""),2),Q=K[0],J=K[1],X=Ae(a.useState(""),2),Z=X[0],ee=X[1],te=(0,g.iQ)(),ne=null!=N?N:{},ae=ne.open,re=ne.close,le=a.useRef(null),ie=function(e,t){if(null==y||y({selection:{term:e,data:t}}),p){var n=document.createElement("input");setTimeout((function(){var a;n.value=e,n.setAttribute("id",null!==(a=null==t?void 0:t.id)&&void 0!==a?a:S);var r=new CustomEvent("change");n.addEventListener("change",(function(e){p(e)})),n.dispatchEvent(r)}))}m||(q.closeDialog(),null==b||b(),setTimeout((function(){return se()})))},oe=function(){var e=Se((function(e){return Pe(this,(function(t){return[2,i.fetchResults(e)]}))}));return function(t){return e.apply(this,arguments)}}(),ce=function(e){null==T||T(e),ee(e),J(e)},se=function(){if(re&&L){var e=L.getCloseEventPayload();te({serverPayload:re,clientPayload:e})}},de=function(e){setTimeout((function(){var e;return null===(e=le.current)||void 0===e?void 0:e.focus()})),ce(""),q.closeDialog();var t=e?"".concat($("typeahead.announceResults.itemSelected",e)," "):"";(0,k.liveAnnounce)("".concat(t," ").concat($("typeahead.announceResults.menuClosed"))),se(),null==b||b()},ue=l||o,me=Ce(Te({},e),{label:o,onClick:function(){setTimeout((function(){q.openDialog({closeAllDialogs:!0});var e=Q&&""!==Q?Q:void 0;null==h||h(),ae&&setTimeout((function(){var t=null==L?void 0:L.getOpenEventPayload(e);te({serverPayload:ae,clientPayload:t})}))}))},value:v,isMulti:!!m,a11yLabel:ue,searchTerm:Q,isExpanded:Y}),pe=Ce(Te({},e),{onResultItemSelect:ie,placeholder:c,emptyResultPlaceholder:s,onClearAll:_,dismissButtonText:null!=u?u:$("typeahead.multiselect.dismiss"),historyDetail:i.isHistoryDetailEnabled(),isMulti:!!m,initialSearchTerm:Q,onClose:de,searchTermForMultiSelection:Z,onInputChange:ce,boldingType:O,eventTracker:be(L,ql)?L:void 0,searchLocationAnalytics:N});a.useEffect((function(){null==f||f(le)}),[]),a.useEffect((function(){J("string"==typeof v?v:"")}),[v]),a.useEffect((function(){i.setL10n(W),i.setTypeaheadCategories()}),[i,W]);var ye=a.createElement(Qi,Ce(Te({},me),{ref:le})),_e=a.createElement(Ki,Te({},pe)),ve={debounceRate:M,label:o,dismissButtonText:u,isMulti:m,handleClear:_,value:v,required:G,lineOfBusiness:P,stid:E,onItemRemove:B,predictiveText:A,boldingType:O,onResultItemSelect:ie,placeholder:c,emptyResultPlaceholder:s,onClearAll:_,initialSearchTerm:Q,onClose:de,onInputChange:ce,eventTracker:be(L,ti)?L:void 0,searchLocationAnalytics:N,isDestination:x,regionType:w},ge=a.createElement(Li,Te({},ve)),Ee=!R||A||O?_e:ge,fe=a.useMemo((function(){return{impressionWrapper:C}}),[C]);return a.createElement(Bi.Provider,{value:fe},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,ye,a.createElement(j,null,a.createElement(V.h,{isVisible:Y},a.createElement(V.e,{isVisible:Y,type:"full",triggerRef:le},Ee))))),a.createElement(d.rw,null,a.createElement("div",null,ye,a.createElement(j,null,a.createElement(V.h,{isVisible:Y},a.createElement(V.e,{isVisible:Y,type:"centered",triggerRef:le,centeredSheetSize:"medium"},a.createElement(V.f,{padded:!1},Ee)))))),a.createElement(d.zQ,null,a.createElement(D.d,{type:"relative"},a.createElement("div",null,ye,a.createElement(V.h,{isVisible:Y},a.createElement(V.e,{isVisible:Y,showOverTrigger:!0,disableArrowKeyHandler:!0,type:"popover",triggerRef:le,width:(null===(t=le.current)||void 0===t?void 0:t.offsetWidth)&&(null===(n=le.current)||void 0===n?void 0:n.offsetWidth)>375?null===(r=le.current)||void 0===r?void 0:r.offsetWidth:375,onDismiss:A?function(){Q.length>0?oe(Q).then((function(e){e[0]&&"title"in e[0]&&Mi(Q,e[0].title)?ie(e[0].title,e[0].data):ie(Q,[])})):null==de||de()}:function(){Q.length>0&&F?ie(Q,[]):null==de||de()},autoPosition:!1},a.createElement(V.f,{padded:!1},Ee))))))))};Xi.displayName="SearchLocation";var Zi="EGDSSearchFormLocationField",eo="".concat(Zi,"-Location"),to="".concat(Zi,"-RegionId"),no="".concat(Zi,"-AirportCode"),ao="".concat(Zi,"-Lat"),ro="".concat(Zi,"-Long"),lo="".concat(Zi,"-Selected"),io="".concat(Zi,"-AmenitiesFacilitiesGroup"),oo="".concat(Zi,"-LocGroup"),co="".concat(Zi,"-PropertiesGoodForGroup"),so="".concat(Zi,"-PropertyTypeGroup"),uo="".concat(Zi,"-DestinationId"),mo="".concat(Zi,"-PropertyId"),po="".concat(Zi,"-PropertyFilter"),yo=function(e){var t,n,r,l,o,c,s=e.egdsElementId,d=e.essAdapter,u=e.label,m=e.placeholder,p=e.icon,_=e.value,v=e.accessibility,S=e.errorText,E=e.required,f=e.emptyResultsPlaceholder,h=e.setFieldRefByTypename,D=e.__typename,b=e.analyticsLinkName,T=e.analyticsReferrerId,C=e.closeAnalyticsLinkName,A=e.changeAnalyticsLinkName,O=e.changeAnalyticsReferrerId,F=e.closeAnalyticsReferrerId,k=e.categorize,R=e.allowExactMatch,G=e.listTitle,P=e.handleResultSelection,L=e.onSelection,N=e.selection,x=e.index,M=e.regionId,B=e.skipQuery,w=e.valueFromQueryParam,W=e.pinnedPropertyId,U=e.alternativeLocationLabel,H=e.propertyRefinements,z=e.isDestination,V=e.skipReflection,Y=e.onOpenLocationField,q=e.debounceRate,j=void 0===q?200:q,$=e.onDismissLocation,K=e.showCurrentLocation,J=e.searchLocationAnalytics,X=e.isPopularFiltersPlaybackEnabled,Z=void 0!==X&&X,ee=e.onType,te=e.predictiveText,ne=e.eventTracker,le=e.boldingType,ie=e.onClearLocation,oe=e.retainSearch,ce=e.isExperienceAPIDriven,se=e.lineOfBusiness,de=e.subLob,ue=e.regionType,me=e.coordinates,pe=e.airportCode,ye=(0,i.k)(),_e=ye.state,ve=ye.dispatch,Se=_e.destination,ge=_e.origin,Ee=(0,I.useLocalization)().formatDateString,fe=(0,y.useLoggerEvents)(Ni),he=a.useMemo((function(){var e,t;if(!V&&z&&Se)return Se;if(!V&&!z&&ge)return ge;var n,a,r=Ae((null==d||null===(t=d.config)||void 0===t||null===(e=t.lastSearchLatLong)||void 0===e?void 0:e.split(","))||["",""],2),l=r[0],i=r[1];return{term:_,data:{type:void 0,regionId:M,hierarchyInfo:{airport:{airportCode:null!=pe?pe:"",airportId:""}},location:{lat:null!==(n=null==me?void 0:me.latitude)&&void 0!==n?n:l,long:null!==(a=null==me?void 0:me.longitude)&&void 0!==a?a:i},selected:null!=W?W:void 0,regionNames:{fullName:_},cityId:""}}}),[_,M,W,z]),De=Ae(a.useState(he),2),be=De[0],Ie=De[1],Oe=Ae(a.useState(be.term&&U?U:u),2),Fe=Oe[0],ke=Oe[1];a.useEffect((function(){null==he.term||B||Ie(he)}),[he,B]),a.useEffect((function(){V||z||!ge||Ie(ge),!V&&z&&Se&&Ie(Se)}),[V,ge,Se]),a.useEffect((function(){ne.initMetadata(null!=se?se:void 0,null!=de?de:void 0)}),[se,de]);var Re=(0,g.KY)(),Ge=a.useCallback((function(e){return h(D,e)}),[h,D]);a.useEffect((function(){(null==N?void 0:N.term)&&N.term!==be.term&&Ie(N),w&&w!==be.term&&(Ie((function(e){return Ce(Te({},e),{term:w})})),L&&L({data:be.data,term:w}))}),[N,w]);var Pe,Le=ce?function(e){var t,n,a,r,l,i;return{regionId:null===(t=e.data)||void 0===t?void 0:t.regionId,location:{lat:null===(a=e.data)||void 0===a||null===(n=a.coordinates)||void 0===n?void 0:n.latitude,long:null===(l=e.data)||void 0===l||null===(r=l.coordinates)||void 0===r?void 0:r.longitude},hierarchyInfo:{airport:{airportCode:null===(i=e.data)||void 0===i?void 0:i.airportCode}}}}(be):be.data||he.data,Ne=Le.regionId,xe=Le.location,Me=Le.hierarchyInfo,Be=Le.selected,we=void 0===Be?"":Be,We=Le.type,Ue=Le.cityId,He=null!=xe?xe:{},ze=He.lat,Ve=void 0===ze?"":ze,Ye=He.long,qe=void 0===Ye?"":Ye,je=(null!=Me?Me:{}).airport||{},$e=je.airportCode,Ke=void 0===$e?"":$e,Qe=je.airportId,Je=void 0===Qe?"":Qe,Xe=ce?(null===(t=be.data)||void 0===t?void 0:t.propertyId)||null:null!==(Pe=null===(r=be.data)||void 0===r||null===(n=r.listing)||void 0===n?void 0:n.expediaId)&&void 0!==Pe?Pe:null,Ze=a.useCallback((function(e){var t=e.payload.locationValue;if(z&&"string"==typeof t){var n={term:t,data:{}};Ie((function(e){var t,a;return(null===(a=e.data)||void 0===a||null===(t=a.regionNames)||void 0===t?void 0:t.fullName)===n.term?e:n}))}}),[z]);(0,ae._H)("SEARCH_FORM_LOCATION_FIELD_UPDATE",re.tk,{onSuccess:Ze,onError:function(e){console.error("Error receiving SEARCH_FORM_LOCATION_FIELD_UPDATE signal:",e)}});var et,tt="".concat(s).concat(Number.isInteger(x)?"-".concat(x):""),nt=(null===(o=be.data)||void 0===o||null===(l=o.regionNames)||void 0===l?void 0:l.fullName)&&!w&&We!==Q.T.CURRENT_LOCATION?be.data.regionNames.fullName:be.term,at=be.data?Ne||Ue||Je:"",rt=d.config.showCurrentLocation&&We===Q.T.CURRENT_LOCATION?"":nt,lt=be.data?Ue||Ne:"",it=null!==(et=null===(c=be.data)||void 0===c?void 0:c.popularFilter)&&void 0!==et?et:[],ot=a.memo((function(e){var t=e.children,n=e.linkNameSuffix,r=e.referrerIdSuffix;return a.createElement(g.ee,{linkName:"Location result impression - ".concat(n),referrerId:"".concat(T,".").concat(r)},t)})),ct={onType:ee,id:"".concat(s).concat(null!=x?x:""),name:s,adapter:d,label:Fe,typeaheadPlaceholder:m,icon:p,value:nt,onUpdate:function(e){var t,n,a,r,l,i,o=null!==(a=e.selection.term)&&void 0!==a?a:"";O&&A&&(Re("".concat(O,".").concat(o),A),(null!==(l=null===(r=e.selection.data)||void 0===r?void 0:r.popularFilter)&&void 0!==l?l:[]).forEach((function(e){Re("".concat(O,".PopularFilter.Selected.").concat(o,"-").concat(null==e?void 0:e.externalId),"".concat(A," with popular filter"))})));if(Ie({term:e.selection.term,data:null!==(i=e.selection.data)&&void 0!==i?i:{}}),ke(o&&U?U:u),L&&L(e.selection),o||null==ie||ie(),!V){var c,s,m,p,y;if(ve({type:z?"UPDATE_DESTINATION":"UPDATE_ORIGIN",location:e.selection.data?e.selection:Ce(Te({},e.selection),{data:{}})}),(null===(c=e.selection.data)||void 0===c?void 0:c.dateRange)||(null===(s=e.selection.data)||void 0===s?void 0:s.travelers))ve({type:"UPDATE_DATES_AND_TRAVELERS",travelers:null!==(p=e.selection.data)&&void 0!==p?p:null});if(d.config.historyDetail&&(null===(m=e.selection.data)||void 0===m?void 0:m.searchDetail))ve({type:"UPDATE_DATES_AND_TRAVELERS_ADAPTER",travelers:null!==(y=e.selection.data.searchDetail)&&void 0!==y?y:null})}if(K&&(null==e||null===(n=e.selection)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.type)===Q.T.CURRENT_LOCATION){var _=new Date,v=Ee(new Date(_.getFullYear(),_.getMonth(),_.getDate()),{raw:"yyyy-MM-dd"}),S=Ee(new Date(_.getFullYear(),_.getMonth(),_.getDate()+1),{raw:"yyyy-MM-dd"});ve({type:"UPDATE_DATES",start:v,end:S})}},handleClear:function(){Ie({term:"",data:{regionId:"",hierarchyInfo:{airport:{airportCode:"",airportId:""}},location:{lat:"",long:""},selected:void 0,regionNames:{},cityId:""}}),ke(u),null==ie||ie()},stid:s,accessibilityLabel:v,onClick:function(){var e;Y&&Y({isDestination:z,lineOfBusiness:d.config.lob,subLineOfBusiness:null!==(e=d.config.subLob)&&void 0!==e?e:""});""===T&&""===b||Re(T,b)},onMountCB:Ge,invalid:S,required:E,typeaheadEmptyResultPlaceholder:f,onResultSelection:P,categorize:k,allowExactMatch:R,listTitle:G,onDismiss:function(){$&&$(be);var e=null!=F?F:"",t=null!=C?C:"";e&&t&&Re(e,t)},debounceRate:j,resultItemImpressionTracker:ot,resultsRequestDurationTimeCallback:function(e,t){fe.SEARCH_LOCATION_TYPEAHEAD_DURATION.log(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(e).replaceAll(":","=").replaceAll('"',"")}({withSearchTerm:t,siteId:d.config.siteId,duration:e.toFixed(0),lob:d.config.lob}))},predictiveText:te,boldingType:le,isExperienceAPIDriven:ce,lineOfBusiness:se,eventTracker:ne,searchLocationAnalytics:J,isDestination:z,regionType:ue};return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Xi,Ce(Te({},ct),{retainSearch:oe}))),a.createElement("input",{type:"hidden","data-stid":eo,name:"".concat(eo,"-").concat(tt),value:rt}),at&&a.createElement("input",{type:"hidden","data-stid":to,name:"".concat(to,"-").concat(tt),value:at}),a.createElement("input",{type:"hidden","data-stid":no,name:"".concat(no,"-").concat(tt),value:Ke}),a.createElement("input",{type:"hidden","data-stid":ao,name:"".concat(ao,"-").concat(tt),value:Ve}),a.createElement("input",{type:"hidden","data-stid":ro,name:"".concat(ro,"-").concat(tt),value:qe}),Xe&&a.createElement("input",{type:"hidden","data-stid":mo,name:"".concat(mo,"-").concat(tt),value:Xe}),a.createElement("input",{type:"hidden","data-stid":lo,name:"".concat(lo,"-").concat(tt),value:null!=Xe?Xe:we}),d.config.popularFilter&&!Z&&it.map((function(e){var t,n,r,l=!!(null==e?void 0:e.legacyId)&&!!(null==e?void 0:e.legacyValue),i=l?null==e?void 0:e.legacyId:null==e?void 0:e.externalId,o=l?null==e?void 0:e.legacyId:null!==(n=null==e||null===(t=e.refinementGroupSet)||void 0===t?void 0:t[1])&&void 0!==n?n:"",c=l?null==e?void 0:e.legacyValue:null!==(r=null==e?void 0:e.externalId)&&void 0!==r?r:"";return a.createElement("input",{key:"search-location-popular-filter-".concat(i),type:"hidden","data-stid":po,name:"".concat(po,"-").concat(o),value:c})})),(null==H?void 0:H.amenitiesFacilitiesGroup)&&a.createElement("input",{type:"hidden","data-stid":io,name:"".concat(io,"-").concat(tt),value:null==H?void 0:H.amenitiesFacilitiesGroup}),(null==H?void 0:H.locationGroup)&&a.createElement("input",{type:"hidden","data-stid":oo,name:"".concat(oo,"-").concat(tt),value:null==H?void 0:H.locationGroup}),(null==H?void 0:H.propertiesGoodForGroup)&&a.createElement("input",{type:"hidden","data-stid":co,name:"".concat(co,"-").concat(tt),value:null==H?void 0:H.propertiesGoodForGroup}),(null==H?void 0:H.propertyTypeGroup)&&a.createElement("input",{type:"hidden","data-stid":so,name:"".concat(so,"-").concat(tt),value:null==H?void 0:H.propertyTypeGroup}),lt&&a.createElement("input",{type:"hidden","data-stid":uo,name:"".concat(uo,"-").concat(tt),value:lt}))},_o="EGDSSearchFormLocationField",vo="".concat(_o,"-Location"),So="".concat(_o,"-RegionId"),go="".concat(_o,"-AirportCode"),Eo="".concat(_o,"-Lat"),fo="".concat(_o,"-Long"),ho="".concat(_o,"-Values"),Do=function(e){var t=e.egdsElementId,n=e.essAdapter,r=e.label,l=e.placeholder,i=e.icon,o=e.multiLocations,c=e.errorText,s=e.required,d=e.emptyResultsPlaceholder,u=e.setFieldRefByTypename,m=e.__typename,p=e.analyticsLinkName,y=e.analyticsReferrerId,_=e.categorize,v=e.allowExactMatch,S=e.listTitle,E=e.selectedItemHeading,f=e.clearAllText,h=e.dismissButtonText,D=e.handleResultSelection,b=e.onMultiSelectItemRemove,T=e.onMultiSelectClearAll,C=e.searchLocationAnalytics,I=e.eventTracker,A=e.lineOfBusiness,O=e.subLob,F=e.isExperienceAPIDriven,k=e.debounceRate,R=o.map((function(e){return{term:e.text,data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:e.value}}})),G=Ae(a.useState(R),2),P=G[0],L=G[1],N=Ae(a.useState(!1),2),x=N[0],M=N[1];a.useEffect((function(){x&&(M(!1),rr(P.map((function(e){return e.term})).join(", "),D))}),[x,P,D]),a.useEffect((function(){I.initMetadata(null!=A?A:void 0,null!=O?O:void 0)}),[A,O]);var B=(0,g.KY)(),w=a.useCallback((function(e){return u(m,e)}),[u,m]),W=function(e,t){var n={data:{regionId:"",hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""},value:""}},a=e.map((function(e){return e.data||n.data}));return{term:e.map((function(e){return e.term})).join(","),regionId:a.map((function(e){return e.regionId})).join(","),lat:a.map((function(e){var n,a;return t?null==e||null===(n=e.coordinates)||void 0===n?void 0:n.latitude:null===(a=e.location)||void 0===a?void 0:a.lat})).join(","),long:a.map((function(e){var n,a;return t?null==e||null===(n=e.coordinates)||void 0===n?void 0:n.longitude:null===(a=e.location)||void 0===a?void 0:a.long})).join(","),airportCode:a.map((function(e){var n,a;return t?e.airportCode:null===(a=e.hierarchyInfo)||void 0===a||null===(n=a.airport)||void 0===n?void 0:n.airportCode})).join(","),locationValues:a.map((function(e){return t?e.regionId:e.value})).join(",")}}(P,F),U=W.term,H=W.regionId,z=W.lat,V=W.long,Y=W.airportCode,q=W.locationValues,j=r.concat(",").concat(U);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Xi,{id:t,name:t,adapter:n,label:r,typeaheadPlaceholder:l,icon:i,value:P.map((function(e){return e.term})),onUpdate:function(e){!P.some((function(t){return t===e.selection}))&&e.selection.data&&L((function(t){return Fe(t).concat([e.selection])}))},stid:t,accessibilityLabel:j,onClick:function(e){B(y,p)},onMountCB:w,invalid:c,required:s,typeaheadEmptyResultPlaceholder:d,handleClear:function(){L([]),null==T||T(t)},onItemRemove:function(e){(null==P?void 0:P.length)>0&&(L((function(t){return t.filter((function(t,n){return n!==e}))})),null==b||b(P[e],t))},onDismiss:function(){M(!0)},categorize:_,allowExactMatch:v,listTitle:S,selectedItemHeading:E,clearAllText:f,dismissButtonText:h,isMulti:!0,isExperienceAPIDriven:F,eventTracker:I,searchLocationAnalytics:C,debounceRate:k,lineOfBusiness:A})),a.createElement("input",{type:"hidden","data-stid":vo,name:"".concat(vo,"-").concat(t),value:U}),a.createElement("input",{type:"hidden","data-stid":So,name:"".concat(So,"-").concat(t),value:H}),a.createElement("input",{type:"hidden","data-stid":go,name:"".concat(go,"-").concat(t),value:Y}),a.createElement("input",{type:"hidden","data-stid":Eo,name:"".concat(Eo,"-").concat(t),value:z}),a.createElement("input",{type:"hidden","data-stid":fo,name:"".concat(fo,"-").concat(t),value:V}),a.createElement("input",{type:"hidden","data-stid":ho,name:"".concat(ho,"-").concat(t),value:q}))},bo=(0,u.J1)(It()),To="EGDSSearchFormLocationField",Co=function(e){var t,n,r,l,i,o=e.fieldError,c=e.data,s=e.adapter,d=e.onMultiSelectItemRemove,u=e.onMultiSelectClearAll,m=e.locationsErrorText,y=e.additionalAdapterFields,_=e.pinnedPropertyId,v=e.alternativeLocationLabel,S=e.propertyRefinements,g=e.skipReflection,E=e.onLocationsSelection,f=e.showCurrentLocation,h=e.onDismissLocation,D=e.categorizeResults,b=e.enablePredictiveText,T=e.isHistoryDetailFormatVariant,I=e.isExperienceAPIDriven,A=e.retainSearch,O=(0,p.R)().context,F=O.identity,k=O.locale,R=O.siteId,G=c.__typename,P=c.label,L=c.action,N=c.placeholder,x=c.leftIcon,M=c.egdsElementId,B=c.value,w=c.errorMessage,W=c.multiLocations,U=c.closeAnalytics,H=c.changeAnalytics,z=c.regionId,V=c.debounceRate,Y=c.validations,q=c.coordinates,j=c.airportCode,$=(null==o||null===(t=o.validations)||void 0===t?void 0:t.sameLocationSelected)&&Y&&"origin_select"===M?null===(n=Y.find((function(e){return"EGDSSameValueInputValidation"===e.__typename})))||void 0===n?void 0:n.errorMessage:null,K=null!==(i=null!==(l=null!=$?$:m)&&void 0!==l?l:w)&&void 0!==i?i:"",X=(0,C.u)(M,(function(e){return e})),Z=null===(r=(0,J.I)())||void 0===r?void 0:r.version;if("OpenTypeaheadAction"!==(null==L?void 0:L.__typename))return null;var ee,te=I?new ti:new ql,ne=Ce(Te({},y),{alternate:!!(null==y?void 0:y.lastSearchLatLong)&&(null==y?void 0:y.alternate),googleApiVersion:Z}),ae=L.analytics,re=L.accessibility,le=L.emptyResultsPlaceholder,ie=L.allowExactMatch,oe=L.categorize,ce=L.listTitle,se=L.selectedItemHeading,de=L.clearAllText,ue=L.dismissButtonText,me=L.info,pe=me.client,ye=me.drivable,_e=me.isDestination,ve=me.lineOfBusiness,Se=me.maxNumberOfResults,ge=me.packageType,Ee=me.personalize,fe=me.regionType,he=me.typeaheadFeatures,De=me.isMultiLocation,Ie=me.domain,Ae=me.regionId,Oe=me.subLob,Fe=me.expUserId,ke=me.trending,Re=(F||{}).duaid,Ge=Number(Fe)||-1,Pe=["localhost","shared-ui.expedia.biz"].includes(window.location.hostname),Le="GROUNDTRANSFERS"===ve?fe===Pi?"FLIGHTS":"HOTELS":ve,Ne=null!=s?s:new Q.E(Ce(Te({client:null!=pe?pe:"",drivable:ye,trending:ke,dest:_e,domain:Pe?"https://www.expedia.com/":null!=Ie?Ie:"https://www.expedia.com/",expuserid:Ge,features:null!=he?he:"",guid:Re,lob:null!=Le?Le:"",locale:k,maxResults:null!=Se?Se:10,personalize:Ee,regionType:null!=fe?fe:2047,siteId:R,packageType:null!=ge?ge:"",showCurrentLocation:null!=f&&f,regionId:null!=Ae?Ae:void 0,excludeRoomsLabelForRecentHistory:10111===fe},ne),{subLob:null!=Oe?Oe:"",logRequest:function(e){te.recordRequest(e)},logResponse:function(e){be(te,ql)&&te.recordResponse(e)},historyDetailFormatVariant:null!=T&&T})),xe=Ce(Te({},e),{egdsElementId:M,essAdapter:Ne,predictiveText:b,categorize:!(!oe&&!D),allowExactMatch:ie,listTitle:ce,handleResultSelection:X,label:null!=P?P:"",placeholder:null!=N?N:"",icon:null!==(ee=null==x?void 0:x.title)&&void 0!==ee?ee:"place",accessibility:null!=re?re:"",errorText:o?K:"",required:!1,emptyResultsPlaceholder:null!=le?le:"",analyticsLinkName:ae.linkName,analyticsReferrerId:ae.referrerId,closeAnalyticsLinkName:null==U?void 0:U.linkName,closeAnalyticsReferrerId:null==U?void 0:U.referrerId,changeAnalyticsLinkName:null==H?void 0:H.linkName,changeAnalyticsReferrerId:null==H?void 0:H.referrerId,selectedItemHeading:null!=se?se:"",dismissButtonText:null!=ue?ue:"",__typename:G,regionId:z,isDestination:_e,regionType:fe,debounceRate:null!=V?V:void 0,showCurrentLocation:null!=f&&f,retainSearch:A,isExperienceAPIDriven:I,lineOfBusiness:ve,subLob:Oe,coordinates:q,airportCode:j});return De?a.createElement(Do,Ce(Te({},xe),{multiLocations:null!=W?W:[],clearAllText:null!=de?de:"",onMultiSelectItemRemove:d,onMultiSelectClearAll:u,onLocationsSelection:E,eventTracker:te})):a.createElement(yo,Ce(Te({},xe),{value:null!=B?B:"",pinnedPropertyId:null!=_?_:"",alternativeLocationLabel:v,propertyRefinements:S,skipReflection:g,onDismissLocation:h,eventTracker:te}))};Co.displayName=To,Co.fragment=Ce(Te({},bo),{__typename:To});var Io=(0,u.J1)(At(),ka),Ao=function(e){var t=e.data,n=e.onClick,r=e.size,l=e.isFullWidth,i=void 0===l||l,o=e.floating,c=void 0!==o&&o,s=t.egdsElementId,d=t.primary,u=t.analytics,m=null!=s?s:"search_form_primary_button",p=(0,g.KY)(),y={onClick:a.useCallback((function(){if(u){var e=u.referrerId,t=u.linkName;p(e,t)}n()}),[u,n,p]),id:m,isFullWidth:i,size:r||P.E.LARGE};return c?a.createElement(ne.E,{type:"fade-button"},a.createElement(te.E,Te({},y),d)):a.createElement(G.E,Te({},y),d)};Ao.displayName="SearchToolsEGDSPrimaryButton",Ao.fragment=Io;var Oo=(0,u.J1)(Ot(),ka),Fo=function(e){var t=e.onClick,n=e.isFullWidth,r=e.size,l=e.data,i=e.isDisabled,o=e.domRef,c=l.egdsElementId,s=l.primary,d=l.disabled,u=l.accessibility,m=l.analytics,p=l.icon,y=null!=c?c:"search_form_tertiary_button",_=(0,g.KY)(),S=i||d,E=a.useCallback((function(){if(m){var e=m.referrerId,n=m.linkName;_(e,n)}t()}),[m,t,_]);return a.createElement(z.E,{"aria-label":null!=u?u:"",id:y,"data-test-id":y,onClick:E,disabled:S,isFullWidth:n,size:r,domRef:o},p&&a.createElement(v.a,{name:p.id}),s)};Fo.displayName="SearchToolsEGDSTertiaryButton",Fo.fragment=Oo;var ko=(0,u.J1)(Ft()),Ro=function(e){var t=e.data,n=t.label,r=t.value,l=t.egdsElementId,i="".concat(l,"-").concat(r);return a.createElement("option",{key:i,value:r},n)};Ro.displayName="EGDSBasicOption",Ro.fragment=ko;var Go=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Po=function(e,t,n){if("EGDSTravelerChildren"===n.children.__typename){var a=n.children,r=Ce(Te({},a),{count:Ce(Te({},a.count),{value:e}),ages:t.length?t.map((function(e){return Ce(Te({},a.ageTemplate),{value:e})})):[]});return Te({},r)}return Te({},n.children)},Lo=function(e,t,n,a){if(!n)return null;var r,l=t.reduce((function(e,t){var n,a;return e+t.adults.value+t.children.count.value+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0),i="lap"===a?t.reduce((function(e,t){var n,a;return e+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0):0,o="seat"===a?t.reduce((function(e,t){var n,a;return e+(null!==(a=null===(n=t.infants)||void 0===n?void 0:n.count.value)&&void 0!==a?a:0)}),0):0,c=t.reduce((function(e,t){var n;return e+(null!==(n=t.adults.value)&&void 0!==n?n:0)}),0),s=t.reduce((function(e,t){var n;return e+(null!==(n=("EGDSTravelerChildren"===t.children.__typename?t.children.ages:[]).filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length)&&void 0!==n?n:0)}),0),d=function(e){return e.reduce((function(e,t){var n,a,r="EGDSTravelerChildren"===t.children.__typename?t.children.ages:[],l="EGDSTravelerInfant"===(null===(n=t.infants)||void 0===n?void 0:n.__typename)?t.infants.ages:[];return e+r.filter(Go).length+(null!==(a=l.filter(Go).length)&&void 0!==a?a:0)}),0)}(t),u=s+c<i,m=n.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var t,n,a=e.type,r=e.errorMessage,i=e.maxCount,m=e.errorSummary,p=e.infantsInSeatPerAdult;return null!==(n=(he(t={},"MAX_TRAVELERS",i&&l>i?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:Ce(Te({},m),{heading:r})}:null),he(t,"CHILD_AGE_REQUIRED",d>0?{message:r,type:a,displayConfirmation:!1,errorCount:d,errorSummary:m}:null),he(t,"MANY_INFANT_ON_LAP",u?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:m}:null),he(t,"MANY_INFANT_IN_SEAT",p&&s+c<o/p?{message:r,type:a,displayConfirmation:!0,errorCount:1,errorSummary:m}:null),t)[a])&&void 0!==n?n:null}return null})).filter((function(e){return null!==e}));return m.find((function(t){return e&&e.type===t.type}))&&(null==e?void 0:e.displayConfirmation)?Ce(Te({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?d:1}):null!==(r=m[0])&&void 0!==r?r:null},No=function(e,t){switch(t.type){case"ADD_ROOM":var n=e.rooms[0],a=n.adults,r=n.label,l=n.removeRoomButton,i=n.removeRoomAnnouncement,o=n.children,c=n.infants;if("EGDSTravelerStepInput"===a.__typename&&"EGDSTravelerChildren"===o.__typename&&o.ages){var s,d,u=Ce(Te({},o.count),{value:0}),m={__typename:"EGDSTravelerSelectorRoom",children:Ce(Te({},o),{count:u,ages:[]}),adults:Ce(Te({},a),{value:1}),label:r,removeRoomButton:l,removeRoomAnnouncement:i,infants:"EGDSTravelerInfant"===(null==c?void 0:c.__typename)?Ce(Te({},c),{count:Ce(Te({},c.count),{value:0}),ages:[]}):null},p=e.rooms.concat(m),y=Lo(e.error?e.error:null,p,null!==(d=e.validations)&&void 0!==d?d:[],null===(s=e.infantSeatSelection)||void 0===s?void 0:s.value);return Ce(Te({},e),{rooms:p,error:y})}return Ce(Te({},e),{rooms:[]});case"REMOVE_ROOM":var _,v,S=t.roomIndex,g=e.rooms.filter((function(e,t){return t!==S})),E=Lo(e.error?e.error:null,g,null!==(v=e.validations)&&void 0!==v?v:[],null===(_=e.infantSeatSelection)||void 0===_?void 0:_.value);return Ce(Te({},e),{rooms:g,error:E});case"RESET_STATE":return t.state;case"RESET_ROOMS":return Ce(Te({},e),{rooms:t.state.rooms});case"UPDATE_INFANT_SEAT_SELECTION":var f,h=t.value,D=Lo(e.error?e.error:null,e.rooms,null!==(f=e.validations)&&void 0!==f?f:[],h);return Ce(Te({},e),{infantSeatSelection:{value:t.value},error:D});case"UPDATE_TRAVELERS_COUNT":var b,T,C=t.roomIndex,I=t.count,A=t.travelersType,O=e.rooms.map((function(e,t){if(t===C)switch(A){case"adults":return Ce(Te({},e),{adults:Ce(Te({},e.adults),{value:I})});case"children":if("EGDSTravelerChildren"===e.children.__typename){var n,a,r=e.children,l=I>r.count.value,i="EGDSTravelerChildAgeSelect"===r.ageTemplate.__typename?Ce(Te({},r.ageTemplate),{value:null}):null,o=l?null===(n=r.ages)||void 0===n?void 0:n.concat(null!=i?i:r.ageTemplate):null===(a=r.ages)||void 0===a?void 0:a.slice(0,-1),c=Ce(Te({},r),{count:Ce(Te({},r.count),{value:I}),ages:o});return Ce(Te({},e),{children:c})}return e;case"infants":var s;if("EGDSTravelerInfant"===(null===(s=e.infants)||void 0===s?void 0:s.__typename)){var d=e.infants,u=I>d.count.value?d.ages.concat(d.ageTemplate):d.ages.slice(0,-1),m=Ce(Te({},d),{count:Ce(Te({},d.count),{value:I}),ages:u});return Ce(Te({},e),{infants:m})}return e;default:return e}return e})),F=Lo(e.error?e.error:null,O,null!==(T=e.validations)&&void 0!==T?T:[],null===(b=e.infantSeatSelection)||void 0===b?void 0:b.value);return Ce(Te({},e),{rooms:O,error:F});case"UPDATE_CHILD_AGE":var k,R,G=t.roomIndex,P=t.childIndex,L=t.childAge,N=t.isInfant,x=e.rooms.map((function(e,t){var n;return t!==G||"EGDSTravelerChildren"!==e.children.__typename||N?t===G&&"EGDSTravelerInfant"===(null===(n=e.infants)||void 0===n?void 0:n.__typename)&&N?Ce(Te({},e),{infants:Ce(Te({},e.infants),{ages:e.infants.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&P===t?Ce(Te({},e),{value:L}):Te({},e)}))})}):e:Ce(Te({},e),{children:Ce(Te({},e.children),{ages:e.children.ages.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&P===t?Ce(Te({},e),{value:L}):Te({},e)}))})})})),M=Lo(e.error?e.error:null,x,null!==(R=e.validations)&&void 0!==R?R:[],null===(k=e.infantSeatSelection)||void 0===k?void 0:k.value);return Ce(Te({},e),{rooms:x,error:M});case"SHOW_ERROR":if(e.error){var B=e.error,w={message:B.message,type:B.type,displayConfirmation:!0,errorCount:B.errorCount,errorSummary:B.errorSummary};return Ce(Te({},e),{error:w})}return Te({},e);case"SET_VALIDATIONS":return Ce(Te({},e),{validations:t.validations});case"UPDATE_TRAVELERS_BULK":var W=t.adultTravelerCounts,U=t.childTravelerCounts,H=t.childrenAges;if(null==W?void 0:W.length){var z=W.map((function(t,n){return Ce(Te({},e.rooms[n]),{adults:Ce(Te({},e.rooms[n].adults),{value:t}),children:(null==H?void 0:H.length)?Po((null==U?void 0:U.length)?U[n]:0,H[n],e.rooms[n]):Ce(Te({},e.rooms[n].children),{count:Ce(Te({},e.rooms[n].children.count),{value:0}),ages:[]})})}));return Ce(Te({},e),{rooms:z})}return Te({},e);default:return e}},xo=a.createContext({state:{}}),Mo=function(e){var t=e.children,n=e.rooms,r=e.validations,l=e.skipQuery,i=e.infantSeatSelection,o=Ae(a.useReducer(No,{rooms:n,validations:r,infantSeatSelection:i?{value:i.selected}:null}),2),c=o[0],s=o[1],d=Ae(a.useState(c),2),u=d[0],m=d[1];a.useEffect((function(){l||s({type:"RESET_STATE",state:{rooms:n,validations:r,infantSeatSelection:i?{value:i.selected}:null}})}),[l,i,n]),a.useEffect((function(){c!==u&&m(c)}),[c,u]),a.useEffect((function(){s({type:"SET_VALIDATIONS",validations:r})}),[r]);var p={state:u,dispatch:s};return a.createElement(xo.Provider,{value:p},t)},Bo=function(){return a.useContext(xo)},wo=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Wo=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Uo=function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value},Ho=function(e,t,n){var a,r,l,i,o,c;if(!n)return null;var s,d,u,m,p,y=null!==(c=null===(a=t.children)||void 0===a?void 0:a.count.value)&&void 0!==c?c:0,_=null!==(s=null===(r=t.infantsInSeat)||void 0===r?void 0:r.count.value)&&void 0!==s?s:0,v=null!==(d=null===(l=t.infantsOnLap)||void 0===l?void 0:l.count.value)&&void 0!==d?d:0,S=null!==(u=t.adults.value)&&void 0!==u?u:0,g=S+y+_+v,E="EGDSTravelerChildren"===(null==(m=t.children)?void 0:m.__typename)?m.ages.filter(wo).length:0,f=function(e){return"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(Wo).length:0}(t.infantsInSeat),h=E+f+("EGDSTravelerInfant"===(null==(p=t.infantsOnLap)?void 0:p.__typename)?null==p?void 0:p.ages.filter(Uo).length:0),D="EGDSTravelerChildren"===(null===(i=t.children)||void 0===i?void 0:i.__typename)?null===(o=t.children)||void 0===o?void 0:o.ages.filter((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12})).length:0,b=D+S<v,T=n.map((function(e){if("EGDSTravelersInputValidation"===e.__typename){var t,n=e.type,a=e.errorMessage,r=e.maxCount,l=e.errorSummary,i=e.infantsInSeatPerAdult;return(he(t={},"MAX_TRAVELERS",r?g>r&&{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),he(t,"CHILD_AGE_REQUIRED",h>0?{message:a,type:n,displayConfirmation:!1,errorCount:h,errorSummary:l}:null),he(t,"MANY_INFANT_ON_LAP",b?{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),he(t,"MANY_INFANT_IN_SEAT",i&&D+S<_/i?{message:a,type:n,displayConfirmation:!0,errorCount:1,errorSummary:l}:null),t)[n]}return null})).filter((function(e){return!!e}));return T.find((function(t){return e&&e.type===(null==t?void 0:t.type)}))&&(null==e?void 0:e.displayConfirmation)?Ce(Te({},e),{errorCount:"CHILD_AGE_REQUIRED"===e.type?h:1}):T?T[0]:null},zo=function(e,t){switch(t.type){case"RESET_STATE":return t.state;case"UPDATE_TRAVELERS_COUNT":var n,a=function(e,t){switch(t.travelersType){case"adults":return Ce(Te({},e),{adults:Ce(Te({},e.adults),{value:t.count})});case"children":var n,a;if("EGDSTravelerChildren"===(null===(n=e.children)||void 0===n?void 0:n.__typename)){var r,l,i=e.children,o=t.count>i.count.value,c="EGDSTravelerChildAgeSelect"===i.ageTemplate.__typename?Ce(Te({},i.ageTemplate),{value:null}):null,s=o?null===(r=i.ages)||void 0===r?void 0:r.concat(null!=c?c:i.ageTemplate):null===(l=i.ages)||void 0===l?void 0:l.slice(0,-1),d=Ce(Te({},i),{count:Ce(Te({},i.count),{value:t.count}),ages:s});return Ce(Te({},e),{children:d})}if("EGDSBasicTraveler"===(null===(a=e.children)||void 0===a?void 0:a.__typename)){var u=e.children;return Ce(Te({},e),{children:Ce(Te({},u),{count:Ce(Te({},u.count),{value:t.count})})})}return e;case"infants_in_seat":var m,p,y;if("EGDSTravelerInfant"===(null===(m=e.infantsInSeat)||void 0===m?void 0:m.__typename)&&"EGDSTravelerInfant"===(null===(p=e.infantsOnLap)||void 0===p?void 0:p.__typename)){var _,v,S=e.infantsInSeat,g=e.infantsOnLap,E=t.count>S.count.value?null===(_=S.ages)||void 0===_?void 0:_.concat(S.ageTemplate):null===(v=S.ages)||void 0===v?void 0:v.slice(0,-1),f=Ce(Te({},S),{count:Ce(Te({},S.count),{value:t.count}),ages:E}),h=f.count.value>0?0:f.count.max,D=Ce(Te({},g),{count:Ce(Te({},null==g?void 0:g.count),{max:h})});return Ce(Te({},e),{infantsInSeat:f,infantsOnLap:D})}if("EGDSBasicTraveler"===(null===(y=e.infantsInSeat)||void 0===y?void 0:y.__typename)){var b=e.infantsInSeat;return Ce(Te({},e),{infantsInSeat:Ce(Te({},b),{count:Ce(Te({},b.count),{value:t.count})})})}return e;case"infants_on_lap":var T,C,I;if("EGDSTravelerInfant"===(null===(T=e.infantsOnLap)||void 0===T?void 0:T.__typename)&&"EGDSTravelerInfant"===(null===(C=e.infantsInSeat)||void 0===C?void 0:C.__typename)){var A,O,F=e.infantsOnLap,k=e.infantsInSeat,R=t.count>F.count.value?null===(A=F.ages)||void 0===A?void 0:A.concat(F.ageTemplate):null===(O=F.ages)||void 0===O?void 0:O.slice(0,-1),G=Ce(Te({},F),{count:Ce(Te({},F.count),{value:t.count}),ages:R}),P=G.count.value>0?0:G.count.max,L=Ce(Te({},k),{count:Ce(Te({},null==k?void 0:k.count),{max:P})});return Ce(Te({},e),{infantsOnLap:G,infantsInSeat:L})}if("EGDSBasicTraveler"===(null===(I=e.infantsOnLap)||void 0===I?void 0:I.__typename)){var N=e.infantsOnLap;return Ce(Te({},e),{infantsOnLap:Ce(Te({},N),{count:Ce(Te({},N.count),{value:t.count})})})}return e;default:return e}}(e.travelers,t),r=Ho(e.error?e.error:null,a,null!==(n=e.validations)&&void 0!==n?n:[]);return Ce(Te({},e),{travelers:a,error:r});case"UPDATE_CHILD_AGE":var l,i=function(e,t){var n,a,r;return"EGDSTravelerChildren"===(null===(n=e.children)||void 0===n?void 0:n.__typename)&&""===t.infantType?Ce(Te({},e),{children:Ce(Te({},e.children),{ages:e.children.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?Ce(Te({},e),{value:t.childAge}):Te({},e)}))})}):"EGDSTravelerInfant"===(null===(a=e.infantsInSeat)||void 0===a?void 0:a.__typename)&&"infants_in_seat"===t.infantType?Ce(Te({},e),{infantsInSeat:Ce(Te({},e.infantsInSeat),{ages:e.infantsInSeat.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?Ce(Te({},e),{value:t.childAge}):Te({},e)}))})}):"EGDSTravelerInfant"===(null===(r=e.infantsOnLap)||void 0===r?void 0:r.__typename)&&"infants_on_lap"===t.infantType?Ce(Te({},e),{infantsOnLap:Ce(Te({},e.infantsOnLap),{ages:e.infantsOnLap.ages.map((function(e,n){return"EGDSTravelerChildAgeSelect"===e.__typename&&t.childIndex===n?Ce(Te({},e),{value:t.childAge}):Te({},e)}))})}):e}(e.travelers,t),o=Ho(e.error?e.error:null,i,null!==(l=e.validations)&&void 0!==l?l:[]);return Ce(Te({},e),{travelers:i,error:o});case"UPDATE_PETS_FILTER":var c,s=function(e,t){var n;if("EGDSBasicCheckBox"===(null===(n=e.pets)||void 0===n?void 0:n.__typename)){var a=t.checked?"CHECKED":"UNCHECKED";return Ce(Te({},e),{pets:Ce(Te({},e.pets),{state:a})})}return e}(e.travelers,t),d=Ho(e.error?e.error:null,s,null!==(c=e.validations)&&void 0!==c?c:[]);return Ce(Te({},e),{travelers:s,error:d});case"SHOW_ERROR":if(e.error){var u=e.error,m={message:u.message,type:u.type,displayConfirmation:!0,errorCount:u.errorCount,errorSummary:u.errorSummary};return Ce(Te({},e),{error:m})}return Te({},e);case"UPDATE_TRAVELERS_BULK":var p,y=t.adultTravelerCounts,_=t.childTravelerCounts,v=t.childrenAges,S=t.petCounts,g=function(e,t,n,a){var r;if("EGDSTravelerChildren"===(null===(r=a.children)||void 0===r?void 0:r.__typename)){var l=a.children;return Ce(Te({},a),{adults:Ce(Te({},a.adults),{value:e}),children:Ce(Te({},a.children),{count:Ce(Te({},a.children.count),{value:t}),ages:n.length?n.map((function(e){return Ce(Te({},null==l?void 0:l.ageTemplate),{value:e})})):[]})})}return a}(y,_,v,e.travelers),E=function(e,t){var n;if("EGDSBasicCheckBox"===(null===(n=e.pets)||void 0===n?void 0:n.__typename)){var a=t>0?"CHECKED":"UNCHECKED";return Ce(Te({},e),{pets:Ce(Te({},e.pets),{state:a})})}return e}(g,S),f=Ho(e.error?e.error:null,g,null!==(p=e.validations)&&void 0!==p?p:[]);return Ce(Te({},e),{travelers:E,error:f});default:return e}},Vo=a.createContext({state:{}}),Yo=function(e){var t=e.children,n=e.travelers,r=e.validations,l=e.skipQuery,i=Ae(a.useReducer(zo,{travelers:n,validations:r}),2),o=i[0],c=i[1];a.useEffect((function(){l||c({type:"RESET_STATE",state:{travelers:n,validations:r}})}),[l]);var s=a.useMemo((function(){return{state:o,dispatch:c}}),[o,c]);return a.createElement(Vo.Provider,{value:s},t)},qo=function(){return a.useContext(Vo)},jo=(0,u.J1)(kt(),Ro.fragment),$o=function(e){var t=e.childIndex,n=e.roomIndex,r=e.isInfant,l=e.infantType,i=e.childAgeRef,o=e.data,c=Bo(),s=qo(),d=void 0!==n,u=o.labelTemplate,m=o.options,p=o.egdsElementId,y=o.value,_=(0,g.KY)(),v="child-".concat(p).concat(d?"-".concat(n):"","-").concat(t),S="age-".concat(p).concat(d?"-".concat(n):"","-").concat(t),E=t+1,f=null!=y?y:"",h=Number.isInteger(f),D=(d?c.state:s.state).error,b="CHILD_AGE_REQUIRED"===(null==D?void 0:D.type)&&D.displayConfirmation,T=D&&"CHILD_AGE_REQUIRED"===D.type&&!h&&b?D.message:"",C="EGDSBasicLocalizedText"===u.__typename&&1===u.models.length?Da(u.template,u.models[0].key,E.toString()):"";return a.createElement(R.i,{domRef:i,invalid:T,label:C,"aria-label":C,id:S,name:v,onChange:function(e){var a=parseInt(e.target.value,10),i=m.find((function(t){return"EGDSBasicOption"===t.__typename&&t.value===e.target.value}));if(i&&"EGDSBasicOption"===(null==i?void 0:i.__typename)&&(null==i?void 0:i.changeAnalytics)){var o=i.changeAnalytics,u=o.referrerId,p=o.linkName;_(u,p)}Number.isNaN(a)||(d?c.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:n,childIndex:t,childAge:a,isInfant:r,infantType:l}):s.dispatch({type:"UPDATE_CHILD_AGE",childIndex:t,childAge:a,infantType:l}))},value:f,emptyState:"string"==typeof f,required:!0},m.map((function(e){return"EGDSBasicOption"===e.__typename&&a.createElement(Ro,{key:"".concat(v,"-").concat(e.value),data:e})})))};$o.displayName="EGDSTravelerChildAgeSelect",$o.fragment=Ce(Te({},jo),{__typename:"EGDSTravelerChildAgeSelect"});var Ko=(0,u.J1)(Rt()),Qo=(0,u.J1)(Gt(),Ko),Jo=(0,u.J1)(Pt(),Ko),Xo=(0,u.J1)(Lt(),Ko),Zo=((0,u.J1)(Nt(),Qo,Jo,Xo),(0,u.J1)(xt(),Qo)),ec=function(e,t){if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){var n=(t+1).toString();return Da(e.template,e.models[0].key,n)}return""},tc=function(e){var t=e.roomIndex,n=e.travelersType,r=e.data,l=r.label,i=r.max,o=r.min,c=r.subLabel,s=r.value,d=Bo(),u=qo(),m=(0,g.KY)(),p=void 0!==t,y="EGDSTravelerStepInput"===r.__typename&&(p?{incrementText:ec(r.increaseTextTemplate,t),decrementText:ec(r.decreaseTextTemplate,t)}:{incrementText:r.increaseText||"",decrementText:r.decreaseText||""}),_="EGDSTravelerStepInput"===r.__typename?"".concat(r.egdsElementId).concat(p?"-".concat(t):""):"";return a.createElement(ie.a,Ce(Te({},y),{label:l,incrementId:"".concat(_,"-increase"),decrementId:"".concat(_,"-decrease"),min:null!=o?o:0,max:null!=i?i:0,onChange:function(e){var a=parseInt(e.target.value,10);if("EGDSTravelerStepInput"===r.__typename){var l=r.increaseAnalytics,i=r.decreaseAnalytics;a>s&&l.referrerId&&l.linkName?m(l.referrerId,r.increaseAnalytics.linkName):i.referrerId&&i.linkName&&m(i.referrerId,r.decreaseAnalytics.linkName)}Number.isNaN(a)||(p?d.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,roomIndex:t,count:a}):u.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,count:a}))},value:s,description:null!=c?c:"",id:_}))};tc.displayName="EGDSTravelersStepInput",tc.fragment=Ce(Te({},Zo),{__typename:"EGDSTravelerStepInput"});var nc=(0,u.J1)(Mt(),tc.fragment,$o.fragment),ac=function(e){var t,n=e.data,r=e.childAgeRef,i=e.roomIndex,o=e.travelersType,c=n.count,s=n.__typename,d="infants"===o||"infants_on_lap"===o||"infants_in_seat"===o,u=("EGDSTravelerInfant"!==n.__typename&&"EGDSTravelerChildren"!==n.__typename||!n.ages?[]:n.ages).findIndex((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}));return a.createElement(a.Fragment,null,c&&"EGDSTravelerStepInput"===c.__typename&&a.createElement(tc,{travelersType:o,roomIndex:i,data:c}),("EGDSTravelerChildren"===s||"EGDSTravelerInfant"===s)&&a.createElement(b.i,{wrap:"wrap"},null===(t=n.ages)||void 0===t?void 0:t.map((function(e,t){return"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:t},a.createElement(l.b,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(b.j,{minWidth:"full_width"},a.createElement("div",null,a.createElement($o,{key:t,childIndex:t,roomIndex:i,isInfant:d,infantType:d?o:"",data:e,childAgeRef:u===t?r:void 0})))))}))))};ac.displayName="EGDSTravelersChildren",ac.fragment=Ce(Te({},nc),{__typename:"EGDSTravelerChildren"});var rc=function(e){var t=e.data,n=qo(),r=n.state,l=n.dispatch,i=r.travelers.pets;if("EGDSBasicCheckBox"!==(null==i?void 0:i.__typename))return null;var o="CHECKED"===i.state;return a.createElement(Ur,{data:t,checked:o,onChange:function(e){l({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},lc=(0,u.J1)(Bt(),Ur.fragment,ac.fragment,tc.fragment),ic=function(e){var t=e.childAgeRef,n=e.infantsOnLapRef,r=e.infantsInSeatRef,i=e.isTravelersExpanded,o=e.data,c=o.adults,s=o.children,d=o.pets,u=o.infantsInSeat,m=o.infantsOnLap,p=a.useRef(null);return a.useEffect((function(){var e;i&&(null===(e=p.current)||void 0===e||e.focus())}),[i]),a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===c.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement("span",{className:"is-visually-hidden",tabIndex:-1,ref:p},c.label),a.createElement(tc,{travelersType:"adults",data:c}))),("EGDSTravelerChildren"===(null==s?void 0:s.__typename)||"EGDSBasicTraveler"===(null==s?void 0:s.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ac,{travelersType:"children",childAgeRef:t,data:s}))),("EGDSTravelerInfant"===(null==m?void 0:m.__typename)||"EGDSBasicTraveler"===(null==m?void 0:m.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ac,{travelersType:"infants_on_lap",childAgeRef:n,data:m}))),("EGDSTravelerInfant"===(null==u?void 0:u.__typename)||"EGDSBasicTraveler"===(null==u?void 0:u.__typename))&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ac,{travelersType:"infants_in_seat",childAgeRef:r,data:u}))),"EGDSBasicCheckBox"===(null==d?void 0:d.__typename)&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(rc,{data:d}))))};ic.displayName="EGDSTravelers",ic.fragment=Ce(Te({},lc),{__typename:"EGDSTravelers"});var oc=(0,u.J1)(wt(),Ta.fragment,Ao.fragment,Fo.fragment,ic.fragment),cc=function(e){var t=e.data,n=e.onSubmit,r=e.isTravelersExpanded,i=t.doneButton,o=qo().state,c=a.useRef(null),s=a.useRef(null),u=a.useRef(null),m=o.travelers,p=o.error,y=c.current?c:s.current?s:u;return a.createElement(b.i,{direction:"column"},(null==p?void 0:p.displayConfirmation)&&a.createElement(l.b,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(Ta,{data:p.errorSummary,inputErrorRef:y,errorCount:p.errorCount}))),a.createElement("section",null,a.createElement(ic,{data:m,childAgeRef:c,infantsOnLapRef:s,infantsInSeatRef:u,isTravelersExpanded:r})),"UIPrimaryButton"===i.__typename&&a.createElement(d.LM,null,a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"four",blockend:"three"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(Ao,{isFullWidth:!1,onClick:function(){n&&n("menu")},data:i,size:P.E.MEDIUM})))))))};cc.displayName="EGDSBasicTravelerSelector",cc.fragment=Ce(Te({},oc),{__typename:"EGDSBasicTravelerSelector"});var sc,dc=(0,u.J1)(Wt()),uc=(he(sc={},"EXTERNAL","_blank"),he(sc,"INTERNAL","_self"),sc),mc=function(e){var t=e.data,n=t.action,r=n.analytics,l=n.resource,i=n.target,o=n.accessibility,c=t.text,s=t.icon,d=t.iconPosition,u=e.inline,m=void 0===u||u,p=(0,g.KY)(),y=a.useCallback((function(){p(r.referrerId,r.linkName)}),[p,r]);return a.createElement(O.E,{onClickCapture:y,inline:m},a.createElement("a",{target:uc[i],href:l.value},s&&"TRAILING"!==d&&a.createElement(v.a,{name:s.id}),c,s&&"TRAILING"===d&&a.createElement(v.a,{name:s.id}),o&&a.createElement(F.c,{className:"is-visually-hidden"},o)))};mc.fragment=dc,mc.displayName="EGDSStandardLink";var pc=(0,u.J1)(Ut(),mc.fragment),yc=function(e){var t,n=e.data,r=Bo(),i=r.state,o=r.dispatch,c=i.rooms.reduce((function(e,t){var n,a,r;return e+(null!==(r=null===(a=t.infants)||void 0===a||null===(n=a.count)||void 0===n?void 0:n.value)&&void 0!==r?r:0)}),0),s=null===(t=i.infantSeatSelection)||void 0===t?void 0:t.value;if("EGDSCardinalLocalizedText"!==n.labelTemplate.__typename||0===c||!s)return null;var d=n.labelTemplate,u=n.options,m=n.airlineAgeRule,p=n.groupName,y=1===c?d.text:d.templates[1].template;return a.createElement(l.b,{padding:{blockstart:"twelve"}},a.createElement(b.i,{direction:"column"},a.createElement(b.j,null,a.createElement(F.c,null,y)),a.createElement(b.j,null,a.createElement(oe.a,{group:p,selected:s,onChange:function(e){o({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},u.map((function(e,t){return a.createElement(l.b,{key:"radioInfant".concat(t+1),margin:0===t?{blockstart:"three"}:void 0},a.createElement("div",null,a.createElement(oe.E,{id:e.value,value:e.value},e.label)))})))),a.createElement(b.j,null,a.createElement(l.b,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null,a.createElement(mc,{data:m}))))))};yc.displayName="EGDSTravelerInfantSeatSelect",yc.fragment=Ce(Te({},pc),{__typename:"EGDSTravelerInfantSeatSelection"});var _c=(0,u.J1)(Ht(),tc.fragment,ac.fragment,Fo.fragment),vc=function(e){var t,n=e.roomIndex,r=e.childAgeRef,i=e.data,o=e.isTravelersExpanded,c=e.focusAddRoomButton,s=i.adults,d=i.children,u=i.infants,m=i.label,p=i.removeRoomButton,y=i.removeRoomAnnouncement,_=Bo(),v=_.state,S=_.dispatch,g=a.useRef(),E=a.useRef(v.rooms.length);a.useEffect((function(){var e;o&&0===n&&(null===(e=g.current)||void 0===e||e.focus())}),[o]),a.useEffect((function(){var e;o&&v.rooms.length>=E.current&&n===v.rooms.length-1&&(null===(e=g.current)||void 0===e||e.focus());E.current=v.rooms.length}),[v.rooms.length]);var f="EGDSTravelerChildren"===d.__typename&&(null===(t=d.ages)||void 0===t?void 0:t.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))),h=n+1;return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===m.__typename&&1===m.models.length&&a.createElement(F.E,{size:7,domRef:g,tabIndex:-1},Da(m.template,m.models[0].key,h.toString())),"EGDSTravelerStepInput"===s.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(tc,{travelersType:"adults",roomIndex:n,data:s}))),"EGDSTravelerChildren"===d.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ac,{travelersType:"children",roomIndex:n,childAgeRef:r,data:d}))),"EGDSTravelerInfant"===(null==u?void 0:u.__typename)&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(ac,{travelersType:"infants",roomIndex:n,childAgeRef:f?void 0:r,data:u}))),v.rooms.length>1&&p&&"UITertiaryButton"===p.__typename&&a.createElement(l.b,{padding:{blockstart:"two"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(Fo,{onClick:function(){y&&(0,k.liveAnnounce)(y,k.Level.ASSERTIVE),c&&c(),S({type:"REMOVE_ROOM",roomIndex:n})},data:p})))))};vc.displayName="EGDSTravelerSelectorRoom",vc.fragment=Ce(Te({},_c),{__typename:"EGDSTravelerSelectorRoom"});var Sc=(0,u.J1)(zt(),Ta.fragment,Ao.fragment,Fo.fragment,vc.fragment,yc.fragment),gc=function(e){var t=e.data,n=e.onSubmit,r=e.isTravelersExpanded,i=e.groupStaysLink,o=t.addAnotherRoomButton,c=t.doneButton,s=t.maxRoomCount,u=t.infantSeatSelection,m=Bo(),p=m.state,y=m.dispatch,_=a.useRef(null),v=a.useRef(null),S=p.rooms,g=p.error,E=Ae(a.useState(S),2)[1];if(a.useEffect((function(){E(S)}),[S]),S.length<1)return null;var f=function(){var e;null===(e=v.current)||void 0===e||e.focus()},h=Ce(Te({},o),{disabled:!!s&&S.length>=s}),D=S.findIndex((function(e){var t,n,a,r,l;return"EGDSTravelerChildren"===e.children.__typename&&(null===(t=e.children)||void 0===t?void 0:t.ages)&&(null===(n=e.children)||void 0===n?void 0:n.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value})))||null!==(l="EGDSTravelerInfant"===(null===(a=e.infants)||void 0===a?void 0:a.__typename)&&(null===(r=e.infants)||void 0===r?void 0:r.ages.some((function(e){return"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value}))))&&void 0!==l&&l})),T="UIPrimaryButton"===c.__typename&&a.createElement(l.b,{padding:{blockstart:"four",blockend:"three"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(Ao,{isFullWidth:!1,onClick:function(){n&&n("menu")},data:c,size:P.E.MEDIUM}))));return a.createElement(b.i,{direction:"column"},(null==g?void 0:g.displayConfirmation)&&a.createElement(Ta,{data:g.errorSummary,inputErrorRef:_,errorCount:g.errorCount}),a.createElement("section",null,S.map((function(e,t){return a.createElement(l.b,{padding:{blockstart:(null==g?void 0:g.displayConfirmation)?"two":"unset"},key:t},a.createElement("div",null,a.createElement(vc,{roomIndex:t,data:e,childAgeRef:D===t?_:void 0,isTravelersExpanded:r,focusAddRoomButton:f})))})),"UITertiaryButton"===h.__typename&&a.createElement(l.b,{padding:{small:{blockstart:"two",blockend:i?"two":"sixteen"},medium:{blockend:"unset"}}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(Fo,{onClick:function(){y({type:"ADD_ROOM"})},data:h,domRef:v})))),u&&a.createElement(yc,{data:u})),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,i&&a.createElement(l.b,{margin:{small:{blockstart:"two",blockend:"sixteen"}}},i))),a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"twelve"}},a.createElement(b.i,{alignContent:"space-around",alignItems:"center",direction:"row-reverse",justifyContent:"space-between",wrap:"nowrap",space:"medium"},a.createElement(b.j,null,T),i&&a.createElement(b.j,null,i))))))};gc.displayName="EGDSRoomsTravelerSelector",gc.fragment=Ce(Te({},Sc),{__typename:"EGDSRoomsTravelerSelector"});var Ec=function(e,t){var n=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=n(e);return a===n(t)&&("array"===a?function(){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!Ec(e[n],t[n]))return!1;return!0}():"object"===a?function(){var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var a=0;a<n.length;a+=1){var r=n[a];if(Object.prototype.hasOwnProperty.call(e,r)&&!Ec(e[r],t[r]))return!1}return!0}():"function"===a?e.toString()===t.toString():e===t)},fc=function(e,t){var n=e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"secondaryTemplates":"templates"].find((function(e){return e.category===Ma(t)}));return n?Da(n.template,e.models[0].key,t.toString()):""},hc=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=e.models,l=e.template,i=r.map((function(e,t){return"EGDSCardinalLocalizedText"===e.models.__typename?fc(e.models,n[t]):""}));return r.reduce((function(e,t,n){return Da(e,t.key,i[n])}),l)},Dc="EGDSSearchFormTravelersField-",bc="".concat(Dc,"Adult"),Tc="".concat(Dc,"ChildrenAge"),Cc="".concat(Dc,"InfantInSeatAge"),Ic="".concat(Dc,"InfantOnLapAge"),Ac="".concat(Dc,"Pets"),Oc=function(e){var t=e.ages,n=e.prefix;return a.createElement(a.Fragment,null,t.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var r,l=t+1,i="".concat(n,"-").concat(l);return a.createElement("input",{key:t,type:"hidden","data-stid":i,name:i,value:null!==(r=e.value)&&void 0!==r?r:""})}return null})))},Fc=function(e){var t,n=e.label,r=e.leftIcon,o=e.action,s=e.labelTemplate,u=e.readOnly,m=e.isAnyPetAllowed,p=e.onOpenTravelerField,y=e.onCloseTravelerField,_=o.analytics,v=o.travelerSelector,S=v.doneButton,E=(0,g.KY)(),f=qo(),h=f.dispatch,D=f.state,b=(0,i.k)().state,T=Ae((0,U.useDialog)("travelerSelectorDialog"),3),I=T[0],A=T[1],O=T[2],F=a.useRef(null),k=Ae(a.useState(!1),2),G=k[0],P=k[1],L=Ae(a.useState(D),2),N=L[0],x=L[1],M=Ae(a.useState(null!==(t=null==s?void 0:s.text)&&void 0!==t?t:""),2),B=M[0],w=M[1],W=D.error,H=(0,C.u)(v.__typename,(function(e){return e})),z=function(e){var t,n,a,r,l,i,o,c,d,u,m,p,y=(null!==(d=null===(t=e.adults)||void 0===t?void 0:t.value)&&void 0!==d?d:0)+(null!==(u=null===(a=e.children)||void 0===a||null===(n=a.count)||void 0===n?void 0:n.value)&&void 0!==u?u:0)+(null!==(m=null===(l=e.infantsInSeat)||void 0===l||null===(r=l.count)||void 0===r?void 0:r.value)&&void 0!==m?m:0)+(null!==(p=null===(o=e.infantsOnLap)||void 0===o||null===(i=o.count)||void 0===i?void 0:i.value)&&void 0!==p?p:0),_="EGDSBasicCheckBox"===(null==e||null===(c=e.pets)||void 0===c?void 0:c.__typename)&&"CHECKED"===e.pets.state;return fc(s,y,_)};if(a.useEffect((function(){var e;if(void 0!==m&&h({type:"UPDATE_PETS_FILTER",checked:m}),"EGDSBasicCheckBox"===(null===(e=N.travelers.pets)||void 0===e?void 0:e.__typename)){var t=m?"CHECKED":"UNCHECKED",n=Ce(Te({},N),{travelers:Ce(Te({},N.travelers),{pets:Ce(Te({},N.travelers.pets),{state:t})})});x(n)}}),[m]),a.useEffect((function(){w(z(D.travelers))}),[D.travelers]),a.useEffect((function(){var e,t,n,a,r,l,i,o,c,s,d,u,m,p,y;(null===(t=b.travelers)||void 0===t||null===(e=t.adultTravelerCounts)||void 0===e?void 0:e.length)&&h({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null===(a=b.travelers)||void 0===a||null===(n=a.adultTravelerCounts)||void 0===n?void 0:n.length)?null===(r=b.travelers)||void 0===r?void 0:r.adultTravelerCounts[0]:0,childTravelerCounts:(null===(i=b.travelers)||void 0===i||null===(l=i.childTravelerCounts)||void 0===l?void 0:l.length)?null===(o=b.travelers)||void 0===o?void 0:o.childTravelerCounts[0]:0,childrenAges:(null===(s=b.travelers)||void 0===s||null===(c=s.childrenAges)||void 0===c?void 0:c.length)&&(null===(d=b.travelers)||void 0===d?void 0:d.childrenAges[0].length)?null===(u=b.travelers)||void 0===u?void 0:u.childrenAges[0]:[],petCounts:(null===(p=b.travelers)||void 0===p||null===(m=p.petCounts)||void 0===m?void 0:m.length)?null===(y=b.travelers)||void 0===y?void 0:y.petCounts[0]:0})}),[b.travelers]),"EGDSBasicTravelerSelector"!==v.__typename)return null;var Y,q,j=function(){p&&p(),P((function(e){return!e})),_.referrerId&&_.linkName&&E(_.referrerId,_.linkName)},$=(Y=Se((function(){return Pe(this,(function(e){switch(e.label){case 0:return D.error?[4,h({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),P(!0),e.label=2;case 2:return D.error||Ec(N,D)||(x(D),rr("submit",H)),[2]}}))})),function(){return Y.apply(this,arguments)}),K=function(e){var t=z(e);rr(t,H),w(t)},Q=function(e){var t;Ec(N,e)||(K(e.travelers),x(e)),null===(t=F.current)||void 0===t||t.focus(),A.closeDialog()},J=function(e){var t,n,a;if(W&&"CHILD_AGE_REQUIRED"===W.type&&(h({type:"SHOW_ERROR"}),null===(t=W.errorSummary)||void 0===t?void 0:t.impressionAnalytics)){var r="".concat(W.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=W.errorSummary.impressionAnalytics.linkName||"";E(r,l)}W||("menu"===e?(Ec(N,n=D)||(K(n.travelers),x(n)),P((function(e){return!e})),null===(a=F.current)||void 0===a||a.focus()):Q(D))},X=D.travelers,Z=X.adults,ee=X.children,te=X.pets,ne=X.infantsInSeat,ae=X.infantsOnLap,re="EGDSBasicCheckBox"===(null==te?void 0:te.__typename);return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.zQ,null,a.createElement(ce.E,{isOpen:G,onTriggerClick:j,onDismiss:$},a.createElement(ce.b,null,a.createElement(R.g,{label:n,value:B,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:F,className:"open-traveler-picker-observer-root"})),a.createElement(ce.c,{autoPosition:!0,maxHeight:4e3,position:ce.P.RIGHT,width:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(cc,{onSubmit:J,data:v,isTravelersExpanded:G})))))),a.createElement(d.rw,null,a.createElement(ce.E,{isOpen:G,onTriggerClick:j,onDismiss:$},a.createElement(ce.b,null,a.createElement(R.g,{label:n,value:B,icon:r,"data-stid":"open-room-picker",disabled:u,domRef:F,className:"open-traveler-picker-observer-root"})),a.createElement(ce.c,{autoPosition:!0,maxHeight:4e3,position:ce.P.LEFT,width:re?275:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(cc,{onSubmit:J,data:v,isTravelersExpanded:G})))))),a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(R.g,{label:n,value:B,onClick:function(){p&&p(),A.openDialog(),_.referrerId&&_.linkName&&E(_.referrerId,_.linkName)},icon:r,"data-stid":"open-room-picker",disabled:u,domRef:F}),a.createElement(V.h,{isVisible:I},a.createElement(O,null,a.createElement(V.e,{type:"full",triggerRef:F,isVisible:I,returnFocusOnClose:!0},a.createElement(c.b,{toolbarTitle:v.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&null!==(q=v.closeButton.accessibility)&&void 0!==q?q:"",onClick:function(){if(y&&y(d.OB.SMALL),("UIPrimaryButton"===v.closeButton.__typename||"UITertiaryButton"===v.closeButton.__typename)&&v.closeButton.analytics){var e=v.closeButton.analytics,t=e.referrerId,n=e.linkName;E(t,W?n:"Travelers results updated")}var a;if(W&&"CHILD_AGE_REQUIRED"===W.type&&(h({type:"SHOW_ERROR"}),null===(a=W.errorSummary)||void 0===a?void 0:a.impressionAnalytics)){var r="".concat(W.errorSummary.impressionAnalytics.referrerId,".For.NoChildAgeSubmit"),l=W.errorSummary.impressionAnalytics.linkName||"";E(r,l)}W||Q(D)}}}),a.createElement(V.f,{padded:!1},a.createElement(l.b,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},a.createElement("div",null,a.createElement(C.E,{hasRequiredFieldIndicator:!0},a.createElement(cc,{data:v,isTravelersExpanded:I}))))),"UIPrimaryButton"===S.__typename&&a.createElement(Ao,{floating:!0,onClick:J,data:S}))))))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":"".concat(bc),name:"".concat(bc),value:Z.value}),"EGDSTravelerChildren"===(null==ee?void 0:ee.__typename)&&ee.ages&&a.createElement(Oc,{ages:ee.ages,prefix:Tc}),"EGDSBasicTraveler"===(null==ee?void 0:ee.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Tc),name:"".concat(Tc),value:ee.count.value}),"EGDSTravelerInfant"===(null==ne?void 0:ne.__typename)&&ne.ages&&a.createElement(Oc,{ages:ne.ages,prefix:Cc}),"EGDSBasicTraveler"===(null==ne?void 0:ne.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Cc),name:"".concat(Cc),value:ne.count.value}),"EGDSTravelerInfant"===(null==ae?void 0:ae.__typename)&&ae.ages&&a.createElement(Oc,{ages:ae.ages,prefix:Ic}),"EGDSBasicTraveler"===(null==ae?void 0:ae.__typename)&&a.createElement("input",{type:"hidden","data-stid":"".concat(Ic),name:"".concat(Ic),value:ae.count.value}),re&&a.createElement("input",{type:"hidden",name:"".concat(Ac),value:te.state})))},kc="EGDSSearchFormTravelersField",Rc="".concat(kc,"-Adult"),Gc="".concat(kc,"-ChildrenAge"),Pc="".concat(kc,"-InfantInSeatAge"),Lc="".concat(kc,"-InfantOnLapAge"),Nc=function(e){var t,n=e.label,o=e.leftIcon,s=e.action,u=e.labelTemplate,m=e.readOnly,p=e.onOpenTravelerField,y=e.groupStayslink,_=s.accessibility,v=s.analytics,S=s.travelerSelector,E=S.doneButton,f=null!=_?_:"",h=(0,N.useExperiment)("Group_Stays_Entry_Point_in_Search_Form_Desktop_BEXG"),D=h.exposure,b=h.logExperiment,T=(0,g.KY)(),I=Bo(),A=I.dispatch,O=I.state,F=(0,i.k)().state,k=O.error,G=Ae((0,U.useDialog)("travelerSelectorDialog"),3),P=G[0],L=G[1],x=G[2],M=a.useRef(null),B=Ae(a.useState(!1),2),w=B[0],W=B[1],H=Ae(a.useState(O),2),z=H[0],Y=H[1],q=Ae(a.useState(null!==(t=null==u?void 0:u.text)&&void 0!==t?t:""),2),j=q[0],$=q[1],K=(0,C.u)(S.__typename,(function(e){return e})),Q=function(e){var t=e.reduce((function(e,t){var n,a,r,l,i,o,c,s;return e+(null!==(o=null===(n=t.adults)||void 0===n?void 0:n.value)&&void 0!==o?o:0)+(null!==(c=null===(r=t.children)||void 0===r||null===(a=r.count)||void 0===a?void 0:a.value)&&void 0!==c?c:0)+(null!==(s=null===(i=t.infants)||void 0===i||null===(l=i.count)||void 0===l?void 0:l.value)&&void 0!==s?s:0)}),0);return hc(u,e.length,t)};if(a.useEffect((function(){$(Q(O.rooms)),"EGDSRoomsTravelerSelector"===s.travelerSelector.__typename&&s.travelerSelector.rooms[0].infants!==z.rooms[0].infants&&(A({type:"RESET_ROOMS",state:Ce(Te({},O),{rooms:Fe(s.travelerSelector.rooms)})}),Y(Ce(Te({},O),{rooms:Fe(s.travelerSelector.rooms)})),$(Q(Fe(s.travelerSelector.rooms))))}),[s.travelerSelector]),a.useEffect((function(){$(Q(O.rooms))}),[O.rooms]),a.useEffect((function(){var e,t,n,a,r,l,i,o;"EGDSOpenTravelerSelectorAction"===(null==s?void 0:s.__typename)&&"EGDSRoomsTravelerSelector"===(null==s?void 0:s.travelerSelector.__typename)&&(null==F||null===(t=F.travelers)||void 0===t||null===(e=t.adultTravelerCounts)||void 0===e?void 0:e.length)&&A({type:"UPDATE_TRAVELERS_BULK",state:z,adultTravelerCounts:null!==(l=null==F||null===(n=F.travelers)||void 0===n?void 0:n.adultTravelerCounts)&&void 0!==l?l:[0],childTravelerCounts:null!==(i=null==F||null===(a=F.travelers)||void 0===a?void 0:a.childTravelerCounts)&&void 0!==i?i:[0],childrenAges:null!==(o=null==F||null===(r=F.travelers)||void 0===r?void 0:r.childrenAges)&&void 0!==o?o:[[]]})}),[F.travelers]),"EGDSRoomsTravelerSelector"!==S.__typename)return null;var J,X,Z,ee=function(){var e=!w;W(e),p&&p(),e&&y&&b(D),T(v.referrerId,v.linkName)},te=(J=Se((function(){return Pe(this,(function(e){switch(e.label){case 0:return O.error?[4,A({type:"SHOW_ERROR"})]:[3,2];case 1:e.sent(),W(!0),e.label=2;case 2:return O.error||Ec(z,O)||(Y(O),rr("submit",K)),$(Q(O.rooms)),[2]}}))})),function(){return J.apply(this,arguments)}),ne=function(e){var t=Q(e);rr(t,K),$(t)},ae=function(e){var t;Ec(z,e)||(ne(e.rooms),Y(e)),null===(t=M.current)||void 0===t||t.focus(),L.closeDialog()},re=function(e){k&&"CHILD_AGE_REQUIRED"===k.type&&(e&&e.preventDefault(),A({type:"SHOW_ERROR"}))},le=function(e){var t,n;re(),k||("menu"===e?(Ec(z,t=O)||(ne(t.rooms),Y(t)),W((function(e){return!e})),null===(n=M.current)||void 0===n||n.focus()):ae(O))},ie=function(e){var t=D.bucket;if(!y||t<1)return null;var n=y.action.resource.value;try{var l=new URL(n),i=l.searchParams,o=i.get("kw")||"";i.set("kw","".concat(o,"v").concat(t,"_").concat(e));var c=l.toString(),s=Ce(Te({},y),{action:Ce(Te({},y.action),{resource:Ce(Te({},y.action.resource),{value:c}),target:"EXTERNAL"})}),d=a.createElement("div",null,a.createElement(mc,{data:s,inline:!1}));return 2===t?a.createElement(r.i,{backgroundTheme:"secondary",padded:!0},d):d}catch(u){return null}};return a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.zQ,null,a.createElement(ce.E,{isOpen:w,onTriggerClick:ee,onDismiss:te},a.createElement(ce.b,null,a.createElement(R.g,{label:n,"aria-roledescription":f,value:j,icon:o,"data-stid":"open-room-picker",disabled:m,domRef:M,className:"open-room-picker-observer-root"})),a.createElement(ce.c,{maxHeight:700,autoPosition:!0,position:ce.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(gc,{onSubmit:le,data:S,isTravelersExpanded:w,groupStaysLink:ie("desktop")})))))),a.createElement(d.rw,null,a.createElement(ce.E,{isOpen:w,onTriggerClick:ee,onDismiss:te},a.createElement(ce.b,null,a.createElement(R.g,{label:n,"aria-roledescription":f,value:j,icon:o,"data-stid":"open-room-picker",disabled:m,domRef:M,className:"open-room-picker-observer-root"})),a.createElement(ce.c,{maxHeight:4e3,autoPosition:!0,position:ce.P.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(l.b,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(gc,{onSubmit:le,data:S,isTravelersExpanded:w,groupStaysLink:ie("desktop")})))))),a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(R.g,{label:n,"aria-roledescription":f,value:j,onClick:function(){L.openDialog(),T(v.referrerId,v.linkName),p&&p(d.OB.SMALL),y&&b(D)},icon:o,"data-stid":"open-room-picker",disabled:m,domRef:M}),a.createElement(V.h,{isVisible:P},a.createElement(x,null,a.createElement(V.e,{isVisible:P,returnFocusOnClose:!0,type:"full",triggerRef:M},a.createElement(c.b,{toolbarTitle:S.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===S.closeButton.__typename||"UITertiaryButton"===S.closeButton.__typename)&&null!==(X=S.closeButton.accessibility)&&void 0!==X?X:"",onClick:function(){if(("UIPrimaryButton"===S.closeButton.__typename||"UITertiaryButton"===S.closeButton.__typename)&&S.closeButton.analytics){var e=S.closeButton.analytics,t=e.referrerId,n=e.linkName;k||T(t,n)}re(),k||ae(O)}}}),a.createElement(V.f,null,a.createElement(C.E,{hasRequiredFieldIndicator:!0},a.createElement(gc,{data:S,isTravelersExpanded:P,groupStaysLink:ie("mWeb")}))),(Z=!0,"UIPrimaryButton"===E.__typename&&a.createElement(Ao,{onClick:le,data:E,floating:Z})))))))),O.rooms.map((function(e,t){var n,r,l=e.adults,i=e.children,o=e.infants,c=t+1;return a.createElement(a.Fragment,{key:t},a.createElement("input",{type:"hidden","data-stid":"".concat(Rc,"-").concat(c),name:"".concat(Rc,"-Room").concat(c),value:l.value}),"EGDSTravelerChildren"===i.__typename&&(null===(n=i.ages)||void 0===n?void 0:n.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var n,r=t+1,l="".concat(Gc,"-Room").concat(c,"-Child").concat(r);return a.createElement("input",{key:t,type:"hidden","data-stid":l,name:l,value:null!==(n=e.value)&&void 0!==n?n:""})}return null}))),"EGDSTravelerInfant"===(null==o?void 0:o.__typename)&&(null===(r=o.ages)||void 0===r?void 0:r.map((function(e,t){if("EGDSTravelerChildAgeSelect"===e.__typename){var n,r,l=t+1,i="seat"===(null===(n=O.infantSeatSelection)||void 0===n?void 0:n.value)?Pc:Lc,o="".concat(i,"-Room").concat(c,"-Infant").concat(l);return a.createElement("input",{key:t,type:"hidden","data-stid":o,name:o,value:null!==(r=e.value)&&void 0!==r?r:""})}return null}))))})))},xc=(0,u.J1)(Vt(),cc.fragment,gc.fragment),Mc=function(e){var t=e.data,n=e.skipQuery,r=e.isAnyPetAllowed,l=e.onOpenTravelerField,i=e.onCloseTravelerField,o=e.maxBookableTravelers,c=e.maxTravelersErrorMessage,s=e.groupStaysLink,d=Ae(a.useState(t),2),u=d[0],m=d[1];a.useEffect((function(){var e;if("EGDSOpenTravelerSelectorAction"!==(null===(e=t.action)||void 0===e?void 0:e.__typename))m(t);else{var n,a,r=null!==(a=null===(n=t.action.travelerSelector.validations)||void 0===n?void 0:n.map((function(e){return"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&o?Ce(Te({},e),{maxCount:o,errorMessage:null!=c?c:""}):e})))&&void 0!==a?a:null;m(Ce(Te({},t),{action:Ce(Te({},t.action),{travelerSelector:Ce(Te({},t.action.travelerSelector),{validations:r})})}))}}),[t,o,c]);var p=u.action,y=u.label,_=u.labelTemplate,v=u.leftIcon,S=u.readOnly;if("EGDSOpenTravelerSelectorAction"!==(null==p?void 0:p.__typename))return null;switch(p.travelerSelector.__typename){case"EGDSBasicTravelerSelector":var g,E=p.travelerSelector,f=E.travelers,h=E.validations,D=function(e,t){return(null==e?void 0:e.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?Ce(Te({},e),{pets:Ce(Te({},e.pets),{state:t?"CHECKED":"UNCHECKED"})}):e}(f,null!=r?r:"EGDSBasicCheckBox"===(null==f||null===(g=f.pets)||void 0===g?void 0:g.__typename)&&"CHECKED"===f.pets.state);return D&&"EGDSCardinalLocalizedText"===(null==_?void 0:_.__typename)?a.createElement(Yo,Ce(Te({},{travelers:D,validations:h}),{skipQuery:n}),a.createElement(Fc,{label:null!=y?y:"",leftIcon:null==v?void 0:v.id,action:p,labelTemplate:_,readOnly:S,isAnyPetAllowed:r,onOpenTravelerField:l,onCloseTravelerField:i})):null;case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==_?void 0:_.__typename)?a.createElement(Mo,Ce(Te({},p.travelerSelector),{infantSeatSelection:p.travelerSelector.infantSeatSelection,rooms:p.travelerSelector.rooms,validations:p.travelerSelector.validations,skipQuery:n}),a.createElement(Nc,{label:null!=y?y:"",leftIcon:null==v?void 0:v.id,action:p,labelTemplate:_,readOnly:S,onOpenTravelerField:l,groupStayslink:s})):null;default:return null}};Mc.displayName="EGDSSearchFormTravelersField",Mc.fragment=xc;var Bc=(0,u.J1)(Yt(),Fo.fragment),wc=function(e){var t=e.isSticky,n=e.children;return t?a.createElement(Mn,null,n):a.createElement("div",null,n)},Wc=function(e){var t=e.data,n=e.children,l=e.stickyPlayback,i=e.display,o=e.onDisplayToggle,c=t.primary,s=t.secondaries,d=t.showAction,u=t.closeButton,m=(0,g.KY)();if("EGDSShowSearchFormAction"!==d.__typename||u&&"UITertiaryButton"!==u.__typename)return null;var p,y=d.accessibility,_=d.analytics,S=d.icon,E=v.E[null!==(p=S.size)&&void 0!==p?p:"SMALL"];return a.createElement(wc,{isSticky:l},i&&a.createElement(r.i,{border:!0,padded:!0},a.createElement(h.E,{space:"three",columns:[(0,h.e)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(h.a,null,a.createElement("div",null,a.createElement(F.E,{size:6,tag:"h2",overflow:"truncate"},c.text),a.createElement(h.E,{columns:[(0,h.R)(s.length,"max-content")],space:"six"},s.map((function(e,t){return e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?a.createElement(h.a,{key:"secondary-".concat(t)},a.createElement(F.c,{size:200,overflow:"truncate","aria-label":"EGDSBasicLocalizedText"===e.__typename?e.accessibilityTemplate:e.accessibilityText},a.createElement("span",{"aria-hidden":"true"},e.text))):a.createElement(h.a,{key:"secondary-".concat(t)},a.createElement(F.c,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:""))}))))),a.createElement(h.a,null,a.createElement(v.a,{id:S.id,name:S.id,size:E}))),a.createElement(r.q,null,a.createElement("button",{type:"button",onClick:function(){o(!1),m(_.referrerId,_.linkName)},"aria-label":y}))),a.createElement(b.i,{space:"three",direction:"column","aria-hidden":i,className:i?"is-visually-hidden is-hidden":""},n,u&&a.createElement(Fo,{onClick:function(){o(!0);var e=null==u?void 0:u.analytics;if(e){var t=e.referrerId,n=e.linkName;m(t,n)}},isFullWidth:!0,size:P.E.MEDIUM,data:u})))};Wc.fragment=Bc,Wc.displayName="EGDSSearchPlayback";var Uc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e&&e.includes("-")?new Date("".concat(e,"T00:00:00")):new Date(new Date(e).setDate(new Date(e).getDate()+t))},Hc=function(e,t){return e.fieldsWithErrors.find((function(e){return e.__typename===t}))},zc=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t={"origin_select-input":"".concat(e,"Origin"),"destination_select-input":"".concat(e,"Destination"),"pick_up_location-input":"".concat(e,"PickUp"),"drop_off_location-input":"".concat(e,"DropOff"),"airport_location-input":"".concat(e,"Airport"),"hotel_location-input":"".concat(e,"Hotel"),"partial_date-input":"".concat(e,"PartialStay")}[n])&&void 0!==t?t:e},Vc=function(e,t){var n,a=null!==(n=e.value)&&void 0!==n?n:"",r=""===a;if(t&&!r){var l=t.value===a;return{__typename:zc("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!l,validations:{sameLocationSelected:l}}}return{__typename:zc("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!r}},Yc=function(e,t,n,a){var r,l,i=Uc(null!==(r=null==e?void 0:e.value)&&void 0!==r?r:""),o=Uc(null!==(l=null==t?void 0:t.value)&&void 0!==l?l:""),c=0!==n.maxNumberOfDaysSelected&&o>=Uc(i,n.maxNumberOfDaysSelected),s=i===o,d=o<i,u=!c&&!s&&!d;return{__typename:zc("EGDSSearchFormDatePickerField",null!=a?a:null==e?void 0:e.id),isValid:u,validations:{maxDate:c,sameDate:s,endDateBeforeStartDate:d}}},qc=function(e){var t=parseInt(e.substr(0,2),10),n=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==t&&(t+=12),e.includes("AM")&&12===t&&(t-=12),{hours:t,minutes:n}},jc=function(e){if(!e||void 0===e.totalTravelers)return{__typename:"EGDSSearchFormTravelersField",isValid:!0};var t=e.totalTravelers<=e.config.maxTotalTravelers;return{__typename:"EGDSSearchFormTravelersField",isValid:t,validations:{maxTotalTravelers:!t}}},$c=function(e){var t,n,a,r,l,i,o,c,s,d,u,m,p,y,_,v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=e.location,g=e.dates,E=e.age,f=e.time,h=e.travelers,D=g.startDateInput,b=g.endDateInput,T=g.partialStayStartDateInput,C=g.partialStayEndDateInput,I=g.softPackagesStartDateInput,A=g.softPackageEndDateInput,O=g.config,F=S.origin?[Vc(S.origin,v&&null!==(t=S.destination)&&void 0!==t?t:null),Yc(D,b,O)]:[Yc(D,b,O)];if(S.destination&&F.push(function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null!==(n=t.value)&&void 0!==n?n:"",l=""===r,i=!l,o=!1;return a||(o=!!e&&!l&&e.value===r,i=!l&&!o),{__typename:zc("EGDSSearchFormLocationField",null==t?void 0:t.id),isValid:i,validations:{sameLocationSelected:o}}}(S.origin,S.destination,v)),E&&F.push(function(e){var t,n=e||{},a=n.ageInput,r=n.config,l=null!==(t=a.value)&&void 0!==t?t:"",i=""===l,o=parseInt(l,10),c=!(o&&(null==r?void 0:r.min)&&(null==r?void 0:r.max))||o>=(null==r?void 0:r.min)&&o<=(null==r?void 0:r.max),s=!i&&c;return{__typename:zc("EGDSNumberInputField",null==a?void 0:a.id),isValid:s,validations:{ageRange:!i&&!c}}}(E)),f){var k,R,G=Uc(null!==(R=g.startDateInput.value)&&void 0!==R?R:""),P=null==f||null===(k=f.pickup)||void 0===k?void 0:k.value;F.push(function(e,t){var n=new Date;if(n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){var a=qc(e),r=new Date;return r.setHours(a.hours,a.minutes),{__typename:"EGDSBasicSelectPickUp",isValid:n<r}}return{__typename:"EGDSBasicSelectPickUp",isValid:!0}}(P,G),function(e,t,n){var a,r,l=n.startDateInput,i=n.endDateInput,o=Uc(null!==(a=null==l?void 0:l.value)&&void 0!==a?a:""),c=Uc(null!==(r=null==i?void 0:i.value)&&void 0!==r?r:""),s=null==e?void 0:e.value,d=null==t?void 0:t.value;if(!s||!d)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};var u=qc(s);o.setHours(u.hours,u.minutes);var m=qc(d);c.setHours(m.hours,m.minutes);var p=c>o;return o.setTime(o.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:p&&c>=o}}(f.pickup,f.dropOff,g))}if(C&&T){var L=Yc(T,C,O,"partial_date-input"),N=(a={startDate:D,endDate:b},m=Uc(null!==(c=null===(r=(n={startDate:T,endDate:C}).startDate)||void 0===r?void 0:r.value)&&void 0!==c?c:""),p=Uc(null!==(s=null===(l=n.endDate)||void 0===l?void 0:l.value)&&void 0!==s?s:""),y=Uc(null!==(d=null===(i=a.startDate)||void 0===i?void 0:i.value)&&void 0!==d?d:""),_=Uc(null!==(u=null===(o=a.endDate)||void 0===o?void 0:o.value)&&void 0!==u?u:""),m<y||p>_);F.push(Ce(Te({},L),{isValid:L.isValid&&!N,validations:Ce(Te({},L.validations),{dateOutsideTripRange:N})}))}if(I&&A){var x,M,B=Uc(null!==(x=null==I?void 0:I.value)&&void 0!==x?x:"")<Uc(null!==(M=null==D?void 0:D.value)&&void 0!==M?M:"");F.push({__typename:zc("EGDSSearchFormDatePickerFieldSoftPackages","soft_packages_date_form_field"),isValid:!B,validations:{dateOutsideTripRange:B}})}return h&&F.push(jc(h)),F.filter((function(e){return!e.isValid}))},Kc=function(e){var t,n=e.location,a=e.dates,r=e.travelers,l=a.startDateInput,i=a.endDateInput,o=a.config,c=[];n.origin&&n.origin.map((function(e,t){return{__typename:"".concat(zc("EGDSSearchFormLocationField",null==e?void 0:e.id),"-leg").concat(t),isValid:""!==(null==e?void 0:e.value)}})).forEach((function(e){return c.push(e)}));n.destination&&(null===(t=n.origin)||void 0===t||t.forEach((function(e,t){var a,r=null===(a=n.destination)||void 0===a?void 0:a[t];c.push(function(e,t,n){var a,r=null!==(a=t.value)&&void 0!==a?a:"",l=""===r,i=!!e&&!l&&e.value===r,o=!l&&!i;return{__typename:"".concat(zc("EGDSSearchFormLocationField",null==t?void 0:t.id),"-leg").concat(n),isValid:o,validations:{sameLocationSelected:i}}}(e,r,t))})));return a&&c.push(Yc(l,i,o)),r&&c.push(jc(r)),c.filter((function(e){return!e.isValid}))},Qc=function(e){return function(t){return t.getAttribute("name")===e}},Jc=function(e){return e.reduce((function(e,t){return function(e){return be(e,HTMLInputElement)&&(/^null-\d+$/.test(e.id)||e.id.includes("traveler_selector_"))}(t)?e+(n=parseFloat(t.value),Number.isNaN(n)?0:n):e;var n}),0)},Xc=function(e){return e.AIRPORT="airport_location",e.HOTEL="hotel_location",e.SINGLE_DATE_PICKER_START_DATE="EGDSSingleDatePicker-StartDate",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e.BASIC_TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e}(Xc||{}),Zc=function(e){var t=e.day,n=e.month,a=e.year,r=t<10?"0".concat(t):t,l=n<10?"0".concat(n):n;return"".concat(a,"-").concat(l,"-").concat(r)},es=function(e){var t=e.hour,n=e.minute;return"".concat(t<10?"0":"").concat(t,":").concat(n<10?"0":"").concat(n)},ts=function(e){var t,n,a;if(!e)return{};var r=e[0];return"AIRPORT"===(null==r||null===(t=r.destination)||void 0===t?void 0:t.type)?(a=null==r?void 0:r.destination,n=null==r?void 0:r.origin):(a=null==r?void 0:r.origin,n=null==r?void 0:r.destination),{airport:a,hotel:n}},ns="hotel_location",as="airport_location",rs=function(e,t,n,a,r,l){var i,o,c,s,d=Fe(e);return d[t]=Ce(Te({},null!==(o=d[t])&&void 0!==o?o:{}),he({},n,Ce(Te({},null!==(c=null===(i=d[t])||void 0===i?void 0:i[n])&&void 0!==c?c:{}),(he(s={},a,r),he(s,"type",l),s)))),d},ls=function(e,t){var n,a=t.name,r=t.value,l=e.primarySearchCriteria,i=(e.secondaryCriteria,null!==(n=l.groundTransportation)&&void 0!==n?n:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:"FROM_AIRPORT",travelerDetails:[],journeyCriteria:[]});if(a.startsWith(no)&&a.includes(as)){var o=function(e,t){var n,a,r=Fe(null!==(n=null==e?void 0:e.locations)&&void 0!==n?n:[]);r[0]=Ce(Te({},r[0]),{id:t});var l=Fe(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin";return l=rs(l,0,i,"id",t,"AIRPORT"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(l=rs(l,1,"destination","id",t,"AIRPORT")),Ce(Te({},e),{locations:r,journeyCriteria:l})}(i,r);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:o})})}if(a.startsWith(to)&&a.includes(as))return Ce(Te({},e),{regionId:r});if(a.startsWith(lo)&&a.includes(ns)){var c=function(e,t){var n,a,r=Fe(null!==(n=null==e?void 0:e.locations)&&void 0!==n?n:[]);r[1]=Ce(Te({},r[1]),{id:t});var l=Fe(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]),i="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination";return l=rs(l,0,i,"id",t,"PROPERTY"),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(l=rs(l,1,"origin","id",t,"PROPERTY")),Ce(Te({},e),{locations:r,journeyCriteria:l})}(i,r);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:c})})}if(a.startsWith(eo)&&(a.includes(as)||a.includes(ns))){var s=function(e,t,n){var a,r,l,i,o,c=Fe(null!==(a=null==e?void 0:e.locations)&&void 0!==a?a:[]),s=Fe(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]);return n.includes(as)&&(c[0]=Ce(Te({},c[0]),{name:t}),l="TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",i="destination",o="AIRPORT"),n.includes(ns)&&(c[1]=Ce(Te({},c[1]),{name:t}),l="TO_AIRPORT"===(null==e?void 0:e.direction)?"origin":"destination",i="origin",o="PROPERTY"),l&&i&&o&&c&&(s=rs(s,0,l,"name",t,o),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(s=rs(s,1,i,"name",t,o))),Ce(Te({},e),{locations:c,journeyCriteria:s})}(i,r,a);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:s})})}if(a.startsWith(ao)||a.startsWith(ro)){var d=function(e,t,n){var a,r,l,i,o,c,s,d,u,m,p,y=n.includes(ns),_=y?1:0,v=n.startsWith("".concat(ao)),S=Fe(null!==(d=null==e?void 0:e.locations)&&void 0!==d?d:[]),g=v?Number(t):null!==(u=null===(r=S[_])||void 0===r||null===(a=r.coordinates)||void 0===a?void 0:a.latitude)&&void 0!==u?u:200,E=v?null!==(m=null===(i=S[_])||void 0===i||null===(l=i.coordinates)||void 0===l?void 0:l.longitude)&&void 0!==m?m:200:Number(t);S[_]=Ce(Te({},S[_]),{coordinates:{latitude:g,longitude:E}});var f,h,D,b,T,C,I,A,O,F=Fe(null!==(p=null==e?void 0:e.journeyCriteria)&&void 0!==p?p:[]),k=y&&"TO_AIRPORT"!==(null==e?void 0:e.direction)||!y&&"TO_AIRPORT"===(null==e?void 0:e.direction)?"destination":"origin",R="origin"===k?"destination":"origin",G="coordinates",P=v?"latitude":"longitude";return F[0]=Ce(Te({},null!==(f=F[0])&&void 0!==f?f:{}),he({},k,Ce(Te({},null!==(h=null===(o=F[0])||void 0===o?void 0:o[k])&&void 0!==h?h:{}),he({},G,Ce(Te({},null!==(D=null===(s=F[0])||void 0===s||null===(c=s[k])||void 0===c?void 0:c[G])&&void 0!==D?D:{}),he({},P,Number(t))))))),"ROUNDTRIP"===(null==e?void 0:e.direction)&&(F[1]=Ce(Te({},null!==(I=F[1])&&void 0!==I?I:{}),he({},R,Ce(Te({},null!==(A=null===(b=F[1])||void 0===b?void 0:b[R])&&void 0!==A?A:{}),he({},G,Ce(Te({},null!==(O=null===(C=F[1])||void 0===C||null===(T=C[R])||void 0===T?void 0:T[G])&&void 0!==O?O:{}),he({},P,Number(t)))))))),Ce(Te({},e),{locations:S,journeyCriteria:F})}(i,r,a);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:d})})}if(a.startsWith(Ol)){var u=function(e,t){var n,a,r=Ae(t.split("-").map((function(e){return Number(e)})),3),l=r[0],i=r[1],o=r[2],c=Te({},null==e?void 0:e.dateRange);null===c.start||void 0===c.start?c.start={day:o,month:i,year:l,hour:10,minute:30,second:0}:c.start=Ce(Te({},c.start),{day:o,month:i,year:l});var s,d,u=Fe(null!==(a=null==e?void 0:e.journeyCriteria)&&void 0!==a?a:[]);return u[0]=Ce(Te({},null!==(s=u[0])&&void 0!==s?s:{}),{dateTime:Ce(Te({},null!==(d=null===(n=u[0])||void 0===n?void 0:n.dateTime)&&void 0!==d?d:{}),{day:o,month:i,year:l})}),Ce(Te({},e),{dateRange:c,journeyCriteria:u})}(i,r);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:u})})}if(a.startsWith(Tl.START_DATE_NAME_PREFIX)||a.startsWith(Tl.END_DATE_NAME_PREFIX)){var m=function(e,t,n){var a,r,l=n.includes(Tl.START_DATE_NAME_PREFIX)?"start":"end",i=Ae(t.split("-").map((function(e){return Number(e)})),3),o=i[0],c=i[1],s=i[2],d=Te({},null==e?void 0:e.dateRange);null===d.start||void 0===d[l]?d[l]={day:s,month:c,year:o,hour:10,minute:30,second:0}:(d[l].day=s,d[l].month=c,d[l].year=o);var u,m,p=Fe(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]),y=n.includes(Tl.START_DATE_NAME_PREFIX)?0:1;return p[y]=Ce(Te({},null!==(u=p[y])&&void 0!==u?u:{}),{dateTime:Ce(Te({},null!==(m=null===(a=p[y])||void 0===a?void 0:a.dateTime)&&void 0!==m?m:{}),{day:s,month:c,year:o})}),Ce(Te({},e),{dateRange:d,journeyCriteria:p})}(i,r,a);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:m})})}if(a.startsWith(Ca)&&a.includes("time")){var p=function(e,t,n){var a,r,l=n.includes("pick_up_time"),i=l?"start":"end",o="AM"===t.substring(4,6),c=Number(t.substring(0,2)),s=12===c?0:c,d=o?s:s+12,u=Number(t.substring(2,4)),m=Te({},null==e?void 0:e.dateRange);null===m[i]||void 0===m[i]?m[i]={day:1,month:1,year:1,hour:d,minute:u,second:0}:(m[i].hour=d,m[i].minute=u,m[i].second=0);var p,y,_=Fe(null!==(r=null==e?void 0:e.journeyCriteria)&&void 0!==r?r:[]),v=l||"ROUNDTRIP"!==(null==e?void 0:e.direction)?0:1;return _[v]=Ce(Te({},null!==(p=_[v])&&void 0!==p?p:{}),{dateTime:Ce(Te({},null!==(y=null===(a=_[v])||void 0===a?void 0:a.dateTime)&&void 0!==y?y:{}),{hour:d,minute:u,second:0})}),Ce(Te({},e),{dateRange:m,journeyCriteria:_})}(i,r,a);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:p})})}if(a.startsWith(Dc)){var y=function(e,t,n){if(0===Number(t))return e;var a=null==e?void 0:e.travelerDetails;return n.includes("Adult")&&(a=Fe(a).concat([{type:"ADULT",count:Number(t)}])),n.includes("Children")&&(a=Fe(a).concat([{type:"CHILD",count:Number(t)}])),n.includes("Infant")&&(a=Fe(a).concat([{type:"INFANT",count:Number(t)}])),Ce(Te({},e),{travelerDetails:a})}(i,r,a);return Ce(Te({},e),{primarySearchCriteria:Ce(Te({},l),{groundTransportation:y})})}return e},is=(0,u.J1)(qt(),Kr.fragment),os=[{FROM_AIRPORT:!0,TO_AIRPORT:!1,ROUNDTRIP:!1,type:"FROM_AIRPORT",value:"Airport to hotel"},{FROM_AIRPORT:!1,TO_AIRPORT:!0,ROUNDTRIP:!1,type:"TO_AIRPORT",value:"Hotel to airport"},{FROM_AIRPORT:!1,TO_AIRPORT:!1,ROUNDTRIP:!0,type:"ROUNDTRIP",value:"Roundtrip"}],cs=function(e){var t,n,r,l,o,c,s,d,u,m,p,y,_=e.data,v=e.onTripDirectionSelection,S=_.airportToHotel,g=_.hotelToAirport,E=_.roundTrip,f=(0,i.k)(),h=f.state,D=f.dispatch,b=h.destination,T=h.origin,C=Ae(a.useState((function(){return!1===S.selected&&!0===g.selected&&!1===E.selected?os[1]:!1===S.selected&&!1===g.selected&&!0===E.selected?os[2]:os[0]})),2),I=C[0],A=C[1],O=[{name:"GroundTransportationSearchFormSelection",selected:I.FROM_AIRPORT,checked:I.FROM_AIRPORT,text:null!==(t=S.primary)&&void 0!==t?t:"",disabled:S.disabled,value:null!==(n=S.value)&&void 0!==n?n:"FROM_AIRPORT",id:null!==(r=S.value)&&void 0!==r?r:"FROM_AIRPORT",altText:null!==(l=S.accessibility)&&void 0!==l?l:void 0},{name:"GroundTransportationSearchFormSelection",selected:I.TO_AIRPORT,checked:I.TO_AIRPORT,text:null!==(o=g.primary)&&void 0!==o?o:"",disabled:g.disabled,value:null!==(c=g.value)&&void 0!==c?c:"TO_AIRPORT",id:null!==(s=g.value)&&void 0!==s?s:"TO_AIRPORT",altText:null!==(d=g.accessibility)&&void 0!==d?d:void 0},{name:"GroundTransportationSearchFormSelection",selected:I.ROUNDTRIP,checked:I.ROUNDTRIP,text:null!==(u=E.primary)&&void 0!==u?u:"",disabled:E.disabled,value:null!==(m=E.value)&&void 0!==m?m:"ROUNDTRIP",id:null!==(p=E.value)&&void 0!==p?p:"ROUNDTRIP",altText:null!==(y=E.accessibility)&&void 0!==y?y:void 0}];return a.createElement(Y.S,{data:O,handleSelectedPill:function(e){var t;v(e);var n=null!==(t=os.find((function(t){return t.type===e})))&&void 0!==t?t:os[0];if(I.type!==n.type){if("TO_AIRPORT"===I.type||"TO_AIRPORT"===n.type){var a,r,l,i,o=Ce(Te({},T),{data:null!==(a=null==T?void 0:T.data)&&void 0!==a?a:{},term:null!==(r=null==T?void 0:T.term)&&void 0!==r?r:""}),c=Ce(Te({},b),{data:null!==(l=null==b?void 0:b.data)&&void 0!==l?l:{},term:null!==(i=null==b?void 0:b.term)&&void 0!==i?i:""});D({type:"UPDATE_DESTINATION",location:o}),D({type:"UPDATE_ORIGIN",location:c})}A(n)}}})};cs.fragment=is,cs.displayName="GroundTransportationSearchFormSelection";var ss=(0,u.J1)(jt(),Ta.fragment,Pa.fragment,Wc.fragment,Co.fragment,Pl.fragment,Mc.fragment,Fa.fragment,cs.fragment,Ji),ds=function(e){var t=e.data,n=e.tripDirection,r=e.onTripDirectionSelection,i=e.onFieldChange,o=e.onSubmit,c=e.redirectToSearchResultOnSubmit,s=e.autoOpenPlayback,u=e.stickyPlayback,m=e.additionalAdapterFields,p=e.enableBffForSearchLocation,y=t.egdsElementId,_=t.actionURL,v=t.airportLocation,S=t.hotelLocation,g=t.pickupTime,E=t.dropoffTime,f=t.dates,D=t.travelers,b=t.search,T=t.errorSummary,A=t.groundTransportationSelection,O=t.playback,F=t.searchLocation,k=(0,I.useLocalization)(),R=Ae(a.useState(O),2),G=R[0],P=R[1],L=Ae(a.useState(!s),2),N=L[0],x=L[1];a.useEffect((function(){P(O)}),[O]);var M=Ae(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),2),B=M[0],w=M[1],W=Ae(a.useState(S),2),U=W[0],H=W[1];a.useEffect((function(){H(S)}),[S]);var z={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},V=Ae(a.useState(z),2),Y=V[0],q=V[1],j=null!=y?y:"search-ground-transportation-form",$=null!=_?_:"/ground-transfers/search",K={setFieldRefByTypename:a.useCallback((function(e,t){var n,a=zc(e,null===(n=t.current)||void 0===n?void 0:n.id);w((function(e){return Ce(Te({},e),he({},a,t))}))}),[])},Q=function(e,t,n,a){if(!(null==t?void 0:t.text))return e;var r=t.text.trim().replace("${origin}","").replace("${destination}",""),l=Ae(e.text.split(r),2),i=l[0],o=l[1],c=t.text.replace("${origin}",null!=n?n:i).replace("${destination}",null!=a?a:o);return Ce(Te({},e),{text:c})},J=function(e,t){i&&i(e,t),P((function(t){var n=Xc.SINGLE_DATE_PICKER_START_DATE,a=Xc.DATE_RANGE_PICKER,r=Xc.BASIC_TRAVELER_SELECTOR,l=e.name,i=e.value,o=l===n,c=l===a,s=l===r;if(!t)return null;var d=Ae(t.secondaries,2),u=d[0],m=d[1],p=u;o&&"EGDSPlainText"===u.__typename&&(p=Ce(Te({},u),{text:k.formatDateString(new Date(i),{skeleton:"MMMd"})})),c&&"EGDSPlainText"===u.__typename&&(p=Ce(Te({},u),{text:nr(i,k)}));var y=s?Ce(Te({},m),{text:i}):m;return Ce(Te({},t),{secondaries:[p,y]})}))},X=function(e){var t,a=Array.from(e.currentTarget.elements);t="TO_AIRPORT"===n?{location:{origin:a.find(Qc("airport_location")),destination:a.find(Qc("hotel_location"))},dates:{startDateInput:a.find(Qc("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0}},time:{dropOff:a.find(Qc("EGDSBasicSelect-drop_off_time")),pickup:void 0}}:"ROUNDTRIP"===n?{location:{origin:a.find(Qc("airport_location")),destination:a.find(Qc("hotel_location"))},dates:{startDateInput:a.find(Qc("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:a.find(Qc("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:0}},time:{dropOff:a.find(Qc("EGDSBasicSelect-drop_off_time")),pickup:a.find(Qc("EGDSBasicSelect-pick_up_time"))}}:{location:{origin:a.find(Qc("airport_location")),destination:a.find(Qc("hotel_location"))},dates:{startDateInput:a.find(Qc("EGDSSingleDatePicker-Date-date_form_field")),endDateInput:void 0,config:{maxNumberOfDaysSelected:0}},time:{dropOff:void 0,pickup:a.find(Qc("EGDSBasicSelect-pick_up_time"))}};var r,l=$c(t),i=l.length;if(!(0===i))return q({fieldsWithErrors:l,errorCount:i,displayErrorSummary:!0,errorLinkReference:B[null===(r=l[0])||void 0===r?void 0:r.__typename]}),void e.preventDefault();if(q(z),o||c){var s=function(e,t){var n={primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[{type:"AIRPORT"},{type:"PROPERTY"}],direction:t,travelerDetails:[],journeyCriteria:[]}},regionId:null};return e.filter((function(e){return e.name.startsWith("EGDS")||e.name.startsWith("GroundTransportation")})).reduce(ls,n)}(Array.from(e.currentTarget.elements),n);if(o&&o(e,{groundTransportationSearchCriteria:s}),c){e.preventDefault();var d=function(e){var t,n;if(null==e.primarySearchCriteria||null==e.primarySearchCriteria.groundTransportation)return"";var a,r,l=e.regionId,i=e.primarySearchCriteria.groundTransportation,o=i.travelerDetails,c=i.direction,s=i.journeyCriteria,d="direction=".concat(c,"&roundTrip=").concat("ROUNDTRIP"===c),u=ts(s),m=u.hotel,p=u.airport,y="&airportCode=".concat(null==p?void 0:p.id,"&location=").concat(encodeURIComponent(null!==(a=null==p?void 0:p.name)&&void 0!==a?a:""),"&regionId=").concat(l),_="&hotelId=".concat(null==m?void 0:m.id,"&hotelName=").concat(encodeURIComponent(null!==(r=null==m?void 0:m.name)&&void 0!==r?r:"")),v=null==s||null===(t=s[0])||void 0===t?void 0:t.dateTime,S=null==s||null===(n=s[1])||void 0===n?void 0:n.dateTime,g="&pickUpDate=".concat(v&&Zc(v),"&pickUpTime=").concat(v&&es(v)),E="ROUNDTRIP"===c?"&dropOffDate=".concat(S&&Zc(S),"&dropOffTime=").concat(S&&es(S)):"",f=o.find((function(e){return"ADULT"===e.type})),h=o.find((function(e){return"CHILD"===e.type})),D=o.find((function(e){return"INFANT"===e.type})),b=f?"&adults=".concat(f.count):"",T=h?"&children=".concat(h.count):"",C=D?"&infants=".concat(D.count):"",I="".concat(b).concat(T).concat(C);return"?".concat(d).concat(y).concat(_).concat(g).concat(E).concat(I)}(s);window.location.href="".concat(e.currentTarget.action).concat(d)}}},Z={additionalAdapterFields:m,searchLocationAnalytics:null==F?void 0:F.analytics,isExperienceAPIDriven:p},ee=v&&a.createElement("div",null,a.createElement(Co,Ce(Te({},K,Z),{onSelection:function(e){var t=null==U?void 0:U.action;if(S){var n=Ce(Te({},S),{__typename:S.__typename,action:Ce(Te({},t),{info:Ce(Te({},t.info),{regionId:e.data.regionId})})});H(n)}P((function(t){var n,a,r,l;if(!t)return null;var i=t.primary,o=t.primaryTemplate,c=null===(r=e.data)||void 0===r||null===(a=r.hierarchyInfo)||void 0===a||null===(n=a.airport)||void 0===n?void 0:n.airportCode,s=null==e||null===(l=e.data)||void 0===l?void 0:l.dest,d=Q(i,o,s?c:null,s?null:c);return Ce(Te({},t),{primary:d})}))},data:v,fieldError:Y.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldAirport"===e.__typename})),key:"field_".concat(null==v?void 0:v.__typename,"_airportLocation")}))),te=U&&a.createElement("div",null,a.createElement(Co,Ce(Te({},K,Z),{onSelection:function(e){P((function(t){if(!t)return null;var n=t.primary,a=t.primaryTemplate,r=e.data.dest,l=r?e.term:null,i=r?null:e.term,o=Q(n,a,l,i);return Ce(Te({},t),{primary:o})}))},data:U,fieldError:Y.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldHotel"===e.__typename})),key:"field_".concat(null==U?void 0:U.__typename,"_hotelLocation")}))),ne=D&&a.createElement("div",null,a.createElement(Mc,{data:D})),ae=f&&a.createElement("div",null,a.createElement(Pl,Ce(Te({},K),{data:f}))),re=g&&a.createElement("div",null,a.createElement(Fa,{data:g,fieldError:Y.fieldsWithErrors.find((function(e){return"EGDSBasicSelectPickUp"===e.__typename}))})),le=E&&a.createElement("div",null,a.createElement(Fa,{data:E,fieldError:Y.fieldsWithErrors.find((function(e){return"EGDSBasicSelectDropOff"===e.__typename}))})),ie="EGDSSearchFormButton"===(null==b?void 0:b.__typename)&&a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(Pa,{data:b}))),oe=Y.displayErrorSummary,ce=Y.errorCount,se=Y.errorLinkReference,de=oe&&T&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(Ta,{data:T,errorCount:ce,inputErrorRef:se}))),ue=A&&a.createElement(cs,Ce(Te({},e),{data:A,onTripDirectionSelection:r})),me=function(){return"TO_AIRPORT"===n?a.createElement(a.Fragment,null,ue,a.createElement(C.E,{onFieldChange:J,onSubmit:X,id:j,name:j,method:"GET",action:$,hasRequiredFieldIndicator:!0},de,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(h.E,{columns:{small:1,medium:6},space:"three"},a.createElement(h.a,{colSpan:{small:1,medium:2,large:3}},te),a.createElement(h.a,{colSpan:{small:1,medium:2,large:3}},ee),a.createElement(h.a,{colSpan:{small:1,medium:2,large:2}},ne),a.createElement(h.a,{colSpan:{small:1,medium:3,large:2}},ae),a.createElement(h.a,{colSpan:{small:1,medium:3,large:2}},le))),ie)):"ROUNDTRIP"===n?a.createElement(a.Fragment,null,ue,a.createElement(C.E,{onFieldChange:J,onSubmit:X,id:j,name:j,method:"GET",action:$,hasRequiredFieldIndicator:!0},de,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(h.E,{columns:{small:1,medium:2},space:"three"},a.createElement(h.a,null,ee),a.createElement(h.a,null,te),a.createElement(h.a,null,ne),a.createElement(h.a,null,ae),a.createElement(h.a,null,re),a.createElement(h.a,null,le))),ie)):a.createElement(a.Fragment,null,ue,a.createElement(C.E,{onFieldChange:J,onSubmit:X,id:j,name:j,method:"GET",action:$,hasRequiredFieldIndicator:!0},de,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(h.E,{columns:{small:1,medium:6,large:6},space:"three"},a.createElement(h.a,{colSpan:{small:1,medium:2,large:3}},ee),a.createElement(h.a,{colSpan:{small:1,medium:2,large:3}},te),a.createElement(h.a,{colSpan:{small:1,medium:2,large:2}},ne),a.createElement(h.a,{colSpan:{small:1,medium:3,large:2}},ae),a.createElement(h.a,{colSpan:{small:1,medium:3,large:2}},re))),ie))};return a.createElement(d.LM,null,a.createElement(d.NP,null,G?a.createElement(Wc,{data:G,stickyPlayback:u,display:N,onDisplayToggle:function(e){x(e)}},me()):me()),a.createElement(d.rw,null,me()))};ds.fragment=ss,ds.displayName="GroundTransportationSearchForm";var us={SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_GROUND_TRANSPORTATION_OPTIONS_QUERY_FAILURE")},ms={linkName:"Ground Transportation Search Form Fallback Presented",referrerId:"Web.GroundTransportation.Search.Form.Fallback.Presented"},ps={linkName:"Ground Transportation Search Form Presented",referrerId:"Web.GroundTransportation.Search.Form.Presented"},ys=(0,u.J1)($t(),ds.fragment),_s={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},vs=function(e){var t,n,r,l,i,o=e.inputs,c=e.skipSsr,s=e.batchKey,d=e.includePlayback,u=e.pageLocation,_=(0,p.R)().context,v=(0,y.useLoggerEvents)(us),S=Ae(a.useState(null!==(i=null===(n=o.groundTransportationSearchCriteria)||void 0===n||null===(t=n.primarySearchCriteria.groundTransportation)||void 0===t?void 0:t.direction)&&void 0!==i?i:"FROM_AIRPORT"),2),E=S[0],f=S[1],h=Ae(a.useState(o),2),D=h[0],b=h[1],T=function(e){Object.values(Un).includes(e)&&"FROM_AIRPORT"!==e?(f(e),b({groundTransportationSearchCriteria:{primarySearchCriteria:{groundTransportation:{dateRange:{},locations:[],journeyCriteria:[],direction:e,travelerDetails:[]}}}})):(f("FROM_AIRPORT"),b({groundTransportationSearchCriteria:null}))},C=Ce(Te({},D),{context:_,includePlayback:!!d,pageLocation:u}),I=(0,m.I)(ys,{context:{batchKey:s},variables:C,ssr:!c}),A=I.data,O=I.error;if(I.loading)return a.createElement(Zn,Te({},_s));if(O||"GroundTransportationSearchForm"!==(null==A||null===(l=A.searchForm)||void 0===l||null===(r=l.groundTransportation)||void 0===r?void 0:r.__typename)||!A.searchForm.groundTransportation.groundTransportationSelection){var F,k,R=function(e){switch(e){case"TO_AIRPORT":return fa;case"ROUNDTRIP":return ha;default:return Ea}}(E);return v.SEARCH_TOOLS_GROUND_TRANSPORTATION_SEARCH_FORM_QUERY_FAILURE.log({name:null==O?void 0:O.name,error:new Error(null==O?void 0:O.message)}),"GroundTransportationSearchForm"!==(null==R||null===(k=R.searchForm)||void 0===k||null===(F=k.groundTransportation)||void 0===F?void 0:F.__typename)?null:a.createElement(Yn,null,a.createElement(g.ee,Te({},ms),a.createElement(ds,Ce(Te({},e),{data:R.searchForm.groundTransportation,tripDirection:E,onTripDirectionSelection:T}))))}return a.createElement(g.ee,Te({},ps),a.createElement(ds,Ce(Te({},e),{data:A.searchForm.groundTransportation,tripDirection:E,onTripDirectionSelection:T})))};vs.displayName="sharedui-GroundTransportationSearchForm";var Ss=function(e){return e.PICKUP_LOCATION="airport_location",e.DROPOFF_LOCATION="hotel_location",e.PICKUP_TIME="pick_up_time",e.DROPOFF_TIME="drop_off_time",e.DATE_RANGE_PICKER="EGDSDateRangePicker",e}(Ss||{}),gs=["age"],Es=function(e,t){var n=e.day,a=e.month,r=e.year,l=n<10?"0".concat(n):n,i=a<10?"0".concat(a):a;return t.formatDateString("".concat(r,"-").concat(i,"-").concat(l),{raw:t.localDateFormat})},fs=function(e){var t=e.day,n=e.month,a=e.year;return"".concat(a,"-").concat(n,"-").concat(t)},hs=function(e){var t=e.hour,n=e.minute,a=t<12?"AM":"PM",r=t%12||12;return"".concat(r<10?"0":"").concat(r).concat(n<10?"0":"").concat(n).concat(a)},Ds=function(e){return e.toString().padStart(2,"0")},bs=function(e){var t=e.year,n=e.month,a=e.day;return"".concat(t,"-").concat(Ds(n),"-").concat(Ds(a))},Ts=function(e){var t=e.year,n=e.month,a=e.day,r=e.hour,l=e.minute;return"".concat(t,"-").concat(Ds(n),"-").concat(Ds(a),"T").concat(Ds(r),":").concat(Ds(l))},Cs=function(e,t,n,a){var r,l,i,o,c,s,d,u,m,p=t.primary,y=p.pickUpLocation,_=p.pickUpDateTime,v=p.dropOffLocation,S=p.dropOffDateTime,g={param:n,value:null!==(o=y.searchTerm)&&void 0!==o?o:""},E={param:"pickupIATACode",value:null!==(c=y.airportCode)&&void 0!==c?c:""},f={param:a,value:null!==(s=null==v?void 0:v.searchTerm)&&void 0!==s?s:""},h={param:"returnIATACode",value:null!==(d=null==v?void 0:v.airportCode)&&void 0!==d?d:""},D={param:"d1",value:bs(_)},b={param:"d2",value:bs(S)},T={param:"pickupDateTime",value:Ts(_)},C={param:"returnDateTime",value:Ts(S)},I=null===(i=t.secondary)||void 0===i||null===(l=i.selections)||void 0===l||null===(r=l.filter((function(e){return gs.indexOf(e.id)>-1})))||void 0===r?void 0:r.map((function(e){return{param:e.id,value:e.value}})),A=[g,E,f,h,D,b,T,C],O=I&&I.length>0?Fe(A).concat(Fe(I)):A;return u=O,m=new URL(e),u.forEach((function(e){var t=e.param,n=e.value;m.searchParams.append(t,n)})),m.toString()},Is="pick_up_location",As=["vend","cpcd","odcd","cdnu"],Os=function(e,t){var n,a,r,l=t.name,i=t.value,o=t.checked,c=t.disabled,s=e.primary,d=e.secondary;if(l.startsWith(no)){var u=l.includes(Is),m=u?s.pickUpLocation:s.dropOffLocation,p=u?"pickUpLocation":"dropOffLocation";return Ce(Te({},e),{primary:Ce(Te({},s),he({},p,m||i?Ce(Te({},m),{airportCode:i}):null))})}if(l.startsWith(eo)){var y=l.includes(Is),_=y?s.pickUpLocation:s.dropOffLocation,v=y?"pickUpLocation":"dropOffLocation";return Ce(Te({},e),{primary:Ce(Te({},s),he({},v,_||i?Ce(Te({},_),{searchTerm:i}):null))})}if(l.startsWith(ao)||l.startsWith(ro)){var S,g,E,f,h=l.includes(Is),D=h?s.pickUpLocation:s.dropOffLocation,b=h?"pickUpLocation":"dropOffLocation",T=l.startsWith("".concat(ao,"-")),C=i?Number(i):null,I=T?C:null!==(E=null==D||null===(S=D.coordinates)||void 0===S?void 0:S.latitude)&&void 0!==E?E:null,A=T?null!==(f=null==D||null===(g=D.coordinates)||void 0===g?void 0:g.longitude)&&void 0!==f?f:null:C,O=I||A?{latitude:I,longitude:A}:null;return Ce(Te({},e),{primary:Ce(Te({},s),he({},b,D||O?Ce(Te({},D),{coordinates:O}):null))})}if(l.startsWith(to)){var F=l.includes(Is),k=F?s.pickUpLocation:s.dropOffLocation,R=F?"pickUpLocation":"dropOffLocation";return Ce(Te({},e),{primary:Ce(Te({},s),he({},R,k||i?Ce(Te({},k),{regionId:i}):null))})}if(l.startsWith(Tl.START_DATE_NAME_PREFIX)||l.startsWith(Tl.END_DATE_NAME_PREFIX)){var G=l.includes(Tl.START_DATE_NAME_PREFIX),P=G?"pickUpDateTime":"dropOffDateTime",L=Ae(i.split("-").map((function(e){return Number(e)})),3),N=L[0],x=L[1],M=L[2];return Ce(Te({},e),{primary:Ce(Te({},s),he({},P,Ce(Te({},G?s.pickUpDateTime:s.dropOffDateTime),{day:M,month:x,year:N})))})}if(l.startsWith(Ca)&&l.includes("time")){var B=l.includes("pick_up_time"),w=B?"pickUpDateTime":"dropOffDateTime",W=parseInt(i.substring(2,4),10),U=i.substring(4,6),H=parseInt(i.substring(0,2),10),z=12===H&&"AM"===U?0:12!==H&&"PM"===U?H+12:H;return Ce(Te({},e),{primary:Ce(Te({},s),he({},w,Ce(Te({},B?s.pickUpDateTime:s.dropOffDateTime),{hour:z,minute:W})))})}return l.startsWith(Sr)&&l.includes("aarp_rates")?Ce(Te({},e),{secondary:Ce(Te({},d),{booleans:Fe(null!==(n=null==d?void 0:d.booleans)&&void 0!==n?n:[]).concat([{id:"aarpcr",value:o}])})}):As.find((function(e){return e===l}))?Ce(Te({},e),{secondary:Ce(Te({},d),{selections:Fe(null!==(a=null==d?void 0:d.selections)&&void 0!==a?a:[]).concat([{id:l,value:i}])})}):l.includes("driver_age")&&!c&&i?Ce(Te({},e),{secondary:Ce(Te({},d),{selections:Fe(null!==(r=null==d?void 0:d.selections)&&void 0!==r?r:[]).concat([{id:"age",value:i}])})}):e},Fs=(0,u.J1)(Kt()),ks=function(e){var t=e.data,n=e.onChange,r=e.invalid,l=e.setInputRef,i=e.customValue,o=t.label,c=t.value,s=t.egdsElementId,d=t.placeholder,u=i||c,m=Ae(a.useState(null!=u?u:""),2),p=m[0],y=m[1],_=a.createRef();return a.useEffect((function(){l&&l(_)}),[]),a.createElement(R.b,{placeholder:null!=d?d:"",id:null!=s?s:"",label:o,name:null!=s?s:"",value:p,onChange:function(e){n&&n(e),y(e.target.value)},invalid:null!=r?r:"",domRef:_,"aria-label":null!=o?o:""})};ks.displayName="EGDSTextInputField",ks.fragment=Fs;var Rs=(0,u.J1)(Qt(),Fo.fragment,ks.fragment),Gs=function(e){var t,n,r,i,o,c=e.data,s=e.errorState,d=e.handleErrorState,u=e.index,m=e.setFieldRefByTypename,p=e.setSelectedCouponType,y=e.disabledSelectIndex,_=e.setSpecialOrAdvertisedDiscountCode,v=e.codeValue,S=e.codeTypeSelected,g=e.discountTypes,E=c.discountCodeOptions,f=c.discountCodeType,h=Ae(a.useState(E),2),D=h[0],b=h[1],T=Ae(a.useState(S),2),C=T[0],I=T[1],A=Ae(a.useState(v),2),O=A[0],F=A[1],k=null!==(i=null===(t=E[0])||void 0===t?void 0:t.discountCodeTypeOption)&&void 0!==i?i:"",G=null!==(o=null===(n=E[1])||void 0===n?void 0:n.discountCodeTypeOption)&&void 0!==o?o:"",P=null===(r=D.find((function(e){return e.discountCodeTypeOption===C})))||void 0===r?void 0:r.discountCodeInput,L=(null==P?void 0:P.validations)&&"EGDSRequiredInputValidation"===P.validations[0].__typename?P.validations[0].errorMessage:"",N=s.inputsWithErrors.includes("special-advertised-coupon-".concat(u))?L:"",x=a.createRef();a.useEffect((function(){var e;D!==E&&(I(E[0].discountCodeTypeOption),b(E)),null===(e=x.current)||void 0===e||e.focus()}),[D,E]);return a.createElement("div",null,a.createElement(l.b,{padding:{block:C?"three":"two"}},a.createElement("div",null,a.createElement(R.i,{label:f.label,onChange:function(e){var t;I(e.target.value),d(g.SPECIAL_OR_ADVERTISED,!0,"",u.toString()),_({data:c,value:null!=O?O:"",index:u,codeTypeSelected:null!==(t=e.target.value)&&void 0!==t?t:""}),p&&p(e.target.value,u)},"aria-label":f.label,emptyState:!0,value:C,disabled:null==y?void 0:y.includes(u),domRef:x},D.map((function(e,t){return a.createElement("option",{key:t,value:e.discountCodeTypeOption},e.discountCodeTypeOption)}))))),C&&P&&a.createElement(a.Fragment,null,a.createElement(l.b,{padding:{blockend:"three"}},a.createElement(ks,{data:P,onChange:function(e){d(g.SPECIAL_OR_ADVERTISED,!0,e.target.value,u.toString()),F(e.target.value),_({data:c,value:e.target.value,index:u,codeTypeSelected:null!=C?C:""})},invalid:N,setInputRef:function(e){m&&m("special-advertised-coupon-".concat(u),e)},customValue:O})),O&&C===G&&a.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:O}),O&&C===k&&a.createElement("input",{type:"hidden","aria-label":"cpcd","data-stid":"cpcd",name:"cpcd",value:O}),O&&C!==k&&C!==G&&a.createElement("input",{type:"hidden","aria-label":"odcd","data-stid":"odcd",name:"odcd",value:O})))};Gs.fragment=Rs,Gs.displayName="CarSearchFormSpecialOrAdvertisedOption";var Ps=(0,u.J1)(Jt(),Gs.fragment,ks.fragment),Ls=function(e){var t,n=e.data,r=e.readOnly,i=e.disabled,o=e.egdsElementId,c=e.label,s=e.icon,d=e.handleErrorState,u=e.errorState,m=e.setFieldRefByTypename,p=e.isDisabled,y=e.clearDiscountTypeOptionsState,_=e.selectedDiscountType,v=e.handleDiscountType,S=e.corporateOrContractedCodeValue,g=e.handleCorporateOrContractedCodeValue,E=e.handleSpecialOrAdvertisedCouponsData,f=e.specialOrAdvertisedCouponsData,h=e.handleDisabledDiscountCodeTypes,D=e.disabledCouponTypeIndexes,T=e.handleClearDiscountTypeOptionsState,C=e.discountTypes,I=n.corporateOrContractedOption,A=n.specialOrAdvertisedOption,O=null==I?void 0:I.optionLabel,F=null==A?void 0:A.optionLabel,k=Ae(a.useState(A),2),G=k[0],P=k[1],L=Ae(a.useState(f),2),N=L[0],x=L[1],M=Ae(a.useState([]),2),B=M[0],w=M[1],W=G.maxDiscountCode>N.length&&N.length===B.length,U=function(e,t){var n=B.filter((function(e){return e.index!==t}));w(Fe(n).concat([{selectedDiscountType:e,index:t}]));var a=D.filter((function(e){return e!==t-1}));h(Fe(a).concat([t-1]))},H={data:A,value:"",index:null,codeTypeSelected:""};a.useEffect((function(){A!==G&&(x([H]),P(A)),y&&(w([]),x([{data:A,value:"",index:0,codeTypeSelected:""}]),T())}),[G,A,y]);var z=null===(t=u.inputsWithErrors)||void 0===t?void 0:t.includes("corporate-or-contracted-option"),V=(null==I?void 0:I.discountCode.validations)&&"EGDSRequiredInputValidation"===(null==I?void 0:I.discountCode.validations[0].__typename)?null==I?void 0:I.discountCode.validations[0].errorMessage:"",Y=z?V:"";return a.createElement("div",null,a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(R.i,{readOnly:r,disabled:null!=p?p:i,id:null!=o?o:"",label:c,icon:null==s?void 0:s.id,"aria-label":null!=c?c:"",onChange:function(e){v&&v(e.target.value),e.target.value===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,"")},value:_,emptyState:!0},I&&a.createElement("option",{key:O,label:O,value:O},O),A&&a.createElement("option",{key:F,label:F,value:F},F)))),I&&_===C.CORPORATE_OR_CONTRACTED&&!p&&a.createElement(ks,{data:I.discountCode,invalid:Y,onChange:function(e){g&&g(e.target.value),_===C.CORPORATE_OR_CONTRACTED&&d(C.CORPORATE_OR_CONTRACTED,!0,e.target.value)},setInputRef:function(e){m&&m("corporate-or-contracted-option",e)},customValue:S}),A&&_===C.SPECIAL_OR_ADVERTISED&&!p&&a.createElement(a.Fragment,null,N.map((function(e,t){return a.createElement(Gs,{key:t,data:e.data,index:t,errorState:u,handleErrorState:d,setFieldRefByTypename:m,setSelectedCouponType:U,disabledSelectIndex:D,setSpecialOrAdvertisedDiscountCode:E,codeValue:e.value,codeTypeSelected:e.codeTypeSelected,discountTypes:C})})),"UITertiaryButton"===A.addAnotherDiscountCode.__typename&&a.createElement(b.i,{justifyContent:"end"},a.createElement("div",null,a.createElement(Fo,{data:A.addAnotherDiscountCode,onClick:function(){var e=B.map((function(e){return e.selectedDiscountType})),t=G.discountCodeOptions.filter((function(t){return!e.includes(t.discountCodeTypeOption)&&t})),n=Ce(Te({},G),{discountCodeOptions:t}),a=D.length-1;B[a]&&h(Fe(D).concat([a]));var r={data:n,value:"",index:null,codeTypeSelected:""};x(Fe(N).concat([r]))},isDisabled:!W})))),S&&a.createElement("input",{type:"hidden","aria-label":"cdnu","data-stid":"cdnu",name:"cdnu",value:S}))};Ls.fragment=Ps,Ls.displayName="CarSearchFormDiscountTypeOption";var Ns=(0,u.J1)(Xt(),Ls.fragment,Kr.fragment,Ao.fragment,Fo.fragment,Ta.fragment,Fa.fragment),xs={corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:{selected:!1,coupons:[]}},Ms={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,inputsWithErrors:[]},Bs=function(e){var t,n,r,i,o,s,u,m,p=e.data,y=p.discountCode,_=p.action,v=_.discountType,S=_.preferredBrand,g=_.discountTypeOptions,E=_.done,f=_.toolbar,h=_.errorSummary,D={CORPORATE_OR_CONTRACTED:null===(t=g[0].corporateOrContractedOption)||void 0===t?void 0:t.optionLabel,SPECIAL_OR_ADVERTISED:null===(n=g[0].specialOrAdvertisedOption)||void 0===n?void 0:n.optionLabel},T=Ae(a.useState(!1),2),C=T[0],I=T[1],A=Ae(a.useState(g[0]),2),O=A[0],k=A[1],R=a.createRef(),G=a.createRef(),P=Ae(a.useState(),2),L=P[0],N=P[1],x=Ae(a.useState(""),2),M=x[0],B=x[1],w=Ae(a.useState(""),2),W=w[0],H=w[1],z=Ae(a.useState([]),2),Y=z[0],q=z[1],j=Ae(a.useState(!1),2),$=j[0],K=j[1],Q=Ae(a.useState([{data:g[0].specialOrAdvertisedOption,value:"",index:0,codeTypeSelected:""}]),2),J=Q[0],X=Q[1],Z=Ae(a.useState(xs),2),ee=Z[0],te=Z[1],ne=Ae(a.useState([]),2),ae=ne[0],re=ne[1],le=Ae(a.useState(Te({},Ms)),2),ie=le[0],oe=le[1],se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ae(a.useState(t),2),r=n[0],l=n[1];return a.useEffect((function(){var t,n;null===(n=e.find((function(e){return e.name===r})))||void 0===n||null===(t=n.reference.current)||void 0===t||t.focus()}),[r]),{setFocusInput:l}}(ae),de=se.setFocusInput,ue=function(){oe(Ms),re([]),te(xs)},me={selectedDiscountType:M,handleDiscountType:function(e){B(e),e===D.CORPORATE_OR_CONTRACTED&&(ue(),H("")),e===D.SPECIAL_OR_ADVERTISED&&(ue(),q([]),K(!0),X([]))},corporateOrContractedCodeValue:W,handleCorporateOrContractedCodeValue:function(e){H(e),e&&oe(Ms)},handleSpecialOrAdvertisedCouponsData:function(e){var t=J.filter((function(t){return t.index!==e.index}));X(Fe(t).concat([e])),e.value&&function(e){var t="special-advertised-coupon-".concat(e.index);if(ie.inputsWithErrors.includes(t)){var n=ee.specialOrAdvertised.coupons.filter((function(e){return""===e.value})).map((function(e){return"special-advertised-coupon-".concat(e.id)})).filter((function(e){return e!==t}));oe((function(e){if(e.errorCount>0){var a,r=e.errorCount-1,l=e.inputsWithErrors.filter((function(e){return!e.includes(t)})),i=null===(a=ae.find((function(e){return e.name===n[0]})))||void 0===a?void 0:a.reference;return{displayErrorSummary:r>0,errorCount:r,errorLinkReference:null!=i?i:null,inputsWithErrors:l}}return e})),de(t)}}(e)},specialOrAdvertisedCouponsData:J,handleDisabledDiscountCodeTypes:function(e){q(e)},disabledCouponTypeIndexes:Y,handleClearDiscountTypeOptionsState:function(){K(!1)}},pe=Ae((0,U.useDialog)("discount-codes-dialog"),3),ye=pe[0],_e=pe[1],ve=pe[2],Se="EGDSBasicSelect"===v.__typename?Ce(Te({},v),{icon:{id:null===(r=v.icon)||void 0===r?void 0:r.id}}):void 0,ge=function(){B(""),H(""),oe(Ms),q([]),X([]),K(!0),te(xs),re([])},Ee=function(){ge(),N("")},fe=function(){var e,t=ee.corporateOrContracted;return!!t.value||!t.selected||(oe({displayErrorSummary:!0,errorCount:1,errorLinkReference:null===(e=ae[0])||void 0===e?void 0:e.reference,inputsWithErrors:["corporate-or-contracted-option"]}),!1)},he=function(){var e=ee.specialOrAdvertised;if(e.selected){var t=e.coupons.filter((function(e){return""===e.value}));if(t.length>0){var n,a=t.map((function(e){return"special-advertised-coupon-".concat(e.id)})),r=null===(n=ae.find((function(e){return e.name===a[0]})))||void 0===n?void 0:n.reference;return oe({displayErrorSummary:t.length>0,errorCount:t.length,errorLinkReference:null!=r?r:null,inputsWithErrors:Fe(a)}),!1}return!0}return!0},De=!L,be=a.useCallback((function(e,t){var n={name:e,reference:t};re((function(e){return Fe(e).concat([n])}))}),[]),Ie=ie.displayErrorSummary,Oe=ie.errorCount,ke=ie.errorLinkReference,Re=h&&Ie,Ge=a.createElement(a.Fragment,null,Re&&a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(Ta,{data:h,errorCount:Oe,inputErrorRef:ke}))),a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(Fa,{data:S,onChange:function(e){var t=g.filter((function(t){return t.preferredBrand===e.target.value}))[0];k(t),N(e.target.value),ge()},emptyState:!0,selectValue:L}))),O&&Se&&a.createElement(l.b,{padding:{blockend:"three"}},a.createElement("div",null,a.createElement(Ls,Ce(Te({data:O},Se,me),{handleErrorState:function(e,t,n,a){if(e===D.CORPORATE_OR_CONTRACTED&&te({specialOrAdvertised:{selected:!1,coupons:[]},corporateOrContracted:{selected:null!=t&&t,value:null!=n?n:""}}),e===D.SPECIAL_OR_ADVERTISED){var r={id:null!=a?a:"",value:null!=n?n:""},l=ee.specialOrAdvertised.coupons.filter((function(e){return e.id!==a}));te({corporateOrContracted:{selected:!1,value:""},specialOrAdvertised:Ce(Te({},ee.specialOrAdvertised),{selected:null!=t&&t,coupons:Fe(l).concat([r])})})}},errorState:ie,setFieldRefByTypename:be,isDisabled:De,clearDiscountTypeOptionsState:$,discountTypes:D}))))),Pe=null!==(u=null===(o=(null!==(s=f.actions.secondaries)&&void 0!==s?s:[]).find((function(e){return e.icon})))||void 0===o||null===(i=o.icon)||void 0===i?void 0:i.description)&&void 0!==u?u:"";return a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(V.h,{isVisible:ye},a.createElement(ve,null,a.createElement(V.e,{isVisible:ye,type:"full",triggerRef:R},a.createElement(c.b,{toolbarTitle:null!==(m=f.primary)&&void 0!==m?m:"",navigationContent:{navType:"close",onClick:function(){var e;ge(),N(""),_e.closeDialog(),null===(e=G.current)||void 0===e||e.focus()},navIconLabel:Pe},toolbarActionContent:a.createElement(Fo,{data:f.actions.primary,onClick:Ee})}),a.createElement(V.f,null,a.createElement(l.b,{padding:{inline:"three",blockstart:"three"}},a.createElement("div",null,Ge,"UIPrimaryButton"===E.__typename&&a.createElement(Ao,{data:E,onClick:function(){var e;fe()&&he()&&(oe(Ms),_e.closeDialog(),null===(e=G.current)||void 0===e||e.focus())}}))))))),a.createElement(Kr,{data:y,triggerPill:!0,onClick:function(){_e.openDialog()},domRef:G}))),a.createElement(d.rw,null,a.createElement(ce.E,{isOpen:C,onTriggerClick:function(){I((function(e){return!e}))},onDismiss:function(){ge(),N("")}},a.createElement(ce.b,null,a.createElement("div",null,a.createElement(Kr,{data:y,triggerPill:!0,domRef:G}))),a.createElement(ce.c,{position:ce.P.LEFT,showOverTrigger:!0,width:500},a.createElement(l.b,{padding:{inline:"three"}},a.createElement("div",null,a.createElement(b.i,{alignItems:"center",justifyContent:"space-between"},a.createElement(F.E,null,f.primary),a.createElement(Fo,{data:f.actions.primary,onClick:Ee})),a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,Ge)),"UIPrimaryButton"===E.__typename&&a.createElement(Ao,{data:E,onClick:function(){var e;fe()&&he()&&(I(!1),null===(e=G.current)||void 0===e||e.focus())}}))))))),L&&a.createElement("input",{type:"hidden","aria-label":"vend","data-stid":"vend",name:"vend",value:L}))};Bs.fragment=Ns,Bs.displayName="CarSearchFormDiscountCode";var ws=function(e){return e.pickUpLocation="pickUpLocation",e.dropOffLocation="dropOffLocation",e.dates="dates",e.pickUpTime="pickUpTime",e.dropOffTime="dropOffTime",e.driverAgeCheck="driverAgeCheck",e.specialRatesHeading="specialRatesHeading",e.aarpRatesAndDiscountCodes="aarpRatesAndDiscountCodes",e.search="search",e}(ws||{}),Ws=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return Array.from(Array(t)).map((function(t){return e})).join(n)},Us=(0,u.J1)(Zt()),Hs=function(e){var t=e.disabled,n=e.data,r=e.errorMessage,l=e.setFieldRefByTypename,i=n.label,o=n.value,c=n.egdsElementId,s=n.placeholder,d=n.step,u=n.max,m=n.min,p=n.__typename,y=null===o?void 0:Number(o),_=Ae(a.useState(y),2),v=_[0],S=_[1],g=a.createRef();a.useEffect((function(){l&&g&&l(p,g)}),[]);return a.createElement(se.b,{label:null!=i?i:"",id:null!=c?c:"",placeholder:null!=s?s:"",name:c?"EGDSNumberInput-".concat(c):"",value:v,step:null!=d?d:void 0,max:null!=u?u:void 0,min:null!=m?m:void 0,onChange:function(e){var t=""===e.target.value?void 0:Number(e.target.value);S(t)},disabled:t,invalid:null!=r?r:"",domRef:g})};Hs.displayName="EGDSNumberInputField",Hs.fragment=Us;var zs=(0,u.J1)(en(),zr.fragment,Hs.fragment),Vs=function(e){var t=e.data,n=e.errorState,r=e.setFieldRefByTypename,l=e.getCheckboxState,i=t.label,o=t.driverAge,c=t.driverAgeRequired,s=Ae(a.useState("CHECKED"===c.state),2),d=s[0],u=s[1],m=o.validations,p=o.__typename,y=Hc(n,p),_=d?function(e){var t=null==e?void 0:e.validations;if(y){var n,a,r,l;if(null==t?void 0:t.ageRange)return null!==(a=null==m||null===(n=m.find((function(e){return"EGDSRangeInputValidation"===e.__typename})))||void 0===n?void 0:n.errorMessage)&&void 0!==a?a:"";if(!(null==t?void 0:t.ageRange))return null!==(l=null==m||null===(r=m.find((function(e){return"EGDSRequiredInputValidation"===e.__typename})))||void 0===r?void 0:r.errorMessage)&&void 0!==l?l:""}return""}(y):"";return a.createElement(a.Fragment,null,a.createElement(F.E,{size:7},i),a.createElement(h.E,{columns:{small:1,medium:["max-content","24x"]},space:"three"},a.createElement(h.a,null,a.createElement(zr,{onChange:function(e){u(e.target.checked),l(e.target.checked)},data:c})),a.createElement(h.a,null,a.createElement("div",null,a.createElement(Hs,{data:o,errorMessage:_,disabled:!d,setFieldRefByTypename:r})))))};Vs.fragment=zs,Vs.displayName="CarSearchFormDriverAgeCheck";var Ys=(0,u.J1)(tn(),Ir.fragment),qs=function(e){var t=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL;return a.createElement(l.b,{margin:{blockend:t?"three":"six"}},a.createElement(b.i,{space:"three",alignItems:"start",wrap:"wrap"},a.createElement(b.j,{minWidth:t?"full_width":void 0},a.createElement("div",{"data-stid":"SearchFormRentalTypesSelector"},a.createElement(Ir,Te({},e))))))};qs.fragment=Ys,qs.displayName="RentalTypesSelector";var js=(0,u.J1)(nn(),Vs.fragment,Ta.fragment,Bs.fragment,Pa.fragment,Kr.fragment,Wc.fragment,Co.fragment,Pl.fragment,Fa.fragment,qs.fragment,Ji),$s=Ss.DATE_RANGE_PICKER,Ks=Ss.PICKUP_TIME,Qs=Ss.DROPOFF_TIME,Js=function(e){return e?"".concat(e.year,"-").concat(e.month,"-").concat(e.day):""},Xs=function(e){var t,n,r,i,o,c,s,u=e.onSubmit,m=e.onFieldChange,p=e.onOpenLocationField,y=e.data,_=e.redirectToSearchResultOnSubmit,v=e.autoOpenCalendar,S=e.autoOpenPlayback,g=e.autoSubmitOnFieldChange,E=e.stickyPlayback,f=e.criteria,D=e.hideDiscountCodes,T=e.additionalAdapterFields,A=e.enableBffForSearchLocation,O=(0,I.useLocalization)(),F=O.formatDateString,k=y.egdsElementId,R=y.actionURL,G=y.search,P=y.driverAgeCheck,L=y.errorSummary,N=y.specialRates,x=y.localDateFormat,M=y.playback,B=y.pickUpLocation,w=y.dropOffLocation,W=y.alternativeDropOffLocationLabel,U=y.dates,H=y.pickUpTime,z=y.dropOffTime,V=y.searchLocation,Y=Ae(a.useState(M),2),q=Y[0],j=Y[1],$=Ae(a.useState({origin:null==B?void 0:B.value,destination:null==w?void 0:w.value}),2),K=$[0],Q=$[1],J=Ae(a.useState({start:null!==(c=null===(t=H.options.find((function(e){return e.selected})))||void 0===t?void 0:t.label)&&void 0!==c?c:void 0,end:null!==(s=null===(n=z.options.find((function(e){return e.selected})))||void 0===n?void 0:n.label)&&void 0!==s?s:void 0}),2),X=J[0],Z=J[1],ee=Ae(a.useState("EGDSOpenDatePickerAction"===(null==U||null===(r=U.action)||void 0===r?void 0:r.__typename)&&"EGDSDateRangePicker"===U.action.datePicker.__typename?"".concat(Js(U.action.datePicker.selectedStartDate)," - ").concat(Js(U.action.datePicker.selectedEndDate)):""),2),te=ee[0],ne=ee[1],ae=Ae(a.useState(!1),2),re=ae[0],le=ae[1],ie=a.useRef(null),oe=null!=k?k:"search-car-form",ce=Ae(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null}),2),se=ce[0],de=ce[1],ue={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},me=Ae(a.useState(ue),2),pe=me[0],ye=me[1],_e=Ae(a.useState(!1),2),ve=_e[0],Se=_e[1],ge=null==P||null===(o=P.driverAge)||void 0===o||null===(i=o.validations)||void 0===i?void 0:i.find((function(e){return"EGDSRangeInputValidation"===e.__typename})),Ee="EGDSRangeInputValidation"===(null==ge?void 0:ge.__typename)?ge.min:void 0,fe="EGDSRangeInputValidation"===(null==ge?void 0:ge.__typename)?ge.max:void 0,De=Ae(a.useState(!S),2),be=De[0],Ie=De[1],Oe=a.useCallback((function(e,t){var n,a=zc(e,null===(n=t.current)||void 0===n?void 0:n.id);de((function(e){return Ce(Te({},e),he({},a,t))}))}),[]),Fe=function(e,t){if(e.includes("car-rental")||e.includes("cars.cartrawler"))window.location.href=function(e,t){return Cs(e,t,"pickupName","returnName")}(e,t);else if(e.includes("rent-a-car"))window.location.href=function(e,t){return Cs(e,t,"locn","loc2")}(e,t);else{var n=function(e,t){var n,a,r,l,i,o,c,s,d,u,m,p,y,_,v,S,g,E,f,h,D=e.primary,b=D.pickUpLocation,T=D.pickUpDateTime,C=D.dropOffLocation,I=D.dropOffDateTime,A=encodeURIComponent(fs(T)),O=encodeURIComponent(fs(I)),F=Es(T,t)||A,k=Es(I,t)||O,R=hs(T),G=hs(I),P="locn=".concat(encodeURIComponent(null!==(d=b.searchTerm)&&void 0!==d?d:""),"&pickupIATACode=").concat(null!==(u=b.airportCode)&&void 0!==u?u:"","&olat=").concat(null!==(m=null===(n=b.coordinates)||void 0===n?void 0:n.latitude)&&void 0!==m?m:"","&olon=").concat(null!==(p=null===(a=b.coordinates)||void 0===a?void 0:a.longitude)&&void 0!==p?p:"","&dpln=").concat(null!==(y=b.regionId)&&void 0!==y?y:""),L=C?"loc2=".concat(encodeURIComponent(null!==(_=C.searchTerm)&&void 0!==_?_:""),"&returnIATACode=").concat(null!==(v=C.airportCode)&&void 0!==v?v:"","&dlat=").concat(null!==(S=null===(r=C.coordinates)||void 0===r?void 0:r.latitude)&&void 0!==S?S:"","&dlon=").concat(null!==(g=null===(l=C.coordinates)||void 0===l?void 0:l.longitude)&&void 0!==g?g:"","&drid1=").concat(null!==(E=C.regionId)&&void 0!==E?E:""):"",N="d1=".concat(A,"&d2=").concat(O,"&date1=").concat(F,"&date2=").concat(k),x="time1=".concat(R,"&time2=").concat(G),M=null!==(f=null===(o=e.secondary)||void 0===o||null===(i=o.booleans)||void 0===i?void 0:i.filter((function(e){return"aarpcr"===e.id})).reduce((function(e,t){var n=t.id,a=t.value;return"".concat(e).concat(n,"=").concat(a?"on":"off")}),""))&&void 0!==f?f:"",B=null!==(h=null===(s=e.secondary)||void 0===s||null===(c=s.selections)||void 0===c?void 0:c.reduce((function(e,t){var n=t.id,a=t.value;return"".concat(e,"&").concat(n,"=").concat(a)}),""))&&void 0!==h?h:"",w="".concat(P,"&").concat(L,"&").concat(N,"&").concat(x);return M&&(w+="&".concat(M)),B&&(w+="".concat(B)),w}(t,{localDateFormat:x,formatDateString:F});window.location.href="".concat(e,"?").concat(n)}},ke=function(e,t){var n,a,r,l,i=t?"origin":"destination",o=null!==(l=null!==(r=null==e||null===(a=e.data)||void 0===a||null===(n=a.regionNames)||void 0===n?void 0:n.shortName)&&void 0!==r?r:null==e?void 0:e.term)&&void 0!==l?l:"",c=Ce(Te({},K),he({},i,o));Q(c),j((function(e){var t,n,a,r,l,i;if(!e)return null;var o,s=e.primary,d=e.primaryTemplate,u=(null===(t=c.origin)||void 0===t?void 0:t.includes("("))?null===(n=c.origin)||void 0===n?void 0:n.split("(")[0].trim():null!==(o=null===(a=c.origin)||void 0===a?void 0:a.trim())&&void 0!==o?o:"",m=(null===(r=c.destination)||void 0===r?void 0:r.includes("("))?null===(l=c.destination)||void 0===l?void 0:l.split("(")[0].trim():null===(i=c.destination)||void 0===i?void 0:i.trim();if(!m)return Ce(Te({},e),{primary:Ce(Te({},s),{text:u})});var p=Da(null==d?void 0:d.text,"origin",u),y=Ce(Te({},s),{text:Da(p,"destination",m)});return Ce(Te({},e),{primary:y})}))},Re={setFieldRefByTypename:Oe},Ge=Ce(Te({},Re),{additionalAdapterFields:T,onOpenLocationField:p,searchLocationAnalytics:null==V?void 0:V.analytics}),Pe=B&&a.createElement("div",null,a.createElement(Co,Ce(Te({},Ge),{data:B,isExperienceAPIDriven:A,fieldError:pe.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldPickUp"===e.__typename})),onSelection:function(e){return ke(e,!0)},onClearLocation:function(){return ke(null,!0)}}))),Le=w&&a.createElement("div",null,a.createElement(Co,Ce(Te({},Ge),{data:w,isExperienceAPIDriven:A,fieldError:pe.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldDropOff"===e.__typename})),alternativeLocationLabel:W,onSelection:function(e){return ke(e,!1)},onClearLocation:function(){return ke(null,!1)},skipReflection:!0}))),Ne=U&&a.createElement(Pl,Ce(Te({},e,Re),{data:U,autoOpen:null!=v&&v})),xe=H&&a.createElement("div",null,a.createElement(Fa,Ce(Te({fieldError:pe.fieldsWithErrors.find((function(e){return"EGDSBasicSelectPickUp"===e.__typename}))},Re),{data:H}))),Me=z&&a.createElement("div",null,a.createElement(Fa,Ce(Te({fieldError:pe.fieldsWithErrors.find((function(e){return"EGDSBasicSelectDropOff"===e.__typename}))},Re),{data:z}))),Be="EGDSSearchFormButton"===(null==G?void 0:G.__typename)&&a.createElement(h.E,{autoRows:["max-content"]},a.createElement(Pa,{data:G})),we=pe.displayErrorSummary,We=pe.errorCount,Ue=pe.errorLinkReference,He=!!P,ze=function(e){var t=e.includesDriverAgeCheck,n=e.includeAarpRates,a=e.includeDiscountCodes,r=ws.pickUpLocation,l=ws.dropOffLocation,i=ws.dates,o=ws.pickUpTime,c=ws.dropOffTime,s=ws.driverAgeCheck,d=ws.aarpRatesAndDiscountCodes,u=ws.search,m=n||a?d:".",p=t?s:".";return Ce(Te({},{space:"three"}),{areas:{small:["".concat(Ws(r,8)),"".concat(Ws(l,8)),"".concat(Ws(i,8)),"".concat(Ws(o,4)," ").concat(Ws(c,4)),"".concat(Ws(p,8)),"".concat(Ws(m,6)," ").concat(Ws(".",2)),"".concat(Ws(u,8))],medium:["".concat(Ws(r,3)," ").concat(Ws(l,3)),"".concat(Ws(i,2)," ").concat(Ws(o,2)," ").concat(Ws(c,2)),"".concat(Ws(p,2)," ").concat(Ws(".",4)),"".concat(m," ").concat(Ws(".",5)),"".concat(Ws(u,2)," ").concat(Ws(".",4))],large:["".concat(Ws(r,4)," ").concat(Ws(l,4)," ").concat(Ws(i,4)," ").concat(Ws(o,3)," ").concat(Ws(c,3)," ").concat(Ws(u,2)),"".concat(Ws(p,3)," ").concat(Ws(".",17)),"".concat(Ws(m,4)," ").concat(Ws(".",16))]}})}({includeAarpRates:!!(null==N?void 0:N.showAarpRate)&&!D,includeDiscountCodes:!!(null==N?void 0:N.discountCode)&&!D,includesDriverAgeCheck:He}),Ve=function(){var e=ws.pickUpLocation,t=ws.dropOffLocation,n=ws.dates,a=ws.pickUpTime,r=ws.dropOffTime,l=ws.driverAgeCheck,i=ws.specialRatesHeading,o=ws.aarpRatesAndDiscountCodes;return{pickUpLocation:{area:e},dropOffLocation:{area:t},dates:{area:n},pickUpTime:{area:a},dropOffTime:{area:r},driverAgeCheck:{area:l},search:{area:ws.search},specialRatesHeading:{area:i},aarpRatesAndDiscountCodes:{area:o}}}(),Ye=a.createElement(C.E,{ref:ie,id:oe,name:oe,method:"GET",action:R,onFieldChange:function(e,t){var n,a=e.name,r=e.value;(m&&m(e,t),g)&&(null===(n=ie.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));var l=a===$s,i=a===Ks,o=a===Qs;if(l||i||o){var c=l?r:te,s=Te({},X);if(l)ne(c);else{var d;if(i&&"EGDSBasicSelect"===(null==H?void 0:H.__typename))s.start=null===(d=H.options.find((function(e){return e.value===r})))||void 0===d?void 0:d.label;else if(o&&"EGDSBasicSelect"===(null==z?void 0:z.__typename)){var u;s.end=null===(u=z.options.find((function(e){return e.value===r})))||void 0===u?void 0:u.label}Z(s)}j((function(e){if(!e)return null;var t=Ae(e.secondaries,1)[0];if("EGDSPlainText"===t.__typename){var n=Ce(Te({},t),{text:nr(c,O,s)});return Ce(Te({},e),{secondaries:[n]})}return e}))}Ie(!0)},hasRequiredFieldIndicator:!0,onSubmit:function(e){var t,n=Array.from(e.currentTarget.elements),a={location:{origin:n.find(Qc("pick_up_location"))},dates:{startDateInput:n.find(Qc("EGDSDateRangePicker-StartDate-dates")),endDateInput:n.find(Qc("EGDSDateRangePicker-EndDate-dates")),config:{maxNumberOfDaysSelected:0}},time:{dropOff:n.find(Qc("EGDSBasicSelect-drop_off_time")),pickup:n.find(Qc("EGDSBasicSelect-pick_up_time"))},age:ve?{ageInput:n.find(Qc("EGDSNumberInput-driver_age")),config:{min:Ee,max:fe}}:void 0},r=$c(a),l=r.length;if(!(0===l))return ye({fieldsWithErrors:r,errorCount:l,displayErrorSummary:!0,errorLinkReference:se[null===(t=r[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();if(ye(ue),u||_){var i=function(e){var t={day:0,hour:0,minute:0,month:0,second:0,year:0},n={primary:{pickUpLocation:{},pickUpDateTime:t,dropOffDateTime:t},secondary:{}};return Array.from(e.currentTarget.elements).filter((function(e){return e.name.startsWith("EGDS")||e.name.startsWith("Cars")||As.includes(e.name)})).reduce(Os,n)}(e),o=Ce(Te({},i),{secondary:i.secondary&&Object.keys(i.secondary).length>0?i.secondary:Te({},null==f?void 0:f.secondary)});if(u&&u(e,{carSearchCriteria:o}),_){e.preventDefault();var c=e.currentTarget.action;Fe(c,o)}}}},we&&L&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(Ta,{data:L,errorCount:We,inputErrorRef:Ue}))),a.createElement(h.E,Te({},ze),a.createElement(h.a,Te({},Ve.pickUpLocation),Pe),a.createElement(h.a,Te({},Ve.dropOffLocation),Le),a.createElement(h.a,Te({},Ve.dates),a.createElement("div",null,Ne)),a.createElement(h.a,Te({},Ve.pickUpTime),a.createElement("div",null,xe)),a.createElement(h.a,Te({},Ve.dropOffTime),a.createElement("div",null,Me)),He&&a.createElement(h.a,Te({},Ve.driverAgeCheck),a.createElement("div",null,a.createElement(Vs,{data:P,setFieldRefByTypename:Oe,errorState:pe,getCheckboxState:function(e){Se(e)}}))),!D&&a.createElement(h.a,Te({},Ve.aarpRatesAndDiscountCodes),a.createElement("div",null,a.createElement(b.i,{space:"three"},(null==N?void 0:N.showAarpRate)&&!D&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(Kr,{data:N.showAarpRate,active:re,onChange:function(){le(!re)}}))),(null==N?void 0:N.discountCode)&&!D&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(Bs,{data:N.discountCode})))))),Be&&a.createElement(h.a,Te({},Ve.search),a.createElement("div",null,Be))));return a.createElement(d.LM,null,a.createElement(d.NP,null,q?a.createElement(Wc,{data:q,stickyPlayback:E,display:be,onDisplayToggle:function(e){Ie(e)}},Ye):Ye),a.createElement(d.rw,null,Ye))};Xs.fragment=js,Xs.displayName="CarsSearchForm";var Zs={SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE")},ed={linkName:"Cars Search Form Fallback Presented",referrerId:"Web.Cars.Search.Form.Fallback.Presented"},td={linkName:"Cars Search Form Presented",referrerId:"Web.Cars.Search.Form.Presented"},nd=(0,u.J1)(an(),Xs.fragment),ad={rows:[{type:"secondary"},{type:"primary"},{type:"primary"},{type:"primary"}]},rd={rows:[{type:"secondary"},{type:"primary"}]},ld=function(e){var t=e.inputs,n=e.skipSsr,r=e.batchKey,l=e.includePlayback,i=e.skipQuery,o=void 0!==i&&i,c=e.sticky,s=e.enableBffForSearchLocation,u=e.pageLocation,_=(0,p.R)().context,v=(0,y.useLoggerEvents)(Zs),S=Ce(Te({},t),{context:_,includePlayback:Boolean(l),pageLocation:u}),E=(0,m.I)(nd,{context:{batchKey:r},variables:S,ssr:!n,skip:o}),f=E.data,h=E.error,D=E.loading,b=E.previousData,T=Ae((0,a.useState)("car_search_form_rental_types_option_car"),2),C=T[0],I=T[1];if(D&&!b)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,Te({},ad))),a.createElement(d.rw,null,a.createElement(Zn,Te({},rd))));var A=null!=f?f:b;if(h||!A||"CarSearchForm"!==(null==A?void 0:A.searchForm.car.__typename))return v.SEARCH_TOOLS_CARS_SEARCH_FORM_QUERY_FAILURE.log({name:null==h?void 0:h.name,error:new Error(null==h?void 0:h.message)}),a.createElement(Yn,null,a.createElement(g.ee,Te({},ed),a.createElement(Xs,Ce(Te({},e),{data:ia,criteria:t.carSearchCriteria}))));var O=a.createElement(a.Fragment,null,"CarSearchForm"===(null==A?void 0:A.searchForm.car.__typename)&&A.searchForm.car.rentalTypes&&a.createElement(qs,{onTabSelected:function(e){I("car_search_form_rental_types_option_gt"===e?"car_search_form_rental_types_option_gt":"car_search_form_rental_types_option_car")},data:A.searchForm.car.rentalTypes}),"car_search_form_rental_types_option_car"===C?a.createElement(g.ee,Te({},td),a.createElement(Xs,Ce(Te({},e),{data:null==A?void 0:A.searchForm.car,criteria:t.carSearchCriteria}))):a.createElement(vs,{enableBffForSearchLocation:s,inputs:{groundTransportationSearchCriteria:null},redirectToSearchResultOnSubmit:!0}));return c?a.createElement("div",{"data-stid":"search-form-sticky"},a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement("div",null,O)),a.createElement(d.rw,null,a.createElement(Mn,null,O)))):O};ld.displayName="sharedui-CarsSearchForm";var id={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Activity.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Activity.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},od={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Activity.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},cd={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Activity.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"ACTIVITIES",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:286,typeaheadFeatures:"consistent_display|lxcategory",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Activity.Location.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Activity.Location.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},sd=new Date,dd=new Date(sd.getFullYear(),sd.getMonth(),sd.getDate()+14),ud=new Date(dd.getFullYear(),dd.getMonth(),dd.getDate()+1),md=new Date(sd.getFullYear(),sd.getMonth(),sd.getDate()+328),pd=dd.getMonth()+1,yd=ud.getMonth()+1,_d={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"End date must be after start date",validations:[{errorMessage:"Dates must be no more than 14 days apart",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Activity.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:14,sameDaySelectionAllowed:!0,selectedStartDate:{day:dd.getDate(),month:pd,year:dd.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:ud.getDate(),month:yd,year:ud.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:sd.getDate(),month:sd.getMonth(),year:sd.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:md.getDate(),month:md.getMonth(),year:md.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Calendar submit",referrerId:"Web.Activity.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Activity.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Activity.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Calendar start",referrerId:"Web.Activity.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Calendar end",referrerId:"Web.Activity.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},vd=(0,u.J1)(rn()),Sd=function(e){var t=e.data,n=e.inline,r=e.size;return a.createElement(F.c,{inline:n,size:r},t.text)};Sd.fragment=vd,Sd.displayName="EGDSPlainText";var gd=(0,u.J1)(ln(),Sd.fragment,mc.fragment),Ed=function(e){var t=e.data;e.inline;switch(t.__typename){case"EGDSPlainText":return a.createElement(Sd,{data:t,inline:!0});case"EGDSStandardLink":return a.createElement(mc,{data:t});default:return null}};Ed.fragment=gd,Ed.displayName="EGDSSpannableTextInlineContent";var fd=(0,u.J1)(on(),Sd.fragment,mc.fragment),hd=function(e){var t,n,r=e.data;return(null==r||null===(t=r.inlineContent)||void 0===t?void 0:t.length)?a.createElement("div",{"data-stid":"egds-spannable-text"},null==r||null===(n=r.inlineContent)||void 0===n?void 0:n.map((function(e,t){return a.createElement(a.Fragment,{key:"inline-content-".concat(t)},a.createElement(Ed,{data:e})," ")}))):null};hd.displayName="EGDSSpannableText",hd.fragment=Ce(Te({},fd),{__typename:"EGDSSpannableText"});var Dd="EGDSSearchFormLocationField",bd="".concat(Dd,"-Location"),Td="".concat(Dd,"-RegionId"),Cd="".concat(Dd,"-Lat"),Id="".concat(Dd,"-Long"),Ad="".concat(Dd,"-Values"),Od="".concat(Dd,"-Selected"),Fd="".concat(Dd,"-AmenitiesFacilitiesGroup"),kd="".concat(Dd,"-LocGroup"),Rd="".concat(Dd,"-PropertiesGoodForGroup"),Gd="".concat(Dd,"-PropertyTypeGroup"),Pd="".concat(Dd,"-PropertyId"),Ld="".concat(Dd,"-PropertyFilter"),Nd="EGDSSearchFormTravelersField",xd="".concat(Nd,"-Adult-Room"),Md="".concat(Nd,"-ChildrenAge-Room"),Bd="EGDSSearchFormTravelersField",wd="".concat(Bd,"-Adult"),Wd="".concat(Bd,"-ChildrenAge"),Ud="".concat(Bd,"-Pets"),Hd="SearchFormDurationSpanField",zd="".concat(Hd,"-Min"),Vd="".concat(Hd,"-Max"),Yd="EGDSBasicPill";function qd(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){var t=Ae(e.split("-"),3),n=t[0],a=t[1],r=t[2];return"".concat(a,"-").concat(r,"-").concat(n)}return e}var jd,$d,Kd={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Qd=(he(jd={},"LODGING",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value,r=t.checked;if(n.startsWith("".concat(bd,"-destination")))return Ce(Te({},e),{destination:encodeURIComponent(a)});if(n.startsWith("".concat(Td,"-destination"))&&"null"!==a)return Ce(Te({},e),{regionId:a});if(n.startsWith("".concat(Cd,"-destination"))&&a)return Ce(Te({},e),{latLong:a});if(n.startsWith("".concat(Id,"-destination"))&&a)return Ce(Te({},e),{latLong:"".concat(e.latLong,",").concat(a)});if(n.startsWith("".concat(Fd,"-destination"))&&a)return Ce(Te({},e),{amenities_facilities_group:a});if(n.startsWith("".concat(kd,"-destination"))&&a)return Ce(Te({},e),{location_group:a});if(n.startsWith("".concat(Rd,"-destination"))&&a)return Ce(Te({},e),{properties_good_for_group:a});if(n.startsWith("".concat(Gd,"-destination"))&&a)return Ce(Te({},e),{property_type_group:a});if(n.startsWith(Ld)&&a){var l=n.split("".concat(Ld,"-")).pop();return Te({},e,l?he({},l,a):{})}if(n.startsWith(Tl.START_DATE_NAME_PREFIX))return Ce(Te({},e),{d1:a,startDate:a});if(n.startsWith(Tl.END_DATE_NAME_PREFIX))return Ce(Te({},e),{d2:a,endDate:a});if(n.startsWith(Tl.FLEXIBILITY_PREFIX))return Ce(Te({},e),{flexibility:a});if(n.startsWith(Tl.FLEXIBILITY_NIGHTS_PREFIX))return Ce(Te({},e),{flexibility:a});if(n.startsWith(Tl.FLEXIBILITY_WEEKEND_PREFIX))return Ce(Te({},e),{flexibleSearchRequirement:a});if(n.startsWith(Tl.FLEXIBILITY_MONTHS_PREFIX))return Ce(Te({},e),{searchRange:a});if(n.startsWith("".concat(Pd)))return Ce(Te({},e),{propertyId:a});if(n.startsWith(xd)){var i=e.adults,o=i?"".concat(i,",").concat(a):a,c=o.split(",").length;return Ce(Te({},e),{adults:o,rooms:c})}if(n.startsWith(Md)){var s=e.children,d=n.substr(Md.length,1),u="".concat(d,"_").concat(a),m=s?"".concat(s,",").concat(u):u;return Ce(Te({},e),{children:m})}if(n.startsWith(wd))return Ce(Te({},e),{adults:a});if(n.startsWith(Wd)){var p=e.children,y="".concat(1,"_").concat(a),_=p?"".concat(p,",").concat(y):y;return Ce(Te({},e),{children:_})}return n.startsWith(Ud)?Te({},e,"CHECKED"===a&&{house_rules_group:"pets_allowed"}):n.startsWith(Od)?a?Ce(Te({},e),{selected:a}):Te({},e):n.startsWith("".concat(bd,"-origin"))?Ce(Te({},e),{origin:a}):n.startsWith("EGDSSoftPackagesPackageType")&&a.length>0?Ce(Te({},e),{packageType:a}):n.startsWith("".concat(Yd,"-add-flight"))||n.startsWith("add-flight-switch")?Te({},e,r?{"add-flight-switch":r}:{}):n.startsWith("".concat(Yd,"-add-car"))||n.startsWith("add-car-switch")?Te({},e,r?{"add-car-switch":r}:{}):e}),{}),n=Object.keys(t).map((function(e){return e.includes("flexibility")?t[e].split(",").map((function(t){return"".concat(e,"=").concat(t)})).join("&"):e.includes("searchRange")?t[e].split("/").map((function(t){return"".concat(e,"=").concat(t)})).join("&"):"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)})),he(jd,"CRUISES",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value;if(n.startsWith(Ad))return Ce(Te({},e),{destination:a.replace(/,/g,"|")});if(n.startsWith(Tl.START_DATE_NAME_PREFIX))return Ce(Te({},e),{"earliest-departure-date":a});if(n.startsWith(Tl.END_DATE_NAME_PREFIX))return Ce(Te({},e),{"latest-departure-date":a});if(n.startsWith(zd))return Ce(Te({},e),{"min-length":a});if(n.startsWith(Vd))return Ce(Te({},e),{"max-length":a});if(n.startsWith(wd))return Ce(Te({},e),{adultCount:a});if(n.startsWith(Wd)){var r=e.childAges,l=r?"".concat(r,",").concat(a):a,i=l.split(",").length;return Ce(Te({},e),{childCount:i,childAges:l})}return e}),{}),n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)})),he(jd,"CRUISES_ODYSSEUS",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value;return n.startsWith(Ad)?Ce(Te({},e),{destinations:a}):n.startsWith(Tl.START_DATE_NAME_PREFIX)?Ce(Te({},e),{startdate:qd(a)}):n.startsWith(Tl.END_DATE_NAME_PREFIX)?Ce(Te({},e),{enddate:qd(a)}):n.startsWith(zd)?Ce(Te({},e),{minduration:a}):n.startsWith(Vd)?Ce(Te({},e),{maxduration:a}):e}),{}),n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"".concat(n)})),he(jd,"FLIGHTS",(function(e){var t={from:"",to:"",departureDate:""},n={adults:0,seniors:0,childAges:[]},a=e.reduce((function(e,a){var r=a.name,l=a.value;return r.includes("flight_type_selector")?Ce(Te({},e),{trip:Kd[l]}):r.includes("cabin_class")?Ce(Te({},e),{options:"cabinclass:".concat(l)}):r.startsWith(bd)&&r.includes("origin_select")?(t.from=l,e):r.startsWith(bd)&&r.includes("destination_select")?(t.to=l,e):r.startsWith(Tl.START_DATE_NAME_PREFIX)?(t.departureDate=l,Ce(Te({},e),{fromDate:l})):r.startsWith(wd)?(n.adults=+l,e):r.startsWith(Wd)?(n.childAges.push(l),e):e}),{"flight-type":"on",mode:"search"}),r=n.childAges.length||0,l=r?"".concat(r,"[").concat(n.childAges.join(";"),"]"):r.toString();a.legs=[t],a.passengers="children:".concat(l,",adults:").concat(n.adults,",seniors:0,infantinlap:Y");var i=Object.keys(a).map((function(e){return"legs"===e&&a.legs?a.legs.map((function(e,t){return"leg".concat(t+1,"=from:").concat(e.from,",to:").concat(e.to,",departure:").concat(e.departureDate,"TANYT")})).join("&"):"".concat(e,"=").concat(a[e])})).join("&");return"?".concat(i)})),he(jd,"ACTIVITIES",(function(e){var t=e.reduce((function(e,t){var n=t.name,a=t.value;return n.startsWith(bd)?Ce(Te({},e),{location:a}):n.startsWith(Td)?Ce(Te({},e),{rid:a}):n.startsWith(Tl.START_DATE_NAME_PREFIX)?Ce(Te({},e),{d1:a,startDate:a}):n.startsWith(Tl.END_DATE_NAME_PREFIX)?Ce(Te({},e),{d2:a,endDate:a}):e}),{}),n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&");return"?".concat(n)})),jd),Jd=function(e,t){var n=["EGDS","SearchForm","add"],a=t.filter((function(e){var t=e.name;return n.find((function(e){return t.startsWith(e)}))}));return Qd[e](a)},Xd=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e}(Xd||{}),Zd=function(e,t){var n=t.name,a=t.value,r=e.primary;if(n.startsWith("".concat(eo,"-destination")))return{primary:Ce(Te({},r),{destination:Ce(Te({},r.destination),{regionName:a})})};if(n.startsWith(to))return{primary:Ce(Te({},r),{destination:Ce(Te({},r.destination),{regionId:a})})};if(n.startsWith(ao)||n.startsWith(ro)){var l=n.startsWith("".concat(ao)),i=l?Number(a):null,o=l?null:Number(a),c=i&&o?{latitude:i,longitude:o}:null;return{primary:Ce(Te({},r),{destination:Ce(Te({},r.destination),{coordinates:c})})}}var s=n.startsWith(Tl.START_DATE_NAME_PREFIX),d=n.startsWith(Tl.END_DATE_NAME_PREFIX);if(s||d){var u,m,p=Ae(a.split("-").map((function(e){return Number(e)})),3),y=p[0],_=p[1],v={day:0,month:0,year:0},S={day:p[2],month:_,year:y};return{primary:Ce(Te({},e.primary),{dateRange:{startDate:s?S:(null===(u=e.primary.dateRange)||void 0===u?void 0:u.startDate)||v,endDate:d?S:(null===(m=e.primary.dateRange)||void 0===m?void 0:m.endDate)||v}})}}return Te({},e)},eu={grow:1,minWidth:"zero",maxWidth:"full_width"},tu={EGDSSearchFormLocationField:eu,EGDSSearchFormDatePickerField:eu,EGDSSearchFormButton:{grow:0},default:eu},nu=(he($d={},d.OB.SMALL,Ce(Te({},tu),{EGDSSearchFormLocationField:Ce(Te({},eu),{minWidth:"full_width"}),EGDSSearchFormDatePickerField:{minWidth:"full_width"},EGDSSearchFormButton:{grow:1}})),he($d,d.OB.MEDIUM,Ce(Te({},tu),{EGDSSearchFormLocationField:Ce(Te({},eu),{minWidth:"third_width"}),EGDSSearchFormDatePickerField:{grow:1,minWidth:"third_width"}})),he($d,d.OB.LARGE,tu),he($d,d.OB.EXTRA_LARGE,tu),$d),au=[Co,Pl,Pa],ru=(0,u.J1)(cn(),Ta.fragment,Co.fragment,Pl.fragment,Pa.fragment,Wc.fragment,hd.fragment,Ji),lu=function(e){var t=e.viewSize,n=e.fields,r=e.errorState,l=e.defaultValidationProps;return a.createElement(b.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},n.map((function(n,i){var o=n.__typename,c=au.find((function(e){return e.displayName===o}));if(!c)return null;var s,d,u=null!==(s=(d=nu[t])[o])&&void 0!==s?s:d.default,m=r.fieldsWithErrors.find((function(e){return e.__typename===o})),p=Ce(Te({},l),{fieldError:m}),y=Te({},e,p);return a.createElement(b.j,Te({key:"field_".concat(o,"_").concat(i)},u),a.createElement("div",null,a.createElement(c,Ce(Te({},y),{data:n}))))})))},iu=function(e){var t,n=e.data,r=e.onFieldChange,i=e.onSubmit,o=e.redirectToSearchResultOnSubmit,c=e.autoOpenPlayback,s=e.stickyPlayback,u=e.autoSubmitOnFieldChange,m=e.skipQuery,p=e.enableBffForSearchLocation,y=void 0!==p&&p,_=(0,I.useLocalization)(),v=Ae(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),S=v[0],g=v[1],E=a.useRef(null),f={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},h=Ae(a.useState(f),2),D=h[0],b=h[1],T=n.egdsElementId,A=n.elements,O=n.search,k=n.actionURL,R=n.errorSummary,G=n.playback,P=n.subTitle,L=n.searchLocation,N=null!=T?T:"search-activity-form",x=O?Fe(A).concat([O]):A,M=Ae(a.useState(!c),2),B=M[0],w=M[1],W=Ae(a.useState(G),2),U=W[0],H=W[1];a.useEffect((function(){G&&!m&&H(G)}),[G,m]);var z,V={setFieldRefByTypename:a.useCallback((function(e,t){g((function(n){return Ce(Te({},n),he({},e,t))}))}),[])},Y=A.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),q="EGDSSearchFormDatePickerField"===(null==Y?void 0:Y.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=Y.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===Y.action.datePicker.__typename&&null!==(z=Y.action.datePicker.maxNumberOfDaysSelected)&&void 0!==z?z:0,j=D.displayErrorSummary,$=D.errorCount,K=D.errorLinkReference,Q=R&&j,J=Ce(Te({},e),{viewSize:d.OB.SMALL,fields:x,errorState:D,defaultValidationProps:V,searchLocationAnalytics:null==L?void 0:L.analytics,isExperienceAPIDriven:y});return a.createElement(C.E,{ref:E,id:N,name:N,method:"GET",action:k,onFieldChange:function(e,t){var n;(r&&r(e,t),u)&&(null===(n=E.current)||void 0===n||n.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));H((function(t){var n=Xd.DESTINATION,a=Xd.TRAVEL_DATES,r=e.name,l=e.value,i=r===n,o=r===a;if(!t)return null;if(!o&&!i)return Te({},t);var c=t.primary,s=t.secondaries,d=i?Ce(Te({},c),{text:l}):c,u=function(e,t,n){var a=t.length>1,r={__typename:"EGDSPlainText",accessibility:null,text:""};if(e){var l=nr(n,_);return a?[Ce(Te({},r),{text:l}),t[1]]:[Ce(Te({},r),{text:l})]}return Fe(t)}(o,s,l);return Ce(Te({},t),{primary:d,secondaries:u})})),w(!0)},onSubmit:function(e){b(f);var t,n=Array.from(e.currentTarget.elements),a={location:{destination:n.find(Qc("destination_form_field"))},dates:{startDateInput:n.find(Qc("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:n.find(Qc("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:q}}},r=$c(a),l=r.length;if(!(0===l))return b({fieldsWithErrors:r,errorCount:l,displayErrorSummary:!0,errorLinkReference:S[null===(t=r[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();var c=Array.from(e.currentTarget.elements),s=function(e){return e.filter((function(e){return e.name.startsWith("EGDS")})).reduce(Zd,{primary:{},secondary:{}})}(c);if(i&&i(e,{activitySearchCriteria:s}),o){e.preventDefault();var d=Jd("ACTIVITIES",c);window.location.href="".concat(e.currentTarget.action).concat(d)}},hasRequiredFieldIndicator:!0},P&&a.createElement(l.b,{padding:{blockend:"two"}},a.createElement(F.b,{tag:"p"},P?a.createElement(hd,{data:P}):"")),Q&&a.createElement(Ta,{data:R,errorCount:$,inputErrorRef:K}),a.createElement(l.b,{margin:{blockstart:Q?"two":void 0}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,U?a.createElement(Wc,{data:U,stickyPlayback:s,display:B,onDisplayToggle:function(e){w(e)}},a.createElement(lu,Te({},J))):a.createElement(lu,Te({},J))),a.createElement(d.rw,null,a.createElement(lu,Ce(Te({},J),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(lu,Ce(Te({},J),{viewSize:d.OB.LARGE})))))))};iu.fragment=ru,iu.displayName="ActivitySearchForm";var ou={SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE")},cu={linkName:"Activity Search Form Fallback Presented",referrerId:"Web.Activity.Search.Form.Fallback.Presented"},su={linkName:"Activity Search Form Presented",referrerId:"Web.Activity.Search.Form.Presented"},du=(0,u.J1)(sn(),iu.fragment),uu={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},mu={rows:[{type:"primary"}]},pu=function(e){var t=e.inputs,n=e.skipSsr,r=e.skipQuery,l=void 0!==r&&r,i=e.batchKey,o=e.includePlayback,c=e.autoSubmitOnFieldChange,s=e.pageLocation,u=(0,p.R)().context,_=(0,y.useLoggerEvents)(ou),v=Ce(Te({},t),{context:u,includePlayback:!!o,pageLocation:s}),S=(0,m.I)(du,{context:{batchKey:i},variables:v,ssr:!n,skip:l}),E=S.data,f=S.error,h=S.loading,D=S.previousData,b=null!=E?E:D;if(h&&!b)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,Te({},uu))),a.createElement(d.rw,null,a.createElement(Zn,Te({},mu))));if(f&&_.SEARCH_TOOLS_ACTIVITY_SEARCH_FORM_QUERY_FAILURE.log({name:f.name,error:new Error(f.message)}),f||!b){var T={__typename:"ActivitySearchForm",egdsElementId:"activity-search-form",actionURL:"/things-to-do/search",errorSummary:id,elements:[cd,_d],search:od,playback:null,subTitle:null,searchLocation:ea};if("ActivitySearchForm"===T.__typename)return a.createElement(Yn,null,a.createElement(g.ee,Te({},cu),a.createElement(iu,Ce(Te({},e),{data:T}))))}return b&&"ActivitySearchForm"===b.searchForm.activity.__typename?a.createElement(g.ee,Te({},su),a.createElement(iu,Ce(Te({},e),{autoSubmitOnFieldChange:c,data:b.searchForm.activity}))):null};pu.displayName="sharedui-ActivitySearchForm";var yu=function(e){return{egdsElementId:e,goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Cruises.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Cruises.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"}},_u=yu("search_form_error_summary"),vu={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Location open",referrerId:"Web.Cruises.Destinations.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"CRUISES",maxNumberOfResults:25,packageType:null,personalize:!1,regionType:null,typeaheadFeatures:null,isMultiLocation:!0,domain:"https://www.expedia.com",regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"",categorize:!0,allowExactMatch:!1,listTitle:!0,selectedItemHeading:"Selected destinations",clearAllText:"Clear all",dismissButtonText:"Done",__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Location close",referrerId:"Web.Cruises.Destinations.Close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Location change",referrerId:"Web.Cruises.Destinations.Change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},Su=new Date,gu=new Date(Su.getFullYear(),Su.getMonth(),Su.getDate()+2),Eu=new Date(gu.getFullYear(),gu.getMonth(),gu.getDate()+1),fu=new Date(gu.getFullYear(),gu.getMonth(),gu.getDate()+1e3),hu={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Departing between",placeholder:"Departing between",errorMessage:null,validations:null,action:{accessibility:null,analytics:{linkName:"cruise date open",referrerId:"Web.Cruises.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:{day:gu.getDate(),month:gu.getMonth()+1,year:gu.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check In",selectedEndDate:{day:Eu.getDate(),month:Eu.getMonth()+1,year:Eu.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check Out",validDaysLowerBoundInclusive:{day:gu.getDate(),month:gu.getMonth(),year:gu.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:fu.getDate(),month:fu.getMonth(),year:fu.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"cruise date submit",referrerId:"Web.Cruises.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Cruises.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Cruises.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"cruise date start date click",referrerId:"Web.Cruises.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"cruise date end date click",referrerId:"Web.Cruises.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},Du=yu("duration_span_selector_error_summary"),bu={__typename:"SearchFormDurationSpanField",egdsElementId:"duration_span_form_field",label:"Duration",labelTemplate:{__typename:"EGDSBasicLocalizedText",egdsElementId:"duration_span_form_field_label",models:[{key:"minNights",source:"minNights",__typename:"TemplateModel"},{key:"maxNights",source:"maxNights",__typename:"TemplateModel"}],template:"${minNights}  ${maxNights} nights",text:"3  9 nights"},leftIcon:{id:"access_time",__typename:"Icon"},action:{__typename:"OpenDurationSpanAction",analytics:{__typename:"ClientSideAnalytics",linkName:"Search form",referrerId:"Web.Cruises.Duration.Open"},durationSpan:{__typename:"DurationSpanSelector",egdsElementId:"duration_span_selector",title:"Duration",doneButton:{__typename:"UIPrimaryButton",egdsElementId:"duration_span_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Done",__typename:"ClientSideAnalytics"},action:null},closeButton:{__typename:"UITertiaryButton",egdsElementId:"duration_span_selector_close_button",primary:null,disabled:!1,accessibility:"Close duration dialog",icon:null,analytics:{linkName:"Search form",referrerId:"Web.Cruises.Duration.Close",__typename:"ClientSideAnalytics"},action:null},minDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_min_input",label:"Min nights",value:"3",placeholder:"Enter a number",errorMessage:"Change min nights",step:1,min:1,max:300},maxDurationSpanLimit:{__typename:"EGDSNumberInputField",egdsElementId:"duration_span_selector_max_input",label:"Max nights",value:"9",placeholder:"Enter a number",errorMessage:"Change max nights",step:1,min:1,max:300},validations:[{__typename:"DurationSpanInputValidation",errorMessage:"",type:"REQUIRED_VALUE",errorSummary:Du},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_VALUE",errorSummary:Du},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_VALUE",errorSummary:Du},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MINIMUM_LESS_THAN_MAXIMUM",errorSummary:Du},{__typename:"DurationSpanInputValidation",errorMessage:"",type:"MAXIMUM_GREATER_THAN_MINIMUM",errorSummary:Du}]},accessibility:"Duration selector opened"}},Tu={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Search form",referrerId:"Web.Cruises.Travelers.Open",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:"Close travelers dialog",icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Cancel",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:5,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Traveler selector",referrerId:"Web.Cruises.Travelers.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:"children_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"children_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"2",value:"2",egdsElementId:"children_age_option_2",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:null,infantsOnLap:null,pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We are only able to book up to 5 travelers. Please adjust the number of travelers for your search.",maxCount:5,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We are only able to book up to 5 travelers. Please adjust the number of travelers for your search.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Cruises.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Please provide the ages of children.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:yu("traveler_selector_error_summary"),__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers, 1 cabin",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler, 1 cabin",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers, 1 cabin",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers, 1 cabin",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers, 1 cabin",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers, 1 cabin",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"2 travelers, 1 cabin",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Cu={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Cruises.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Iu={domainId:"CRUISE_DESTINATION",adapterRequest:{includeMetadata:["type"],__typename:"TypeaheadAdapterRequest"},categoryDetails:[{key:"POPULAR_DESTINATION",value:"Popular destinations",__typename:"TypeaheadCategoryDetails"},{key:"OTHER_DESTINATION",value:"Other destinations",__typename:"TypeaheadCategoryDetails"}],__typename:"TypeaheadAdapterDetails"},Au=function(e,t){var n=t.min,a=t.max;if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){var r,l=e.template,i=e.models;return function(e,t,n){return t.reduce((function(e,t){var a=t.key,r="${".concat(a,"}"),l=Number(n[a]).toString();return e.replace(r,l)}),e)}(l,i,(he(r={},i[0].key,n),he(r,i[1].key,a),r))}return""},Ou=function(e){var t=e.minDurationInput,n=e.maxDurationInput,a=e.errorMessage,r=e.errorSummary,l=e.validationType,i=e.fieldUpdated,o=t.value,c=t.min,s=t.max,d=n.value,u=n.min,m=n.max;if(null===o||null===c||null===s||null===d||null===u||null===m)return null;var p=parseFloat(o),y=parseFloat(d),_={displayError:!1,message:a,validationType:l,errorType:"No Duration Input",errorCount:0,errorSummary:r},v=function(e){return p>y?Ce(Te({},_),{errorType:e,errorCount:1}):null};switch(l){case"REQUIRED_VALUE":var S=Number.isNaN(p),g=Number.isNaN(y),E=Number(S)+Number(g),f="No Duration Input";return E?(S&&g&&(f="Both Duration Inputs"),S&&!g&&(f="Minimum Duration Input"),!S&&g&&(f="Maximum Duration Input"),Ce(Te({},_),{errorType:f,errorCount:E})):null;case"MINIMUM_VALUE":var h=p<c,D=y<u,b=Number(h)+Number(D),T="No Duration Input";return b?(h&&D&&(T="Both Duration Inputs"),h&&!D&&(T="Minimum Duration Input"),!h&&D&&(T="Maximum Duration Input"),Ce(Te({},_),{errorType:T,errorCount:b})):null;case"MAXIMUM_VALUE":var C=p>s,I=y>m,A=Number(C)+Number(I),O="No Duration Input";return A?(C&&I&&(O="Both Duration Inputs"),C&&!I&&(O="Minimum Duration Input"),!C&&I&&(O="Maximum Duration Input"),Ce(Te({},_),{errorType:O,errorCount:A})):null;case"MINIMUM_LESS_THAN_MAXIMUM":return"MIN"===i?v("Minimum Duration Input"):null;case"MAXIMUM_GREATER_THAN_MINIMUM":return"MAX"===i?v("Maximum Duration Input"):null;default:return null}},Fu=function(e){var t=e.minDurationInput,n=e.maxDurationInput,a=e.validations,r=e.currentError,l=e.fieldUpdated;if(!a.length)return null;for(var i=null,o=0;o<a.length;o+=1){var c=a[o];if("DurationSpanInputValidation"===c.__typename&&(null==c?void 0:c.errorSummary)){var s=c.errorMessage,d=c.type,u=c.errorSummary;if(i=Ou({minDurationInput:t,maxDurationInput:n,errorMessage:s,errorSummary:u,validationType:d,fieldUpdated:l}))break}}if(!i)return null;var m=(null==r?void 0:r.validationType)===(null==i?void 0:i.validationType);if(m&&(null==r?void 0:r.displayError)){var p=i.errorType,y=i.errorCount;return Ce(Te({},r),{errorType:p,errorCount:y})}return!m&&(null==r?void 0:r.displayError)?Ce(Te({},i),{displayError:!0}):i},ku=a.createContext({state:{}}),Ru=function(e,t){switch(t.type){case"Update Minimum Value":var n=t.min,a=e.minDurationInput,r=e.maxDurationInput,l=e.validations,i=e.error,o=Ce(Te({},a),{value:n}),c=Fu({minDurationInput:o,maxDurationInput:r,currentError:i,validations:null!=l?l:[],fieldUpdated:"MIN"});return Ce(Te({},e),{error:c,minDurationInput:o});case"Update Maximum Value":var s=t.max,d=e.minDurationInput,u=e.maxDurationInput,m=e.validations,p=e.error,y=Ce(Te({},u),{value:s}),_=Fu({minDurationInput:d,maxDurationInput:y,currentError:p,validations:null!=m?m:[],fieldUpdated:"MAX"});return Ce(Te({},e),{error:_,maxDurationInput:y});case"Show Error Message":if(e.error){var v=Ce(Te({},e.error),{displayError:!0});return Ce(Te({},e),{error:v})}return e;case"Reset Duration Span State":return t.state;default:return e}},Gu=function(e){var t=e.children,n=e.durationSpan,r=Ae(a.useReducer(Ru,n,(function(e){var t=e.minDurationSpanLimit,n=e.maxDurationSpanLimit,a=e.validations;return{minDurationInput:t,maxDurationInput:n,validations:null!=a?a:[],error:null}})),2),l=r[0],i=r[1];return a.useMemo((function(){return a.createElement(ku.Provider,{value:{state:l,dispatch:i}},t)}),[l,i])},Pu=function(){return a.useContext(ku)},Lu=function(e){var t,n,r,i,o,c,s,d,u,m,p,y,_,v=e.minDurationSpanLimit,S=e.maxDurationSpanLimit,g=e.durationSpanLimits,E=e.error,f=e.handleErrorInputRefUpdate,h=e.handleChange,D=null!==(t=null==E?void 0:E.errorType)&&void 0!==t?t:"No Duration Input",T="Minimum Duration Input"===D||"Both Duration Inputs"===D,C="Maximum Duration Input"===D||"Both Duration Inputs"===D,I=null==E?void 0:E.validationType,A=function(e){return e.errorMessage&&("MINIMUM_VALUE"===I||"MAXIMUM_VALUE"===I||"REQUIRED_VALUE"===I)?e.errorMessage:null==E?void 0:E.message},O=parseFloat(g.min),F=parseFloat(g.max),k=a.useRef(null),G=a.useRef(null),P={id:null!==(n=v.egdsElementId)&&void 0!==n?n:"duration_span_field_min_input",label:null!==(r=v.label)&&void 0!==r?r:"",min:null!==(i=v.min)&&void 0!==i?i:void 0,max:null!==(o=v.max)&&void 0!==o?o:void 0,placeholder:null!==(c=v.placeholder)&&void 0!==c?c:void 0,step:null!==(s=v.step)&&void 0!==s?s:void 0,value:Number.isNaN(O)?void 0:O,invalid:T?A(v):void 0,domRef:k},L={id:null!==(d=S.egdsElementId)&&void 0!==d?d:"duration_span_field_max_input",label:null!==(u=S.label)&&void 0!==u?u:"",min:null!==(m=S.min)&&void 0!==m?m:void 0,max:null!==(p=S.max)&&void 0!==p?p:void 0,placeholder:null!==(y=S.placeholder)&&void 0!==y?y:void 0,step:null!==(_=S.step)&&void 0!==_?_:void 0,value:Number.isNaN(F)?void 0:F,invalid:C?A(S):void 0,domRef:G};return T&&f(k),!T&&C&&f(G),a.createElement("section",null,a.createElement(l.b,{padding:{blockstart:"four",inline:"four"}},a.createElement(b.i,{wrap:"wrap"},a.createElement(l.b,{padding:{inlineend:"one"}},a.createElement(b.j,{minWidth:"half_width"},a.createElement("div",null,a.createElement(R.E,Ce(Te({name:"min",hasBorder:!0,hasVisibleLabel:!0,onChange:h},P),{type:"number"}))))),a.createElement(l.b,{padding:{inlinestart:"one"}},a.createElement(b.j,{minWidth:"half_width"},a.createElement("div",null,a.createElement(R.E,Ce(Te({name:"max",hasBorder:!0,hasVisibleLabel:!0,onChange:h},L),{type:"number"}))))))))},Nu=(0,u.J1)(dn(),Ao.fragment,Fo.fragment,Ta.fragment),xu=function(e){var t,n,r=e.onSave,i=e.data,o=i.doneButton,c=i.minDurationSpanLimit,s=i.maxDurationSpanLimit,u=(0,g.KY)(),m=Pu(),p=m.state,y=m.dispatch,_=p.minDurationInput,v=p.maxDurationInput,S=p.error,E=Ae(a.useState(a.createRef()),2),f=E[0],h=E[1],D=Ae(a.useState({min:null!==(t=_.value)&&void 0!==t?t:"",max:null!==(n=v.value)&&void 0!==n?n:""}),2),T=D[0],C=D[1];a.useEffect((function(){var e,t;C({min:null!==(e=_.value)&&void 0!==e?e:"",max:null!==(t=v.value)&&void 0!==t?t:""})}),[_,v]);var I=function(){if(S)y({type:"Show Error Message"});else{if("UIPrimaryButton"===o.__typename&&o.analytics){var e=o.analytics,t=e.referrerId,n=e.linkName;u(t,n)}S||r(p)}};return a.createElement(a.Fragment,null,(null==S?void 0:S.displayError)&&a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(Ta,{data:S.errorSummary,errorCount:S.errorCount,inputErrorRef:f}))),a.createElement(Lu,{minDurationSpanLimit:c,maxDurationSpanLimit:s,durationSpanLimits:T,error:S,handleErrorInputRefUpdate:function(e){h(e)},handleChange:function(e){var t=e.target,n=t.name,a=t.value;C(Ce(Te({},T),he({},n,a))),"min"!==n?"max"===n&&y({type:"Update Maximum Value",max:a}):y({type:"Update Minimum Value",min:a})}}),"UIPrimaryButton"===o.__typename&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(ne.E,{tag:"div",type:ne.a.BUTTON,color:ne.b.SECONDARY},a.createElement(Ao,{isFullWidth:!0,onClick:I,data:o}))),a.createElement(d.rw,null,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(Ao,{isFullWidth:!0,onClick:I,data:o})))),a.createElement(d.zQ,null,a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement(b.i,{justifyContent:"end"},a.createElement(b.j,null,a.createElement(Ao,{isFullWidth:!1,onClick:I,data:o})))))))};xu.displayName="DurationSpanSelector",xu.fragment=Nu;var Mu="SearchFormDurationSpanField",Bu="".concat(Mu,"-Max"),wu="".concat(Mu,"-Min"),Wu=function(e){var t,n,r=e.action,i=e.labelTemplate,o=e.egdsElementId,s=void 0===o?"duration_form_field":o,u=e.label,m=void 0===u?"":u,p=e.leftIconId,y=void 0===p?"access_time":p,_=r.analytics,v=r.durationSpan,S=v.closeButton,E=v.title,f=Pu(),h=f.state,D=f.dispatch,b=Ae((0,U.useDialog)("duration-span-dialog"),3),T=b[0],I=b[1],A=b[2],O=(0,g.KY)(),k=a.useRef(null),G=Ae(a.useState(!1),2),P=G[0],L=G[1],N=Ae(a.useState(Ce(Te({},h),{durationSummary:i.text,shouldFireChangeEvent:!1})),2),x=N[0],M=N[1],B=(0,C.u)(v.__typename,(function(e){return e})),w=x.durationSummary,W=x.shouldFireChangeEvent;a.useEffect((function(){W&&(M((function(e){return Ce(Te({},e),{shouldFireChangeEvent:!1})})),rr(w,B))}),[w,W,B]);var H,z,Y,q=function(e,t){var n=Au(i,t);M(Ce(Te({},e),{durationSummary:n,shouldFireChangeEvent:!0}))};return"UITertiaryButton"!==S.__typename?null:a.createElement(a.Fragment,null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,a.createElement(R.g,{id:"".concat(s,"_input"),name:"".concat(s,"_input"),label:m,value:w,icon:y,onClick:function(){var e=_.referrerId,t=_.linkName;O(e,t),I.openDialog()},domRef:k}),a.createElement(V.h,{isVisible:T},a.createElement(A,null,a.createElement(V.e,{type:"full",triggerRef:k,autoFocus:!0,isVisible:!0,returnFocusOnClose:!0},a.createElement(c.b,{id:"".concat(s,"_dialog_toolbar"),toolbarType:"standard",toolbarTitle:E,toolbarTitleTag:"h2",navigationContent:{onClick:function(){var e;if("UITertiaryButton"===S.__typename&&S.analytics){var t=S.analytics,n=t.referrerId,a=t.linkName;O(n,a)}if(h.error)D({type:"Show Error Message"});else{var r,l,i=h.minDurationInput,o=h.maxDurationInput;q(h,{min:null!==(r=i.value)&&void 0!==r?r:"",max:null!==(l=o.value)&&void 0!==l?l:""}),D({type:"Reset Duration Span State",state:h}),null===(e=k.current)||void 0===e||e.focus(),I.closeDialog()}},navIconLabel:null!==(H=null==S?void 0:S.accessibility)&&void 0!==H?H:void 0,navType:"close"}}),a.createElement(V.f,{padded:!1},a.createElement(C.E,{hasRequiredFieldIndicator:!0},a.createElement(xu,{onSave:function(e){var t,n,a,r=e.minDurationInput,l=e.maxDurationInput;q(e,{min:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:"",max:null!==(a=null==l?void 0:l.value)&&void 0!==a?a:""}),null===(t=k.current)||void 0===t||t.focus(),I.closeDialog()},data:v})))))))),a.createElement(d.rw,null,a.createElement(ce.E,{isOpen:P,onDismiss:function(){var e;if(h.error)return L((function(e){return!e})),void D({type:"Show Error Message"});var t,n,a=h.minDurationInput,r=h.maxDurationInput;q(h,{min:null!==(t=a.value)&&void 0!==t?t:"",max:null!==(n=r.value)&&void 0!==n?n:""}),D({type:"Reset Duration Span State",state:h}),null===(e=k.current)||void 0===e||e.focus()},onTriggerClick:function(){L((function(e){return!e}))}},a.createElement(ce.b,null,a.createElement(R.g,{id:"".concat(s,"_input"),name:"".concat(s,"_input"),label:m,value:w,icon:y,onClick:function(){var e=_.referrerId,t=_.linkName;O(e,t)},domRef:k})),a.createElement(ce.c,{autoPosition:!0,position:ce.P.RIGHT,width:375},a.createElement(l.b,{padding:{inline:"four"}},a.createElement("div",{"data-stid":"duration-span-menu"},a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement(F.E,{size:5,tag:"h5"},E)),a.createElement(xu,{onSave:function(e){var t,n,a,r=e.minDurationInput,l=e.maxDurationInput;q(e,{min:null!==(n=r.value)&&void 0!==n?n:"",max:null!==(a=l.value)&&void 0!==a?a:""}),L((function(e){return!e})),null===(t=k.current)||void 0===t||t.focus()},data:v}))))))),a.createElement("input",{type:"hidden","data-stid":Bu,name:"".concat(Bu,"-").concat(s),value:null!==(z=null===(t=x.maxDurationInput)||void 0===t?void 0:t.value)&&void 0!==z?z:""}),a.createElement("input",{type:"hidden","data-stid":wu,name:"".concat(wu,"-").concat(s),value:null!==(Y=null===(n=x.minDurationInput)||void 0===n?void 0:n.value)&&void 0!==Y?Y:""}))},Uu=(0,u.J1)(un(),xu.fragment),Hu=function(e){var t=e.data,n=t.egdsElementId,r=t.label,l=t.labelTemplate,i=t.leftIcon,o=t.action;return"OpenDurationSpanAction"!==(null==o?void 0:o.__typename)||"EGDSBasicLocalizedText"!==(null==l?void 0:l.__typename)?null:a.createElement(Gu,{durationSpan:o.durationSpan},a.createElement(Wu,{egdsElementId:n,label:null!=r?r:"",labelTemplate:l,leftIconId:null==i?void 0:i.id,action:o}))};Hu.displayName="SearchFormDurationSpanField",Hu.fragment=Uu;var zu,Vu=function(e){return e.DESTINATION="destination_form_field",e.DATES="EGDSDateRangePicker",e.DURATION="DurationSpanSelector",e}(Vu||{}),Yu=function(e,t,n){var a,r=Ae(n.split("-"),2),l=r[0],i=r[1],o=(he(a={},t[0].key,l),he(a,t[1].key,i),a);return t.reduce((function(e,t){var n=t.key,a="${".concat(n,"}");return e.replace(a,o[n])}),e)},qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(n,e);var t=Ge(n);function n(e){var a;return ge(this,n),a=t.call(this,e),xn(_e(a),"config"),xn(_e(a),"ESSCategories"),xn(_e(a),"setTypeaheadCategories",(function(){var e;a.ESSCategories={},null===(e=a.config.essCategories)||void 0===e||e.forEach((function(e){a.ESSCategories[e.key]=e.value}))})),xn(_e(a),"constructURL",(function(e){var t,n="".concat(a.config.domain,"/api/v2/suggest"),r={domainId:a.config.domainId,lob:a.config.lob,maxResults:a.getMaxResults(e),siteid:a.config.siteId,locale:a.config.locale};return"".concat(n,"?query=").concat(e,"&").concat((t=r,Object.entries(t).map((function(e){var t=Ae(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(encodeURIComponent(a))})).join("&")))})),xn(_e(a),"fetchResponse",(function(e){return fetch(a.constructURL(e),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(a.config.requestBody)}).then((function(e){return e.json()}))})),xn(_e(a),"getMaxResults",(function(e){if(!e){if("CRUISE_SHIP"===a.config.domainId)return 25;if("CRUISE_PORT"===a.config.domainId)return 25}return a.config.maxResults})),xn(_e(a),"adaptResponseToTypeaheadResults",(function(e){var t,n;return null===(n=e.suggestions)||void 0===n||null===(t=n.reduce)||void 0===t?void 0:t.call(n,(function(e,t){return function(e,t){var n,a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l="CRUISE_PORT"===t.domainId?t.names.primaryDisplayName:t.names.displayName,i=function(e){switch(e.domainId){case"CRUISE_SHIP":var t;return(null===(t=e.metadata)||void 0===t?void 0:t.cruiseLineName)||"";case"CRUISE_PORT":return e.names.secondaryDisplayName||"";default:return""}}(t),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"CRUISE_PORT"===e.domainId?e.metadata?e.metadata.portDeepLink:"":t?e.ids.odysseusId:e.ids.id}(t,r),c={data:{type:null===(n=t.metadata)||void 0===n?void 0:n.type,value:o},icon:(a=t.domainId,"CRUISE_SHIP"===a?"lob_cruise":"place"),name:l,subtext:i,title:l,value:l};return e.push(c),25===e.length&&"CRUISE_PORT"===t.domainId&&e.forEach((function(e){e.data.type="TOP_POPULAR_DEPARTURE_PORTS"})),e}(e,t,a.config.useOdysseus)}),[])})),a.config=e,a}return n}(Q.E),ju="CRUISES",$u={client:"",dest:!1,expuserid:-1,features:"",guid:"",locale:"",maxResults:25,personalize:!1,regionType:2047,siteId:1,lob:ju,domain:"",domainId:"",requestBody:null,essCategories:void 0},Ku={grow:5,minWidth:200,maxWidth:"full_width"},Qu={EGDSSearchFormLocationField:{minWidth:200,maxWidth:288,grow:5},EGDSSearchFormDatePickerField:Ku,SearchFormDurationSpanField:Ku,EGDSSearchFormTravelersField:Ku,EGDSSearchFormButton:{grow:0},default:Ku},Ju=(he(zu={},d.OB.SMALL,Ce(Te({},Qu),{EGDSSearchFormLocationField:Ku,EGDSSearchFormButton:{grow:1,minWidth:315},default:Ku})),he(zu,d.OB.MEDIUM,Ce(Te({},Qu),{EGDSSearchFormButton:{grow:0,minWidth:32}})),he(zu,d.OB.LARGE,Ce(Te({},Qu),{EGDSSearchFormTravelersField:{minWidth:200,maxWidth:200,grow:5}})),he(zu,d.OB.EXTRA_LARGE,Qu),zu),Xu=[Co,Pl,Hu,Mc,Pa],Zu=(0,u.J1)(mn(),Co.fragment,Pl.fragment,Pa.fragment,Hu.fragment,Ta.fragment,Wc.fragment,Mc.fragment,Ji),em={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},tm=he({},Co.displayName,{}),nm=function(e){var t=e.viewSize,n=e.fields,r=e.errorState,l=e.defaultValidationProps,i=e.isExperienceAPIDriven;return a.createElement(b.i,{alignContent:"end",alignItems:"start",justifyContent:"center",wrap:"wrap",space:"three"},n.map((function(e,n){var o=e.__typename,c=Xu.find((function(e){return e.displayName===o}));if(!c)return null;var s,d,u=null!==(s=(d=Ju[t])[o])&&void 0!==s?s:d.default,m=r.fieldsWithErrors.find((function(e){return e.__typename===o})),p=Ce(Te({},l),{fieldError:m}),y=Ce(Te({},p,tm[o]),{isExperienceAPIDriven:i});return a.createElement(b.j,Te({key:"field_".concat(o,"_").concat(n)},u),a.createElement("div",null,a.createElement(c,Te({data:e},y))))})))},am=function(e){var t=e.data,n=e.onFieldChange,r=e.onSubmit,i=e.triggerSubmitOnFieldChange,o=e.redirectToSearchResultOnSubmit,c=e.enableBffForSearchLocation,s=(0,p.R)().context,u=s.identity,m=s.locale,y=s.siteId,_=(u||{}).duaid,v=(0,I.useLocalization)(),S=Ae(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),g=S[0],E=S[1],f=a.useRef(null),h=Ae(a.useState(em),2),D=h[0],b=h[1],T=t.egdsElementId,A=t.elements,O=t.search,k=t.actionURL,R=t.errorSummary,G=t.playback,P=t.expertAdviceInfo,L=t.searchLocation,N=t.useOdysseus,x=Ae(a.useState(G),2),M=x[0],B=x[1],w=Ae(a.useState(!0),2),W=w[0],U=w[1];a.useEffect((function(){B(G)}),[G]);var H=null!=T?T:"cruise_search_form",z=O?Fe(A).concat([O]):A,V={setFieldRefByTypename:a.useCallback((function(e,t){E((function(n){return Ce(Te({},n),he({},e,t))}))}),[])},Y=function(e,t,n,a){var r,l=e.typeaheadAdapterDetails,i=e.useOdysseus,o=e.elements.find((function(e){return"EGDSSearchFormLocationField"===e.__typename}));if("EGDSSearchFormLocationField"===(null==o?void 0:o.__typename)&&"OpenTypeaheadAction"===(null===(r=o.action)||void 0===r?void 0:r.__typename)){var c,s,d,u,m,p,y,_,v,S,g,E=o.action.info,f=Number(E.expUserId)||-1,h=Ce(Te({},$u),{expuserid:f,locale:t,guid:n,siteId:a});return new qu(Ce(Te({},h),{client:null!==(c=E.client)&&void 0!==c?c:"",dest:null!==(s=E.isDestination)&&void 0!==s&&s,features:null!==(d=E.typeaheadFeatures)&&void 0!==d?d:"",maxResults:null!==(u=E.maxNumberOfResults)&&void 0!==u?u:25,personalize:null!==(m=E.personalize)&&void 0!==m&&m,regionType:null!==(p=E.regionType)&&void 0!==p?p:2047,lob:null!==(y=E.lineOfBusiness)&&void 0!==y?y:ju,domain:null!==(_=E.domain)&&void 0!==_?_:"",domainId:null!==(v=null==l?void 0:l.domainId)&&void 0!==v?v:"",requestBody:null!==(S=null==l?void 0:l.adapterRequest)&&void 0!==S?S:null,essCategories:null!==(g=null==l?void 0:l.categoryDetails)&&void 0!==g?g:void 0,useOdysseus:null!=i&&i}))}return new qu(Ce(Te({},$u),{locale:t,guid:n,siteId:a}))}(t,m,_,y);Y.setTypeaheadCategories(),tm[Co.displayName]={adapter:Y};var q=D.displayErrorSummary,j=D.errorCount,$=D.errorLinkReference,K=R&&q,Q={fields:z,errorState:D,defaultValidationProps:V,searchLocationAnalytics:null==L?void 0:L.analytics,isExperienceAPIDriven:c};return a.createElement(C.E,{ref:f,id:H,name:H,method:"GET",action:k,onFieldChange:function(e,t){var a;(n&&n(e,t),i)&&(null===(a=f.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));B((function(t){if(!t)return null;var n,a,r,l,i,o,c,s,d=Vu.DESTINATION,u=Vu.DATES,m=Vu.DURATION,p=t.primary,y=t.secondaries,_=e.value,S=e.name===d?Ce(Te({},p),{text:_}):p,g=Ae(y,2),E=g[0],f=g[1],h=e.name===u&&"EGDSBasicLocalizedText"===E.__typename?Ce(Te({},E),{text:nr(_,v),template:E.template,accessibilityTemplate:Yu(E.template,E.models,nr(_,v)),models:E.models,egdsElementId:E.egdsElementId}):E,D=e.name===m&&"EGDSCardinalLocalizedText"===f.__typename?Ce(Te({},f),{text:_,accessibilityText:(n=f.templates,a=f.models,r=_.substring(0,_.lastIndexOf(" ")),l=Ae(r.split(""),2),i=l[0],o=l[1],c=1===Number(o)?n[Number(o)].template:n[4].template,s="".concat(i," - ").concat(o),Yu(c,a,s)),models:f.models,templates:f.templates,egdsElementId:f.egdsElementId}):f;return Ce(Te({},t),{primary:S,secondaries:[h,D]})}))},onSubmit:N?function(e){e.preventDefault();var t=Array.from(e.currentTarget.elements),n=Jd("CRUISES_ODYSSEUS",t),a=e.currentTarget.action.includes("?")?"&":"?";window.location.href="".concat(e.currentTarget.action).concat(a).concat(n)}:function(e){var t,n=Array.from(e.currentTarget.elements);if(!(null===(t=n.find(Qc("EGDSSearchFormLocationField-Location-destination_form_field")))||void 0===t?void 0:t.value))return b({fieldsWithErrors:[{__typename:"EGDSSearchFormLocationField",isValid:!1}],errorCount:1,displayErrorSummary:!0,errorLinkReference:g.EGDSSearchFormLocationField}),void e.preventDefault();b(em);var a=Jd("CRUISES",n);if(r){var l=function(e){var t=(0,de.zD)(e);if(t.primarySearchCriteria.cruise)return{primary:t.primarySearchCriteria.cruise,secondary:t.secondaryCriteria}}(new URLSearchParams(a));r(e,{cruiseSearchCriteriaInput:l})}o&&(e.preventDefault(),window.location.href="".concat(e.currentTarget.action).concat(a))},hasRequiredFieldIndicator:!0},P&&a.createElement(l.b,{padding:{blockend:"two"}},a.createElement(F.b,{tag:"p"},P)),K&&a.createElement(Ta,{data:R,errorCount:j,inputErrorRef:$}),a.createElement(l.b,{margin:{blockstart:K?"two":void 0}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,M?a.createElement(Wc,{data:M,display:W,onDisplayToggle:function(e){U(e)}},a.createElement(nm,Te({viewSize:d.OB.SMALL},Q))):a.createElement(nm,Te({viewSize:d.OB.SMALL},Q))),a.createElement(d.rw,null,a.createElement(nm,Te({viewSize:d.OB.MEDIUM},Q))),a.createElement(d.zQ,null,a.createElement(nm,Te({viewSize:d.OB.LARGE},Q)))))))};am.fragment=Zu,am.displayName="CruiseSearchForm";var rm={SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE")},lm={linkName:"Cruises Search Form Fallback Presented",referrerId:"Web.Cruises.Search.Form.Fallback.Presented"},im={linkName:"Cruises Search Form Presented",referrerId:"Web.Cruises.Search.Form.Presented"},om=(0,u.J1)(pn(),am.fragment),cm={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},sm={rows:[{type:"primary"}]},dm=function(e){var t=e.inputs,n=e.skipSsr,r=e.onFieldChange,l=e.onSubmit,i=e.triggerSubmitOnFieldChange,o=e.batchKey,c=e.includePlayback,s=e.skipQuery,u=void 0!==s&&s,_=e.redirectToSearchResultOnSubmit,v=e.enableBffForSearchLocation,S=e.pageLocation,E=(0,p.R)().context,f=(0,y.useLoggerEvents)(rm),h=Ce(Te({},t),{context:E,includePlayback:!!c,pageLocation:S}),D=Ae(a.useState(u),2),b=D[0],T=D[1],C=(0,m.I)(om,{context:{batchKey:o},variables:h,ssr:!n,skip:b}),I=C.error,A=C.loading,O=C.previousData,F=C.data;if(a.useEffect((function(){T(u&&!A)}),[u,A]),A&&!F)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,Te({},cm))),a.createElement(d.rw,null,a.createElement(Zn,Te({},sm))));if(!F&&O&&(F=O),I&&f.SEARCH_TOOLS_CRUISES_SEARCH_FORM_QUERY_FAILURE.log({name:I.name,error:new Error(I.message)}),I||!F){var k={__typename:"CruiseSearchForm",egdsElementId:"cruise_search_form",actionURL:"/Cruise-Search",typeaheadAdapterDetails:Iu,errorSummary:_u,elements:[vu,hu,bu,Tu],search:Cu,playback:null,expertAdviceInfo:"For expert cruise advice, call 1-800-916-8586.",searchLocation:ea,useOdysseus:!1};if("CruiseSearchForm"===k.__typename)return a.createElement(Yn,null,a.createElement(g.ee,Te({},lm),a.createElement(am,{enableBffForSearchLocation:v,data:k,onFieldChange:r,onSubmit:l,triggerSubmitOnFieldChange:i,redirectToSearchResultOnSubmit:_})))}return F&&"CruiseSearchForm"===F.searchForm.cruise.__typename?a.createElement(g.ee,Te({},im),a.createElement(am,{enableBffForSearchLocation:v,data:F.searchForm.cruise,onFieldChange:r,onSubmit:l,triggerSubmitOnFieldChange:i,redirectToSearchResultOnSubmit:_})):null};dm.displayName="sharedui-CruiseSearchForm";var um=(0,u.J1)(yn()),mm="EGDSSearchFormInputFieldWithSelection",pm="".concat(mm),ym=function(e){var t,n,r,l=e.data,i=e.trigger,o=e.triggerType,c=i.egdsElementId,s=i.leftIcon,u=i.label,m=l.analytics,p=l.options.filter((function(e){return"EGDSBasicOption"===e.__typename})).map((function(e){return e})),y=(0,g.KY)(),_=Ae(a.useState(!1),2),v=_[0],S=_[1],E=Ae(a.useState(p.findIndex((function(e){return e.selected}))),2),f=E[0],h=E[1],D=null!==(t=p.find((function(e,t){return t===f})))&&void 0!==t?t:i,b=D.label,T=D.value,I=Ae(a.useState(null!=T?T:""),2),A=I[0],O=I[1],k=a.createRef(),G=a.createRef(),L=a.createRef(),N="".concat(pm,"-").concat(c),x=(0,C.u)(N,(function(e){return e})),M=a.useCallback((function(e){e&&S((function(e){return!e}));var t=m.referrerId,n=m.linkName;y(t,n)}),[m,y]),B=function(){S(!1)},w=(0,C.u)(N,(function(e){return O(e.target.value),e})),W=function(){return p.map((function(e,t){return a.createElement(Z.a,{selected:t===f,key:e.label},a.createElement(Z.b,null,a.createElement(P.b,{role:"menuitemradio",onClick:function(e){return function(e,t){var n,a,r,l,i,o,c,s;h(e),S(!1),rr(p[e].value,x),y(null!==(c=null===(a=p[e])||void 0===a||null===(n=a.changeAnalytics)||void 0===n?void 0:n.referrerId)&&void 0!==c?c:"",null!==(s=null===(l=p[e])||void 0===l||null===(r=l.changeAnalytics)||void 0===r?void 0:r.linkName)&&void 0!==s?s:""),null==k||null===(i=k.current)||void 0===i||i.focus(),null===(o=L.current)||void 0===o||o.focus(),t.preventDefault()}(t,e)}},e.label)),a.createElement(F.c,{size:300},e.label))}))},U=a.createElement(R.i,{name:N,label:null!=u?u:"",icon:null!==(n=null==s?void 0:s.id)&&void 0!==n?n:"",domRef:G,onChange:w,"aria-label":null!=u?u:""},p.map((function(e){var t=e.label,n=e.value;return a.createElement("option",{key:n,label:t,value:n},n)}))),H=a.createElement(q.E,{name:N,id:c,triggerPill:!0,selected:!0,toggleState:v,onClick:function(){return M(!0)},domRef:L},null!==(r=b!==u?b:T)&&void 0!==r?r:""),z=function(e){return a.createElement(ce.E,{id:"".concat(c,"_menu"),isOpen:v,onDismiss:B,disableBodyClickHandler:!1},a.createElement(ce.b,null,H),a.createElement(ce.c,{position:ce.P.LEFT,width:e},a.createElement(Z.E,null,W())))};return a.createElement(a.Fragment,null,"pill"===o&&a.createElement(d.LM,null,a.createElement(d.NP,null,z(210)),a.createElement(d.rw,null,z(260))),"selector"===o&&U,a.createElement("input",{type:"hidden","data-testid":N,name:N,value:"selector"===o?A:null!=T?T:""}))};ym.displayName=mm,ym.fragment=um;var _m=(0,u.J1)(_n(),dr.fragment,ym.fragment),vm=function(e){var t,n=e.data,r=e.triggerType;return"EGDSSearchFormSelectAction"===(null===(t=n.action)||void 0===t?void 0:t.__typename)&&r?a.createElement(ym,{data:n.action,trigger:n,triggerType:r}):null};vm.displayName="EGDSSearchFormInputField",vm.fragment=_m;var Sm={egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},gm=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-car",primary:"Car",selected:e,selectedText:"Car added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.car.deselected",__typename:"ClientSideAnalytics"}}},Em=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-flight",primary:"Flight",selected:e,selectedText:"Flight added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.flight.deselected",__typename:"ClientSideAnalytics"}}},fm=function(e){return{__typename:"EGDSBasicPill",accessibility:null,disabled:!1,name:"package-type-selector-stay",primary:"Stay",selected:e,selectedText:"Stay added",value:null,icon:null,selectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.selected",__typename:"ClientSideAnalytics"},deselectAnalytics:{linkName:"Packages - Pill selected or deselected",referrerId:"Web.package.selection.stay.deselected",__typename:"ClientSideAnalytics"}}},hm=[{__typename:"EGDSSearchFormLocationsField"},{__typename:"EGDSSearchFormDatePickerField"},{__typename:"EGDSSearchFormTravelersField"}],Dm=new Map([["FLIGHT_HOTEL",{car:gm(!1),flight:Em(!0),stay:fm(!0),__typename:"PackagesSearchFormSelection"}],["FLIGHT_CAR",{car:gm(!0),flight:Em(!0),stay:fm(!1),__typename:"PackagesSearchFormSelection"}],["FLIGHT_HOTEL_CAR",{car:gm(!0),flight:Em(!0),stay:fm(!0),__typename:"PackagesSearchFormSelection"}],["HOTEL_CAR",{car:gm(!0),flight:Em(!1),stay:fm(!0),__typename:"PackagesSearchFormSelection"}]]),bm=["stay","flight","car"],Tm=[{stay:!0,flight:!0,car:!0,type:"FLIGHT_HOTEL_CAR"},{stay:!0,flight:!0,car:!1,type:"FLIGHT_HOTEL"},{stay:!1,flight:!0,car:!0,type:"FLIGHT_CAR"},{stay:!0,flight:!1,car:!0,type:"HOTEL_CAR"}],Cm=(0,u.J1)(vn(),Kr.fragment),Im=function(e){var t,n,r=e.data,l=e.onPackageTypeChange,i=r.car,o=r.flight,c=r.stay,s={stay:!!(null==c?void 0:c.selected),flight:!!(null==o?void 0:o.selected),car:!!(null==i?void 0:i.selected)},d=Ae(a.useState(Ce(Te({},s),{type:null!==(n=null===(t=Tm.find((function(e){return bm.every((function(t){return e[t]===s[t]}))})))||void 0===t?void 0:t.type)&&void 0!==n?n:null})),2)[1],u=function(e){var t=e.target,n=t.name,a=t.checked,r=n.split("package-type-selector-")[1];d((function(e){var t,n,i=Ce(Te({},e),he({},r,a)),o=null!==(n=null===(t=Tm.find((function(e){return bm.every((function(t){return e[t]===i[t]}))})))||void 0===t?void 0:t.type)&&void 0!==n?n:null;return null==l||l(o),Ce(Te({},i),{type:o})}))};if(!c||!o)return null;var m=i?[c,o,i]:[c,o];return a.createElement(a.Fragment,null,m.map((function(e){return a.createElement(Kr,{key:e.name,data:e,onChange:u})})))};Im.displayName="PackagesSearchFormSelection",Im.fragment=Cm;var Am=(0,u.J1)(Sn(),Im.fragment,vm.fragment,Kr.fragment),Om=function(e){var t,n=e.inputs,r=e.skipSsr,i=e.batchKey,o=e.onFieldChange,c=e.onCabinClassSelect,s=e.onPackageTypeChange,d=e.handleDirectFlightsOnlySwitch,u=e.showCabinClass,y=e.showDirectFlightsOnly,_=e.skipQuery,v=n.includePackageType,S=n.packageType,g=(0,p.R)().context,E=Ce(Te({},n),{context:g}),f=(0,m.I)(Am,{context:{batchKey:i},variables:E,ssr:!r,skip:_}),h=f.data,D=f.error,I=f.loading,A=f.previousData||h;if(a.useEffect((function(){if(c){var e,t="PackagesSearchForm"===(null==A?void 0:A.searchForm.packages.__typename)?A.searchForm.packages.elements.find((function(e){var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null===(t=e.action)||void 0===t?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==t?void 0:t.__typename)&&"EGDSSearchFormSelectAction"===(null===(e=t.action)||void 0===e?void 0:e.__typename)){var n,a="".concat(pm,"-").concat(t.egdsElementId),r=t.action.options.find((function(e){return e.selected}));c({name:a,value:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:""})}}}),[null==A?void 0:A.searchForm,c]),a.useEffect((function(){var e,t=(null!==(e=null==A?void 0:A.searchForm)&&void 0!==e?e:{}).packages;"PackagesSearchForm"===(null==t?void 0:t.__typename)&&t.directFlightsOnly&&d&&d(t.directFlightsOnly.selected)}),[null==A?void 0:A.searchForm,d]),I&&!A)return a.createElement(l.b,{padding:{blockstart:"three",blockend:"three"}},a.createElement("div",null,a.createElement(T.b,{animation:!0,type:"secondary"})));if(!D&&A||(A=function(e,t){var n=null,a=Fe(hm);return t&&e&&(n=Dm.get(e)||null),e&&"HOTEL_CAR"!==e&&(a=Fe(hm).concat([Sm])),{searchForm:{packages:{__typename:"PackagesSearchForm",packageSelection:n,elements:a,directFlightsOnly:null},__typename:"SearchFormResults"}}}(S,v)),"PackagesSearchForm"!==(null==A||null===(t=A.searchForm)||void 0===t?void 0:t.packages.__typename))return null;var O=A.searchForm.packages.elements,F=A.searchForm.packages.directFlightsOnly;return a.createElement(l.b,{padding:{blockend:"three"}},a.createElement(b.i,{space:"two",wrap:"wrap"},v&&A.searchForm.packages.packageSelection&&a.createElement(b.j,null,a.createElement(C.E,{onFieldChange:function(e,t){null==o||o(e,t)},"data-stid":"package-type-selector"},a.createElement(Im,Ce(Te({},e),{data:A.searchForm.packages.packageSelection,onPackageTypeChange:s})))),u&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(C.E,{onFieldChange:function(e){null==c||c(e)}},O.map((function(e,t){return"EGDSSearchFormInputField"===e.__typename&&a.createElement(vm,{key:t,data:e,triggerType:"pill"})}))))),F&&y&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(Kr,{data:F,onChange:function(e){null==d||d(e.target.checked)}})))))};Om.displayName="sharedui-PackagesOptions";var Fm=[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],km=[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],Rm=[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],Gm={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:Fm,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},Pm={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Packages.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},Lm={noSelectionMessage:{body:"To start building your trip, choose two or more items",heading:"Please select two or more items",icon:{id:"search",title:null,token:"icon__search",description:"search",size:null,__typename:"Icon"},__typename:"UIEmptyState"},__typename:"PackagesSearchFormSelection"},Nm=new Map([["FLIGHT_CAR","fc"],["FLIGHT_HOTEL_CAR","fhc"],["FLIGHT_HOTEL","fh"],["HOTEL_CAR","hc"]]),xm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HOTEL_CAR";return{__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!0,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Nm[e]||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Nm[e]||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.package.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.package.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null}},Mm=function(e){return{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select an origin",validations:[{errorMessage:"Please select an origin",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Packages.Search",drivable:!1,isDestination:!1,lineOfBusiness:"PACKAGES",maxNumberOfResults:8,packageType:Nm.get(e)||"hc",personalize:!0,regionType:863,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:Nm.get(e)||"hc",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.package.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.package.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:xm(e),horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"package.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]}},Bm=new Date,wm=new Date(Bm.getFullYear(),Bm.getMonth(),Bm.getDate()+14),Wm=new Date(wm.getFullYear(),wm.getMonth(),wm.getDate()+1),Um=new Date(Bm.getFullYear(),Bm.getMonth(),Bm.getDate()+332),Hm=new Date(Bm.getFullYear(),Bm.getMonth(),Bm.getDate()+2),zm=wm.getMonth()+1,Vm=Wm.getMonth()+1,Ym={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date-range-select",label:"Dates",placeholder:"Dates",errorMessage:null,validations:[{errorMessage:"Dates must be no more than 29 days apart",__typename:"EGDSMaxLengthInputValidation"}],action:{accessibility:null,analytics:{linkName:"Packages - Calendar Selection",referrerId:"Web.packages.calendar.selection",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:wm.getDate(),month:zm,year:wm.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:Wm.getDate(),month:Vm,year:Wm.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:Hm.getDate(),month:Hm.getMonth(),year:Hm.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:Um.getDate(),month:Um.getMonth(),year:Um.getFullYear(),__typename:"Date"},submitButtonAnalytics:{linkName:"Packages - Calendar Submit",referrerId:"Web.packages.calendar.submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Packages.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Packages.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"Packages - Calendar Start Date",referrerId:"Web.packages.calendar.start.date.click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"Packages - Calendar End Date",referrerId:"Web.packages.calendar.end.date.click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},qm={__typename:"EGDSSearchFormInputField",egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.package.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.package.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.package.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.package.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.package.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"}},jm=[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant in a lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant in a lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Packages.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:Fm,__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Packages.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],$m=function(e,t){return{label:t||e,value:e,egdsElementId:null,changeAnalytics:{linkName:"Travelers age update",referrerId:"Web.Packages.Traveler.Child.Update.Age.".concat(e),__typename:"ClientSideAnalytics"},__typename:"EGDSBasicOption"}},Km={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$m("2"),$m("3"),$m("4"),$m("5"),$m("6"),$m("7"),$m("8"),$m("9"),$m("10"),$m("11"),$m("12"),$m("13"),$m("14"),$m("15"),$m("16"),$m("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in this room",decreaseTextTemplate:null,increaseText:"Increase the number of infants in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants",max:5,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:jm,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:Rm,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:km,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Qm={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:null,action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$m("2"),$m("3"),$m("4"),$m("5"),$m("6"),$m("7"),$m("8"),$m("9"),$m("10"),$m("11"),$m("12"),$m("13"),$m("14"),$m("15"),$m("16"),$m("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants",decreaseTextTemplate:null,increaseText:"Increase the number of infants",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Infants on lap",max:3,min:0,step:1,subLabel:"Younger than 2",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Under 1",value:"0",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:null,changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:jm,__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:km,secondaryTemplates:null,text:"2 travelers",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Jm={__typename:"EGDSSearchFormTravelersField",action:{analytics:{linkName:"Packages - Travelers Selection",referrerId:"Web.packages.travelers.selection",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:null,primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers add room",referrerId:"Web.Packages.Traveler.Add.Room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:null,primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"",token:"icon__close",title:null,__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Packages.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},doneButton:{egdsElementId:null,primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Packages.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},infantSeatSelection:{airlineAgeRule:{text:"Airline age rules",action:{accessibility:null,target:"INTERNAL",resource:{value:"https://www.expedia.com/p/info-main/h_fw_default%3Frhtx=HTX_FLTSRCH_RT%23travs",__typename:"HttpURI"},analytics:{linkName:"Packages - Airline Age Rules",referrerId:"Web.packages.airline.age.rules",__typename:"ClientSideAnalytics"},__typename:"UILinkAction"},icon:null,iconPosition:null,__typename:"EGDSStandardLink",egdsElementId:null},groupName:"InfantSeating",labelTemplate:{text:"Where will the infants sit?",models:[{key:"infantCount",source:"infantCount",__typename:"TemplateModel"}],templates:[{category:"ONE",template:"Where will the infant sit?",__typename:"CardinalTemplate"},{category:"OTHER",template:"Where will the infants sit?",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},options:[{label:"On lap",value:"lap",__typename:"EGDSInfantSeatRadioButton"},{label:"In seat",value:"seat",__typename:"EGDSInfantSeatRadioButton"}],selected:"lap",__typename:"EGDSTravelerInfantSeatSelection"},maxRoomCount:6,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults in this room",decreaseTextTemplate:null,increaseText:"Increase the number of adults in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Adults",max:6,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Packages - Step input decrease",referrerId:"Web.packages.step.input.decrease",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Packages - Step input increase",referrerId:"Web.packages.step.input.increase",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children in this room",decreaseTextTemplate:null,increaseText:"Increase the number of children in this room",increaseTextTemplate:null,egdsElementId:null,__typename:"EGDSTravelerStepInput",label:"Children",max:5,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[$m("0","Under 1"),$m("1"),$m("2"),$m("3"),$m("4"),$m("5"),$m("6"),$m("7"),$m("8"),$m("9"),$m("10"),$m("11"),$m("12"),$m("13"),$m("14"),$m("15"),$m("16"),$m("17")],egdsElementId:null,value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:null,primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Packages.Traveler.Remove.Room",referrerId:"Web.Travelers remove room",__typename:"ClientSideAnalytics"},action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],title:"Travelers",validations:jm,__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:Rm,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:km,__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1},Xm=(0,u.J1)(gn(),ka),Zm=function(e){var t=e.onClick,n=e.data,r=n.egdsElementId,l=n.primary,i=n.analytics,o=null!=r?r:"search_form_secondary_button",c=(0,g.KY)(),s=a.useCallback((function(){if(i){var e=i.referrerId,n=i.linkName;c(e,n)}t()}),[i,t,c]);return a.createElement(ue.E,{id:o,onClick:s},l)};Zm.displayName="SearchToolsEGDSSecondaryButton",Zm.fragment=Xm;var ep=(0,u.J1)(En(),Zm.fragment,Co.fragment),tp="EGDSSearchFormLocationsField",np=function(e){var t,n,r,l,o,c=e.originRef,s=e.destinationRef,u=e.data,m=e.adapter,p=e.index,y=e.skipReflection,_=e.onOpenLocationField,v=e.onLocationsSelection,S=e.additionalAdapterFields,E=e.searchLocationAnalytics,f=e.isExperienceAPIDriven,h=(0,g.KY)(),D=(0,i.k)(),b=D.state,T=D.dispatch,C=u.origin,I=u.destination,A=u.validations,O=c.originFieldError,F=c.setFieldRefByTypename,k=s.destinationFieldError,G=s.setFieldRefByTypename,P=b.destination,L=b.origin,N=Ae(a.useState(!y&&L?L:{term:null!==(r=C.value)&&void 0!==r?r:"",data:{regionId:"",regionNames:{shortName:""},hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""}}}),2),x=N[0],M=N[1],B=Ae(a.useState(!y&&P?P:{term:null!==(l=I.value)&&void 0!==l?l:"",data:{regionId:"",regionNames:{shortName:""},hierarchyInfo:{airport:{airportCode:""}},location:{lat:"",long:""}}}),2),w=B[0],W=B[1],U=function(e){var t,n;e&&"UISecondaryButton"===(null==u||null===(t=u.horizontalSwapper)||void 0===t?void 0:t.__typename)&&u.horizontalSwapper.analytics?h(u.horizontalSwapper.analytics.referrerId,u.horizontalSwapper.analytics.linkName):!e&&"UISecondaryButton"===(null==u||null===(n=u.verticalSwapper)||void 0===n?void 0:n.__typename)&&u.verticalSwapper.analytics&&h(u.verticalSwapper.analytics.referrerId,u.verticalSwapper.analytics.linkName)},H=function(){y||(T({type:"UPDATE_DESTINATION",location:x.data?x:Ce(Te({},x),{data:{}})}),T({type:"UPDATE_ORIGIN",location:w.data?w:Ce(Te({},w),{data:{}})})),M(Te({},w)),W(Te({},x))},z=function(e){var t,n,a;(M(e),v)&&v({term:e.term,data:Ce(Te({},e.data),{origin:(null===(t=e.data)||void 0===t?void 0:t.regionNames)?e.data.regionNames.shortName:null!==(a=null===(n=e.data)||void 0===n?void 0:n.primaryText)&&void 0!==a?a:e.term,destination:w.term,index:p})})},V=function(e){var t,n,a;(W(e),v)&&v({term:e.term,data:Ce(Te({},e.data),{origin:x.term,destination:(null===(t=e.data)||void 0===t?void 0:t.regionNames)?e.data.regionNames.shortName:null!==(a=null===(n=e.data)||void 0===n?void 0:n.primaryText)&&void 0!==a?a:e.term,index:p})})},Y={adapter:m,index:p,onOpenLocationField:_,additionalAdapterFields:S,skipReflection:y,searchLocationAnalytics:E,isExperienceAPIDriven:f},q=null!==(o=null==A||null===(t=A.find((function(e){return"EGDSSameValueInputValidation"===e.__typename})))||void 0===t?void 0:t.errorMessage)&&void 0!==o?o:"",j=a.createElement(Co,Ce(Te({},Y),{additionalAdapterFields:Ce(Te({},S),{trending:!1}),setFieldRefByTypename:F,fieldError:O,data:C,onSelection:z,selection:x,onLocationsSelection:z,searchLocationAnalytics:E})),$=(null==k||null===(n=k.validations)||void 0===n?void 0:n.sameLocationSelected)?q:void 0,K=a.createElement(Co,Ce(Te({},Y),{setFieldRefByTypename:G,fieldError:k,locationsErrorText:$,data:I,onSelection:V,selection:w,onLocationsSelection:V,searchLocationAnalytics:E})),Q=function(e){var t,n;return"UISecondaryButton"===(null===(t=e.horizontalSwapper)||void 0===t?void 0:t.__typename)&&e.horizontalSwapper.accessibility?e.horizontalSwapper.accessibility:"UISecondaryButton"===(null===(n=e.verticalSwapper)||void 0===n?void 0:n.__typename)&&e.verticalSwapper.accessibility?e.verticalSwapper.accessibility:void 0}(u);return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(R.j,{startInput:j,isHorizontalSwapper:!1,onSwapButtonClick:function(){H(),U(!1)},endInput:K,a11ySwapButtonLabel:Q})),a.createElement(d.rw,null,a.createElement(R.j,{startInput:j,onSwapButtonClick:function(){H(),U(!0)},endInput:K,a11ySwapButtonLabel:Q})))};np.displayName=tp,np.fragment=Ce(Te({},ep),{__typename:tp});var ap=function(e){var t=e.children;return a.createElement(h.E,{columns:{small:2,medium:12}},a.createElement(h.a,{colSpan:{small:2,medium:4}},a.createElement("div",null,a.createElement(l.b,{padding:{blockstart:"three"}},a.createElement("div",null,t)))))},rp=(0,u.J1)(fn(),Pl.fragment,Pl.fragment),lp=function(e){var t,n=e.data,r=e.setFieldRefByTypename,l=e.fieldError,i=n.addPartialStay,o=n.dates,c=n.errorMessage,s=Ae(a.useState(null!==(t=null==i?void 0:i.state)&&void 0!==t?t:"UNCHECKED"),2),d=s[0],u=s[1],m=o&&a.createElement("div",{"data-stid":"partial-stay-date-field"},a.createElement(ap,null,a.createElement(Pl,{skipReflection:!0,data:o,fieldError:l,setFieldRefByTypename:function(e,t,n){r("".concat(e,"PartialStay"),t,n)},overrideErrorMessage:c})));return a.createElement(a.Fragment,null,i&&a.createElement(zr,{onChange:function(e){u(e.target.checked?"CHECKED":"UNCHECKED")},data:i}),"CHECKED"===d&&m)};lp.displayName="SearchFormPartialStay",lp.fragment=rp;var ip,op,cp,sp=function(e){return e.ORIGIN="origin_select",e.DESTINATION="destination_select",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSRoomsTravelerSelector",e.CABIN_CLASS="EGDSSearchFormInputFieldWithSelection-cabin_class",e}(sp||{}),dp={SMALL:{default:{}},MEDIUM:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:"full_width"},EGDSSearchFormButton:{}},LARGE:{default:{grow:1},EGDSSearchFormLocationsField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},EXTRA_LARGE:{default:{}}},up={prebundles:(ip={},he(ip,d.OB.SMALL,{default:{}}),he(ip,d.OB.MEDIUM,{EGDSSearchFormLocationField:{minWidth:"full_width"},EGDSSearchFormButton:{},default:{grow:1}}),he(ip,d.OB.LARGE,{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:400,grow:1},EGDSSearchFormDatePickerField:{maxWidth:400,grow:1},default:{minWidth:"third_width",grow:1}}),he(ip,d.OB.EXTRA_LARGE,{default:{}}),ip),FLIGHT_CAR:dp,FLIGHT_HOTEL:dp,FLIGHT_HOTEL_CAR:dp,HOTEL_CAR:{SMALL:{default:{}},MEDIUM:{default:{grow:1,minWidth:400},EGDSSearchFormTravelersField:{minWidth:500,grow:1},EGDSSearchFormButton:{}},LARGE:{EGDSSearchFormButton:{},EGDSSearchFormTravelersField:{maxWidth:300,grow:1},EGDSSearchFormDatePickerField:{maxWidth:300,grow:1},default:{grow:1}},EXTRA_LARGE:{default:{}}}},mp=function(e,t){var n,a=up[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"prebundles"][t];return null!==(n=a[e])&&void 0!==n?n:a.default},pp=(he(op={},"FLIGHT_CAR","fc"),he(op,"FLIGHT_HOTEL","fh"),he(op,"HOTEL_CAR","hc"),he(op,"FLIGHT_HOTEL_CAR","fhc"),he(op,"HOTEL_ACTIVITY","ha"),op),yp={BUSINESS:"b",FIRST:"f",PREMIUM_ECONOMY:"p",COACH:"e"},_p=function(e,t){var n=t.day,a=t.month,r=t.year;return"&".concat(e,"=").concat(r,"-").concat(a,"-").concat(n)},vp="EGDS",Sp=(he(cp={},bc,"ADULT"),he(cp,Tc,"CHILD"),he(cp,Ic,"INFANT_IN_LAP"),he(cp,Cc,"INFANT_IN_SEAT"),cp),gp={COACH:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST"},Ep=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(pm))){var r=Ce(Te({},e.primary),{cabinClass:gp[a]});return Ce(Te({},e),{primary:r})}if(n.startsWith(Dc)){var l,i,o,c=n.startsWith(bc),s=n.split("-"),d=c?bc:s.slice(0,2).join("-"),u=Number.parseInt(a,10),m=c?Array.from(Array(u).keys()).map((function(){return{type:Sp[d],age:null}})):[{type:Sp[d],age:a?u:null}],p=null!==(l=n.split("".concat(d,"-Room"))[1])&&void 0!==l?l:"1",y=null!==(i=parseInt(p,10))&&void 0!==i?i:1,_=Fe(null!==(o=e.primary.travelerOccupancyGroups)&&void 0!==o?o:[]);return _[y-1]={travelers:Fe(_[y-1]?_[y-1].travelers:[]).concat(Fe(m))},Ce(Te({},e),{primary:Ce(Te({},e.primary),{travelerOccupancyGroups:_})})}if(n.startsWith("".concat(eo,"-origin")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{origin:{airportCode:"",regionName:a}})});if(n.startsWith("".concat(eo,"-destination")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{destination:{airportCode:"",regionName:a}})});var v,S,g,E,f=n.startsWith(Tl.START_DATE_NAME_PREFIX),h=n.startsWith(Tl.END_DATE_NAME_PREFIX);if(f||h){var D,b,T=Ae(a.split("-").map((function(e){return Number(e)})),3),C=T[0],I=T[1],A={day:0,month:0,year:0},O={day:T[2],month:I,year:C};return Ce(Te({},e),{primary:Ce(Te({},e.primary),{dateRange:{start:f?O:(null===(D=e.primary.dateRange)||void 0===D?void 0:D.start)||A,end:h?O:(null===(b=e.primary.dateRange)||void 0===b?void 0:b.end)||A}})})}if(n.startsWith("".concat(no,"-origin")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{origin:Ce(Te({},e.primary.origin),{airportCode:a})})});if(n.startsWith("".concat(no,"-destination")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{destination:Ce(Te({},e.primary.destination),{airportCode:a})})});if(n.startsWith("".concat(uo,"-destination")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{destination:Ce(Te({},e.primary.destination),{airportCode:null!==(S=null===(v=e.primary.destination)||void 0===v?void 0:v.airportCode)&&void 0!==S?S:"",regionId:a})})});if(n.startsWith("".concat(to,"-origin")))return Ce(Te({},e),{primary:Ce(Te({},e.primary),{origin:Ce(Te({},e.primary.origin),{airportCode:null!==(E=null===(g=e.primary.destination)||void 0===g?void 0:g.airportCode)&&void 0!==E?E:"",regionId:a})})});if(n.startsWith("".concat(lo,"-destination"))&&a){return Ce(Te({},e),{primary:Te({},e.primary),secondary:{selections:[{id:"hotelId",value:a}]}})}var F=n.startsWith(Tl.PARTIAL_STAY_START_DATE_NAME_PREFIX),k=n.startsWith(Tl.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(F||k){var R,G,P=Ae(a.split("-").map((function(e){return Number(e)})),3),L=P[0],N=P[1],x={day:0,month:0,year:0},M={day:P[2],month:N,year:L};return Ce(Te({},e),{primary:Ce(Te({},e.primary),{partialStayDateRange:{start:F?M:(null===(R=e.primary.partialStayDateRange)||void 0===R?void 0:R.start)||x,end:k?M:(null===(G=e.primary.partialStayDateRange)||void 0===G?void 0:G.end)||x}})})}return Te({},e)},fp=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(pm))&&e.primarySearchCriteria.flight){var r,l=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{searchPreferences:Ce(Te({},null===(r=e.primarySearchCriteria.flight)||void 0===r?void 0:r.searchPreferences),{cabinClass:gp[a]})})});return Ce(Te({},e),{primarySearchCriteria:l})}if(n.startsWith(Dc)){var i,o,c=n.startsWith(bc),s=n.split("-"),d=c?bc:s.slice(0,2).join("-"),u=Number.parseInt(a,10),m=c?Array.from(Array(u).keys()).map((function(){return{type:Sp[d]}})):[{type:Sp[d],age:a?u:null}],p=null!==(i=n.split("".concat(d,"-Room"))[1])&&void 0!==i?i:"1",y=null!==(o=parseInt(p,10))&&void 0!==o?o:1;if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var _,v=Fe(e.primarySearchCriteria.property.rooms),S=m.filter((function(e){return"ADULT"!==e.type})).map((function(e){return{age:e.age||0}}));v[y-1]={adults:v[y-1]?v[y-1].adults+m.filter((function(e){return"ADULT"===e.type})).length:m.filter((function(e){return"ADULT"===e.type})).length,children:Fe((null===(_=v[y-1])||void 0===_?void 0:_.children)||[]).concat(Fe(S))};var g=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{travelers:Fe(e.primarySearchCriteria.flight.travelers).concat(Fe(m))}),property:Ce(Te({},e.primarySearchCriteria.property),{rooms:Fe(v)})});return Ce(Te({},e),{primarySearchCriteria:g})}}if(n.startsWith("".concat(eo,"-origin"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var E,f,h=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(E=e.primarySearchCriteria.flight.journeyCriterias)||void 0===E?void 0:E[0]),{origin:a}),Ce(Te({},null===(f=e.primarySearchCriteria.flight.journeyCriterias)||void 0===f?void 0:f[1]),{destination:a})]})});return Ce(Te({},e),{primarySearchCriteria:h})}if(n.startsWith("".concat(eo,"-destination"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var D,b,T=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(D=e.primarySearchCriteria.flight.journeyCriterias)||void 0===D?void 0:D[0]),{destination:a}),Ce(Te({},null===(b=e.primarySearchCriteria.flight.journeyCriterias)||void 0===b?void 0:b[1]),{origin:a})]}),property:Ce(Te({},e.primarySearchCriteria.property),{destination:Ce(Te({},e.primarySearchCriteria.property.destination),{regionName:a})})});return Ce(Te({},e),{primarySearchCriteria:T})}var C=n.startsWith(Tl.START_DATE_NAME_PREFIX),I=n.startsWith(Tl.END_DATE_NAME_PREFIX);if(C||I){var A=Ae(a.split("-").map((function(e){return Number(e)})),3),O=A[0],F=A[1],k={day:0,month:0,year:0},R={day:A[2],month:F,year:O};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var G,P,L,N,x,M,B=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(G=e.primarySearchCriteria.flight.journeyCriterias)||void 0===G?void 0:G[0]),{departureDate:C?R:(null===(P=e.primarySearchCriteria.flight.journeyCriterias)||void 0===P?void 0:P[0].departureDate)||k}),Ce(Te({},null===(L=e.primarySearchCriteria.flight.journeyCriterias)||void 0===L?void 0:L[1]),{departureDate:I?R:(null===(N=e.primarySearchCriteria.flight.journeyCriterias)||void 0===N?void 0:N[1].departureDate)||k})]}),property:Ce(Te({},e.primarySearchCriteria.property),{dateRange:{checkInDate:C?R:(null===(x=e.primarySearchCriteria.property.dateRange)||void 0===x?void 0:x.checkInDate)||k,checkOutDate:I?R:(null===(M=e.primarySearchCriteria.property.dateRange)||void 0===M?void 0:M.checkOutDate)||k}})});return Ce(Te({},e),{primarySearchCriteria:B})}}if(n.startsWith("".concat(to,"-destination"))&&e.primarySearchCriteria.property){var w=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{destination:Ce(Te({},e.primarySearchCriteria.property.destination),{regionId:a})})});return Ce(Te({},e),{primarySearchCriteria:w})}var W=n.startsWith(Tl.PARTIAL_STAY_START_DATE_NAME_PREFIX),U=n.startsWith(Tl.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(W||U){var H=Ae(a.split("-").map((function(e){return Number(e)})),3),z=H[0],V=H[1],Y={day:0,month:0,year:0},q={day:H[2],month:V,year:z};if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.property){var j,$,K=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{dateRange:{checkInDate:W?q:(null===(j=e.primarySearchCriteria.property.dateRange)||void 0===j?void 0:j.checkInDate)||Y,checkOutDate:U?q:(null===($=e.primarySearchCriteria.property.dateRange)||void 0===$?void 0:$.checkOutDate)||Y}})});return Ce(Te({},e),{primarySearchCriteria:K})}}return Te({},e)},hp=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(pm))&&e.primarySearchCriteria.flight){var r,l=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{searchPreferences:Ce(Te({},null===(r=e.primarySearchCriteria.flight)||void 0===r?void 0:r.searchPreferences),{cabinClass:gp[a]})})});return Ce(Te({},e),{primarySearchCriteria:l})}if(n.startsWith(Dc)){var i=n.startsWith(bc),o=n.split("-"),c=i?bc:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((function(){return{type:Sp[c]}})):[{type:Sp[c],age:a?s:null}];if(e.primarySearchCriteria.flight){var u=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{travelers:Fe(e.primarySearchCriteria.flight.travelers).concat(Fe(d))})});return Ce(Te({},e),{primarySearchCriteria:u})}}if(n.startsWith("".concat(eo,"-origin"))&&e.primarySearchCriteria.flight){var m,p,y=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(m=e.primarySearchCriteria.flight.journeyCriterias)||void 0===m?void 0:m[0]),{origin:a}),Ce(Te({},null===(p=e.primarySearchCriteria.flight.journeyCriterias)||void 0===p?void 0:p[1]),{destination:a})]})});return Ce(Te({},e),{primarySearchCriteria:y})}if(n.startsWith("".concat(eo,"-destination"))&&e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){var _,v,S=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(_=e.primarySearchCriteria.flight.journeyCriterias)||void 0===_?void 0:_[0]),{destination:a}),Ce(Te({},null===(v=e.primarySearchCriteria.flight.journeyCriterias)||void 0===v?void 0:v[1]),{origin:a})]}),car:Ce(Te({},e.primarySearchCriteria.car),{pickUpLocation:Ce(Te({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:Ce(Te({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return Ce(Te({},e),{primarySearchCriteria:S})}var g=n.startsWith(Tl.START_DATE_NAME_PREFIX),E=n.startsWith(Tl.END_DATE_NAME_PREFIX);if(g||E){var f=Ae(a.split("-").map((function(e){return Number(e)})),3),h=f[0],D=f[1],b={day:0,month:0,year:0},T={day:f[2],month:D,year:h},C=Ce(Te({},T),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.flight&&e.primarySearchCriteria.car){var I,A,O,F,k=Ce(Te({},e.primarySearchCriteria),{flight:Ce(Te({},e.primarySearchCriteria.flight),{journeyCriterias:[Ce(Te({},null===(I=e.primarySearchCriteria.flight.journeyCriterias)||void 0===I?void 0:I[0]),{departureDate:g?T:(null===(A=e.primarySearchCriteria.flight.journeyCriterias)||void 0===A?void 0:A[0].departureDate)||b}),Ce(Te({},null===(O=e.primarySearchCriteria.flight.journeyCriterias)||void 0===O?void 0:O[1]),{departureDate:E?T:(null===(F=e.primarySearchCriteria.flight.journeyCriterias)||void 0===F?void 0:F[1].departureDate)||b})]}),car:Ce(Te({},e.primarySearchCriteria.car),{pickUpDateTime:g?C:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:E?C:e.primarySearchCriteria.car.dropOffDateTime})});return Ce(Te({},e),{primarySearchCriteria:k})}}if(n.startsWith("".concat(to,"-destination"))&&e.primarySearchCriteria.car){var R=Ce(Te({},e.primarySearchCriteria),{car:Ce(Te({},e.primarySearchCriteria.car),{pickUpLocation:Ce(Te({},e.primarySearchCriteria.car.pickUpLocation),{regionId:a}),dropOffLocation:Ce(Te({},e.primarySearchCriteria.car.dropOffLocation),{regionId:a})})});return Ce(Te({},e),{primarySearchCriteria:R})}return Te({},e)},Dp=function(e,t){var n=t.name,a=t.value;if(n.startsWith(Dc)){var r,l,i=n.startsWith(bc),o=n.split("-"),c=i?bc:o.slice(0,2).join("-"),s=Number.parseInt(a,10),d=i?Array.from(Array(s).keys()).map((function(){return{type:Sp[c]}})):[{type:Sp[c],age:a?s:null}],u=null!==(r=n.split("".concat(c,"-Room"))[1])&&void 0!==r?r:"1",m=null!==(l=parseInt(u,10))&&void 0!==l?l:1;if(e.primarySearchCriteria.property){var p,y=Fe(e.primarySearchCriteria.property.rooms),_=d.filter((function(e){return"ADULT"!==e.type})).map((function(e){return{age:e.age||0}}));y[m-1]={adults:y[m-1]?y[m-1].adults+d.filter((function(e){return"ADULT"===e.type})).length:d.filter((function(e){return"ADULT"===e.type})).length,children:Fe((null===(p=y[m-1])||void 0===p?void 0:p.children)||[]).concat(Fe(_))};var v=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{rooms:Fe(y)})});return Ce(Te({},e),{primarySearchCriteria:v})}}if(n.startsWith("".concat(eo,"-destination"))&&e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var S=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{destination:Ce(Te({},e.primarySearchCriteria.property.destination),{regionName:a})}),car:Ce(Te({},e.primarySearchCriteria.car),{pickUpLocation:Ce(Te({},e.primarySearchCriteria.car.pickUpLocation),{searchTerm:a}),dropOffLocation:Ce(Te({},e.primarySearchCriteria.car.dropOffLocation),{searchTerm:a})})});return Ce(Te({},e),{primarySearchCriteria:S})}var g=n.startsWith(Tl.START_DATE_NAME_PREFIX),E=n.startsWith(Tl.END_DATE_NAME_PREFIX);if(g||E){var f=Ae(a.split("-").map((function(e){return Number(e)})),3),h=f[0],D=f[1],b={day:0,month:0,year:0},T={day:f[2],month:D,year:h},C=Ce(Te({},T),{hour:0,minute:0,second:0});if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var I,A,O=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{dateRange:{checkInDate:g?T:(null===(I=e.primarySearchCriteria.property.dateRange)||void 0===I?void 0:I.checkInDate)||b,checkOutDate:E?T:(null===(A=e.primarySearchCriteria.property.dateRange)||void 0===A?void 0:A.checkOutDate)||b}}),car:Ce(Te({},e.primarySearchCriteria.car),{pickUpDateTime:g?C:e.primarySearchCriteria.car.pickUpDateTime,dropOffDateTime:E?C:e.primarySearchCriteria.car.dropOffDateTime})});return Ce(Te({},e),{primarySearchCriteria:O})}}if(n.startsWith("".concat(to,"-destination"))&&e.primarySearchCriteria.property){var F=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{destination:Ce(Te({},e.primarySearchCriteria.property.destination),{regionId:a})})});return Ce(Te({},e),{primarySearchCriteria:F})}if(n.startsWith("".concat(no,"-destination"))&&e.primarySearchCriteria.car){var k=Ce(Te({},e.primarySearchCriteria),{car:Ce(Te({},e.primarySearchCriteria.car),{pickUpLocation:Ce(Te({},e.primarySearchCriteria.car.pickUpLocation),{airportCode:a}),dropOffLocation:Ce(Te({},e.primarySearchCriteria.car.dropOffLocation),{airportCode:a})})});return Ce(Te({},e),{primarySearchCriteria:k})}var R=n.startsWith(Tl.PARTIAL_STAY_START_DATE_NAME_PREFIX),G=n.startsWith(Tl.PARTIAL_STAY_END_DATE_NAME_PREFIX);if(R||G){var P=Ae(a.split("-").map((function(e){return Number(e)})),3),L=P[0],N=P[1],x={day:0,month:0,year:0},M={day:P[2],month:N,year:L};if(e.primarySearchCriteria.car&&e.primarySearchCriteria.property){var B,w,W=Ce(Te({},e.primarySearchCriteria),{property:Ce(Te({},e.primarySearchCriteria.property),{dateRange:{checkInDate:R?M:(null===(B=e.primarySearchCriteria.property.dateRange)||void 0===B?void 0:B.checkInDate)||x,checkOutDate:G?M:(null===(w=e.primarySearchCriteria.property.dateRange)||void 0===w?void 0:w.checkOutDate)||x}})});return Ce(Te({},e),{primarySearchCriteria:W})}}return Te({},e)},bp=function(e){return{tripType:"ROUND_TRIP",journeyCriterias:[],travelers:[],searchPreferences:{advancedFilters:e?["NONSTOP"]:[],cabinClass:"COACH"}}},Tp=function(e,t){var n={};switch(e){case"FLIGHT_HOTEL":n={flight:bp(t),property:{rooms:[],destination:{regionId:""}}};break;case"FLIGHT_HOTEL_CAR":n={flight:bp(t),property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"FLIGHT_CAR":n={flight:bp(t),car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}};break;case"HOTEL_CAR":n={property:{rooms:[],destination:{regionId:""}},car:{dropOffDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpDateTime:{day:0,month:0,year:0,hour:0,minute:0,second:0},pickUpLocation:{}}}}return{primarySearchCriteria:n,secondaryCriteria:{}}},Cp=[Co,np,Pl,Mc,vm,lp,Pa],Ip=(0,u.J1)(hn(),Ta.fragment,Pa.fragment,Co.fragment,np.fragment,Pl.fragment,Mc.fragment,vm.fragment,Wc.fragment,lp.fragment,Kr.fragment,Ji),Ap=function(e){var t=e.viewportSize,n=e.packageType,r=e.defaultValidationProps,l=e.renderableElements,i=e.errorState,o=e.autoOpenCalendar,c=e.additionalAdapterFields,s=e.onOpenLocationField,d=e.searchLocationAnalytics,u=e.isExperienceAPIDriven;return a.createElement(a.Fragment,null,l.map((function(e,l){var m=e.__typename,p=Cp.find((function(e){return e.displayName===m&&"EGDSSearchFormInputField"!==m}));if(!p)return null;var y=mp(m,t,n),_=["EGDSSearchFormDatePickerField","EGDSSearchFormInputField","EGDSSearchFormLocationField","EGDSSearchFormLocationsField","EGDSSearchFormTravelersField","SearchFormDurationSpanField"].includes(m)?m:"EGDSSearchFormDatePickerFieldPartialStay",v=Te(Ce(Te({},r),{fieldError:Hc(i,_)}),"EGDSSearchFormLocationsField"===m&&{isExperienceAPIDriven:u,originFieldError:Hc(i,"".concat(e.origin.__typename,"Origin")),destinationFieldError:Hc(i,"".concat(e.destination.__typename,"Destination")),additionalAdapterFields:c,onOpenLocationField:s,searchLocationAnalytics:d},"EGDSSearchFormLocationField"===m&&{isExperienceAPIDriven:u,additionalAdapterFields:c,onOpenLocationField:s,searchLocationAnalytics:d},"EGDSSearchFormDatePickerField"===m&&{autoOpen:o}),S={originRef:"EGDSSearchFormLocationsField"===m?v:null,destinationRef:"EGDSSearchFormLocationsField"===m?v:null};return a.createElement(b.j,Te({key:"field_".concat(m,"_").concat(l)},y),a.createElement("div",null,a.createElement(p,Ce(Te({},v,S),{data:e}))))})))},Op=function(e){var t,n=e.data,r=e.onSubmit,i=e.onFieldChange,o=e.autoOpenCalendar,c=e.packageType,s=e.cabinClass,u=e.redirectToSearchResultOnSubmit,m=e.autoOpenPlayback,p=e.stickyPlayback,y=e.additionalAdapterFields,_=e.directFlightsOnlySwitch,v=e.onOpenLocationField,S=e.handleDirectFlightsOnlySwitch,g=e.showDirectFlightsOnly,E=e.enableBffForSearchLocation,f=void 0!==E&&E,h=(0,I.useLocalization)(),D=Ae(a.useState({EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormLocationFieldDestination:null,EGDSSearchFormDatePickerField:null,EGDSSearchFormInputField:null,EGDSSearchFormDatePickerFieldPartialStay:null}),2),T=D[0],A=D[1],O={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},F=Ae(a.useState(O),2),k=F[0],R=F[1],G=Ae(a.useState(!m),2),P=G[0],L=G[1];a.useEffect((function(){var e=null==n?void 0:n.directFlightsOnly;e&&S&&S(e.selected)}),[n,S]);var N=a.useCallback((function(e,t){var n,a=zc(e,null===(n=t.current)||void 0===n?void 0:n.id);A((function(e){return Ce(Te({},e),he({},a,t))}))}),[]),x=n.elements,M=n.errorSummary,B=n.search,w=n.actionURL,W=n.playback,U=n.searchLocation,H=n.partialStay,z=n.directFlightsOnly,V=Ae(a.useState(W),2),Y=V[0],q=V[1],j=k.displayErrorSummary,$=k.errorCount,K=k.errorLinkReference;if(!B)return null;var Q,J=Fe(x).concat([B]),X=Fe(x).concat([H,B]).filter(Boolean),Z=x.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),ee="EGDSSearchFormDatePickerField"===(null==Z?void 0:Z.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=Z.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===Z.action.datePicker.__typename&&"FLIGHT_CAR"!==c&&null!==(Q=Z.action.datePicker.maxNumberOfDaysSelected)&&void 0!==Q?Q:0,te={setFieldRefByTypename:N},ne={space:"three",direction:"row"},ae={packageType:c,viewportSize:d.OB.SMALL,renderableElements:J,defaultValidationProps:te,errorState:k,autoOpenCalendar:o,additionalAdapterFields:y,onOpenLocationField:v,searchLocationAnalytics:null==U?void 0:U.analytics,isExperienceAPIDriven:f},re=Ce(Te({},ae),{renderableElements:J}),le="HOTEL_CAR"!==c?a.createElement("input",{type:"hidden",name:null==s?void 0:s.name,value:null==s?void 0:s.value}):null,ie=H&&("FLIGHT_HOTEL"===c||"FLIGHT_HOTEL_CAR"===c),oe=z&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(Kr,{data:z,onChange:function(e){null==S||S(e.target.checked)}}))),ce=X.find((function(e){return"EGDSSearchFormInputField"===e.__typename})),se=ce?a.createElement(b.j,null,a.createElement("div",null,a.createElement(vm,Ce(Te({},te),{triggerType:"pill",data:ce})))):null;return a.createElement(C.E,{id:"package-search-form",name:"packages-search-form-".concat(c),action:w,onSubmit:function(e){R(O);var t,n=Array.from(e.currentTarget.elements),a=Jc(n),l={location:{origin:n.find(Qc("origin_select")),destination:n.find(Qc("destination_select")),config:{sameLocationSelected:!0}},dates:{startDateInput:n.find(Qc("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(Qc("EGDSDateRangePicker-EndDate-date-range-select")),partialStayStartDateInput:n.find(Qc("EGDSDateRangePartialStay-StartDate-partial-stay-date-range-select")),partialStayEndDateInput:n.find(Qc("EGDSDateRangePartialStay-EndDate-partial-stay-date-range-select")),config:{maxNumberOfDaysSelected:ee}},travelers:{totalTravelers:a,config:{maxTotalTravelers:6}}},i=$c(l);if(!(0===i.length))return R({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:!0,errorLinkReference:T[null===(t=i[0])||void 0===t?void 0:t.__typename]}),void e.preventDefault();if(r||u){var o=Array.from(e.currentTarget.elements),s=function(e){return e.filter((function(e){return e.name.startsWith(vp)})).reduce(Ep,{primary:{},secondary:{}})}(o),d=function(e,t,n){var a=e.filter((function(e){return e.name.startsWith(vp)})),r=Tp(t,n);switch(t){case"FLIGHT_HOTEL_CAR":default:return a.reduce(fp,r);case"FLIGHT_CAR":return a.reduce(hp,r);case"HOTEL_CAR":return a.reduce(Dp,r)}}(o,c,_);if(r&&r(e,{packageSearchCriteria:s,packageType:c,packageShoppingCriteria:d}),u){e.preventDefault();var m=e.currentTarget.action,p=function(e,t,n){var a,r,l,i,o,c,s=e.primary,d=s.cabinClass,u=s.dateRange,m=s.destination,p=s.origin,y=s.travelerOccupancyGroups,_=s.partialStayDateRange,v=null==y?void 0:y.map((function(e){return e.travelers})).length,S="&numberOfRooms=".concat(v),g=null!==(l=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"INFANT_IN_SEAT"===e.type}))})))&&void 0!==l?l:[],E=g.filter((function(e){return e.length>0})),f="&infantsInSeats=".concat(E.length>0?1:0),h=null!==(i=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"INFANT_IN_LAP"===e.type}))})))&&void 0!==i?i:[],D=h.filter((function(e){return e.length>0})),b="&infantsOnLap=".concat(D.length>0?1:0),T=null!==(o=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type}))})))&&void 0!==o?o:[],C=T.length>0?T.map((function(e,t){return e.map((function(e,n){return"&childAges[".concat(t+1,"][").concat(n,"]=").concat(e.age)})).join("")})).join(""):"",I=T.length>0?"".concat(T.map((function(e,t){return"&childrenPerRoom[".concat(t+1,"]=").concat(e.length)})).join("")):"",A=null!==(c=null==y?void 0:y.map((function(e){return e.travelers.filter((function(e){return"ADULT"===e.type}))})))&&void 0!==c?c:[],O=A.length>0?A.map((function(e,t){return"&adultsPerRoom[".concat(t+1,"]=").concat(e.length)})).join(""):"",F=h.length>0,k=g.length>0,R=F||k?"&InfantSeating=".concat(F?"lap":"seat"):"",G="".concat(S).concat(O).concat(C).concat(I).concat(b).concat(f).concat(R),P="HOTEL_CAR"!==t?"origin=".concat(null==p?void 0:p.regionName):"",L="&destination=".concat(null==m?void 0:m.regionName),N=(null==m?void 0:m.regionId)?"&destinationId=".concat(null==m?void 0:m.regionId):"",x=(null==m?void 0:m.airportCode)?"&ttla=".concat(null==m?void 0:m.airportCode):"",M="".concat(P).concat(L).concat(N).concat(x),B=u?"".concat(_p("fromDate",u.start)).concat(u.end?_p("toDate",u.end):"").concat(_p("d1",u.start)).concat(u.end?_p("d2",u.end):""):"",w="FLIGHT_HOTEL_CAR"===t||"FLIGHT_HOTEL"===t||"HOTEL_CAR"===t,W=_?"".concat(_p("checkInDate",_.start)).concat(_p("checkOutDate",_.end),"&isPartialStay=1\n  &partialStayCheckbox=true"):"&isPartialStay=0",U=w?W:"",H="&packageType=".concat(pp[t]),z="HOTEL_CAR"!==t&&d?"&cabinClass=".concat(yp[d]):"",V="HOTEL_CAR"!==t&&(null==p?void 0:p.regionId)?"&originId=".concat(p.regionId):"",Y="HOTEL_CAR"!==t&&(null==p?void 0:p.airportCode)?"&ftla=".concat(p.airportCode):"",q="FLIGHT_HOTEL"===t?"&tripType=ROUND_TRIP":"",j="FLIGHT_CAR"!==t?null===(r=e.secondary)||void 0===r||null===(a=r.selections)||void 0===a?void 0:a.find((function(e){return"hotelId"===e.id})):void 0,$=(null==j?void 0:j.value)?"&hotelId=".concat(j.value):"",K=n&&"HOTEL_CAR"!==t?"&isDirectFlight=true":"";return"?".concat(M).concat(G).concat(B).concat(H).concat(z).concat(V).concat(Y).concat(q).concat(U).concat($).concat(K)}(s,c,_);window.location.href="".concat(m).concat(p)}}},onFieldChange:function(e,t){null==i||i(e,t),q((function(t){if(!t)return null;var n=sp.DESTINATION,a=sp.TRAVELER_SELECTOR,r=sp.TRAVEL_DATES,l=t.primary,i=t.secondaries,o=e.value,c=e.name===n?Ce(Te({},l),{text:o}):l,s=Ae(i,2),d=s[0],u=s[1],m=e.name===r&&"EGDSPlainText"===d.__typename?Ce(Te({},d),{text:nr(o,h)}):d,p=e.name===a?Ce(Te({},u),{text:o}):u;return Ce(Te({},t),{primary:c,secondaries:[m,p]})}))},hasRequiredFieldIndicator:!0},j&&M&&a.createElement(l.b,{margin:{blockend:"two"}},a.createElement("div",null,a.createElement(Ta,{data:M,errorCount:$,inputErrorRef:K}))),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,Y?a.createElement(Wc,{data:Y,stickyPlayback:p,display:P,onDisplayToggle:function(e){L(e)}},g&&(se||oe)&&a.createElement(b.i,{space:"two",wrap:"wrap"},se,oe),a.createElement(b.i,Ce(Te({},ne),{direction:"column"}),a.createElement(Ap,Ce(Te({},ae),{viewportSize:d.OB.SMALL,includeCabinClassField:!0}))),ie&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(lp,{data:H,setFieldRefByTypename:N,fieldError:k.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))):a.createElement(a.Fragment,null,a.createElement(b.i,Ce(Te({},ne),{direction:"column"}),a.createElement(Ap,Ce(Te({},ae),{viewportSize:d.OB.SMALL})),le),ie&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(lp,{data:H,setFieldRefByTypename:N,fieldError:k.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))))),a.createElement(d.rw,null,a.createElement(a.Fragment,null,a.createElement(b.i,Ce(Te({},ne),{wrap:"wrap"}),a.createElement(Ap,Ce(Te({},re),{viewportSize:d.OB.MEDIUM})),le),ie&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(lp,{data:H,setFieldRefByTypename:N,fieldError:k.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))}))))),a.createElement(d.zQ,null,a.createElement(a.Fragment,null,a.createElement(b.i,Ce(Te({},ne),{wrap:"wrap"}),a.createElement(Ap,Ce(Te({},re),{viewportSize:d.OB.LARGE})),le),ie&&a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(lp,{data:H,setFieldRefByTypename:N,fieldError:k.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldPartialStay"===e.__typename}))})))))))};Op.fragment=Ip,Op.displayName="MultiPackagesSearchForm";var Fp=(0,u.J1)(Dn(),dr.fragment),kp=function(e){var t=e.data,n=t.icon,r=t.heading,i=t.body;return a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,a.createElement(b.i,{direction:"column",alignItems:"center"},a.createElement(b.j,null,n&&a.createElement(dr,{data:n})),a.createElement(b.j,null,a.createElement(F.E,null,r)),a.createElement(b.j,null,a.createElement(F.a,null,i)))))};kp.displayName="NoSelectionMessage",kp.fragment=Fp;var Rp=[Co,Pl,Mc,Pa],Gp=(0,u.J1)(bn(),Ta.fragment,Wc.fragment,Pa.fragment,Co.fragment,Pl.fragment,Mc.fragment),Pp={space:"three",direction:"row"},Lp=function(e){var t,n=e.data,r=e.onFieldChange,i=e.onSubmit,o=Ae(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormDatePickerField:null}),2),c=o[0],s=o[1],u=Ae(a.useState({displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]}),2),m=u[0],p=u[1],y=Ae(a.useState(!0),2),_=y[0],v=y[1],S=a.useCallback((function(e,t){s((function(n){return Ce(Te({},n),he({},e,t))}))}),[]),g=n.elements,E=n.errorSummary,f=n.playback,h=n.search,D=m.displayErrorSummary,T=m.errorCount,I=m.errorLinkReference;if(!h)return null;var A,O=Fe(g).concat([h]),F={setFieldRefByTypename:S},k=g.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),R="EGDSSearchFormDatePickerField"===(null==k?void 0:k.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=k.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===k.action.datePicker.__typename&&null!==(A=k.action.datePicker.maxNumberOfDaysSelected)&&void 0!==A?A:0,G=function(e){return O.map((function(t,n){var r=t.__typename,l=Rp.find((function(e){return e.displayName===r}));if(!l)return null;var i=mp(r,e),o=m.fieldsWithErrors.find((function(e){return e.__typename===r})),c=Ce(Te({},F),{fieldError:o});return a.createElement(b.j,Te({key:"field_".concat(r,"_").concat(n)},i),a.createElement("div",null,a.createElement(l,Te({data:t},c))))}))};return a.createElement(C.E,{id:"package-search-form",name:"package-search-form",onFieldChange:function(e,t){null==r||r(e,t)},onSubmit:function(e){e.preventDefault();var t,n=Array.from(e.currentTarget.elements),a={location:{origin:n.find(Qc("origin-select"))},dates:{startDateInput:n.find(Qc("EGDSDateRangePicker-StartDate-date-range-select")),endDateInput:n.find(Qc("EGDSDateRangePicker-EndDate-date-range-select")),config:{maxNumberOfDaysSelected:R}}},r=$c(a);0===r.length?null==i||i(e):p({fieldsWithErrors:r,errorCount:r.length,displayErrorSummary:!0,errorLinkReference:c[null===(t=r[0])||void 0===t?void 0:t.__typename]})},hasRequiredFieldIndicator:!0},D&&E&&a.createElement(l.b,{margin:{blockend:"two"}},a.createElement("div",null,a.createElement(Ta,{data:E,errorCount:T,inputErrorRef:I}))),a.createElement(d.LM,null,a.createElement(d.NP,null,f?a.createElement(Wc,{data:f,display:_,onDisplayToggle:function(e){v(e)}},a.createElement(b.i,Ce(Te({},Pp),{direction:"column"}),G(d.OB.SMALL))):a.createElement(b.i,Ce(Te({},Pp),{direction:"column"}),G(d.OB.SMALL))),a.createElement(d.rw,null,a.createElement(b.i,Ce(Te({},Pp),{wrap:"wrap"}),G(d.OB.MEDIUM))),a.createElement(d.zQ,null,a.createElement(b.i,Ce(Te({},Pp),{wrap:"wrap"}),G(d.OB.LARGE)))))};Lp.fragment=Gp,Lp.displayName="PrebundlesSearchForm";var Np={SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE")},xp={linkName:"Packages Search Form Fallback Presented",referrerId:"Web.Packages.Search.Form.Fallback.Presented"},Mp={linkName:"Packages Search Form Presented",referrerId:"Web.Packages.Search.Form.Presented"},Bp=(0,u.J1)(Tn(),Lp.fragment,Op.fragment,kp.fragment),wp={rows:[{type:"primary"},{type:"primary"},{type:"primary"}]},Wp={rows:[{type:"primary"}]},Up=function(e){var t,n,r,l=e.inputs,i=e.skipSsr,o=e.includePlayback,c=e.batchKey,s=e.skipQuery,u=void 0!==s&&s,_=e.pageLocation,v=l.packageType,S=(0,p.R)().context,E=(0,y.useLoggerEvents)(Np),f=Ae(a.useState(u),2),h=f[0],D=f[1],b=Ce(Te({},l),{context:S,includePlayback:Boolean(o),pageLocation:_}),T=(0,m.I)(Bp,{context:{batchKey:c},variables:b,ssr:!i,skip:h}),C=T.data,I=T.error,A=T.loading,O=T.previousData;a.useEffect((function(){D(u&&!A)}),[A,u]);var F=C||O;if(A)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,Te({},wp))),a.createElement(d.rw,null,a.createElement(Zn,Te({},Wp))));if(I||!F||!(null==F||null===(t=F.searchForm)||void 0===t?void 0:t.packages)){var k,R;E.SEARCH_TOOLS_PACKAGES_SEARCH_FORM_QUERY_FAILURE.log({name:null==I?void 0:I.name,error:new Error(null==I?void 0:I.message)});var G=function(e){var t=[];switch(e){case"HOTEL_CAR":t=[xm(),Ym,Jm];break;case"FLIGHT_HOTEL_CAR":case"FLIGHT_HOTEL":t=[Mm(e),Ym,Km,qm];break;case"FLIGHT_CAR":t=[Mm(e),Ym,Qm,qm]}return{searchForm:{packages:{errorSummary:Gm,search:Pm,elements:t,__typename:"PackagesSearchForm",actionURL:"/flexibleshopping",packageSelection:Lm,searchLocation:ea},__typename:"SearchFormResults"}}}(v);return(null==G||null===(k=G.searchForm)||void 0===k?void 0:k.packages)&&"PackagesSearchForm"===G.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null===(R=G.searchForm.packages.packageSelection)||void 0===R?void 0:R.__typename)?null===v?a.createElement(Yn,null,a.createElement(kp,{data:G.searchForm.packages.packageSelection.noSelectionMessage})):a.createElement(Yn,null,a.createElement(g.ee,Te({},xp),v?a.createElement(Op,Ce(Te({},e),{packageType:v,data:G.searchForm.packages,includeCabinClassField:Boolean(o)})):a.createElement(Lp,Ce(Te({},e),{data:G.searchForm.packages})))):null}return(null==F||null===(n=F.searchForm)||void 0===n?void 0:n.packages)&&"PackagesSearchForm"===F.searchForm.packages.__typename&&"PackagesSearchFormSelection"===(null===(r=F.searchForm.packages.packageSelection)||void 0===r?void 0:r.__typename)?null===v?a.createElement(kp,{data:F.searchForm.packages.packageSelection.noSelectionMessage}):a.createElement(g.ee,Te({},Mp),v?a.createElement(Op,Ce(Te({},e),{packageType:v,data:F.searchForm.packages,includeCabinClassField:Boolean(o)})):a.createElement(Lp,Ce(Te({},e),{data:F.searchForm.packages}))):null};Up.displayName="sharedui-PackagesSearchForm";var Hp=function(e){var t=e.inputs,n=e.onPackageTypeChange,r=e.includePlayback,l=e.enableReflection,o=e.sticky,c=Ae(a.useState(t.packageType),2),s=c[0],u=c[1],m=Ae(a.useState({name:"",value:""}),2),p=m[0],y=m[1],_=Ae(a.useState(!0),2),v=_[0],S=_[1],g=Ae(a.useState(!0),2),E=g[0],f=g[1],h=Ae(a.useState(!1),2),D=h[0],b=h[1],T=Ae(a.useState(!1),2),C=T[0],I=T[1],A=o?Mn:a.Fragment,O=a.useCallback((function(e){u(e),null==n||n(e);var t="HOTEL_CAR"===e;S(!t&&null!==e),f(!t&&null!==e)}),[u,n]),F=a.useCallback((function(e){y(e),b(!0)}),[y]),k=a.useCallback((function(e){I(e)}),[I]),R=a.createElement(Om,Ce(Te({},e),{onPackageTypeChange:O,onCabinClassSelect:F,inputs:Te({},t),showCabinClass:v,showDirectFlightsOnly:E,skipQuery:D,handleDirectFlightsOnlySwitch:k})),G=a.createElement(Up,Ce(Te({},e),{inputs:Ce(Te({},t),{packageType:s}),cabinClass:p,directFlightsOnlySwitch:C,showDirectFlightsOnly:E,handleDirectFlightsOnlySwitch:k})),P=a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(a.Fragment,null,!r&&R,G)),a.createElement(d.rw,null,a.createElement(A,null,R,G)));return l?a.createElement(i.t,null,a.createElement("div",{"data-stid":"search-form-with-reflection"},P)):P},zp=(0,u.J1)(Cn(),Ao.fragment),Vp={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTI_CITY:"MULTI_DESTINATION"},Yp=function(e){var t=e.data,n=e.onFlightTypeSelect,r=(0,d.eg)({viewSizes:d.pf}),l=(0,g.KY)(),i=t.options.filter((function(e){return"EGDSBasicOption"===e.__typename})),o=Ae(a.useState(i.findIndex((function(e){return e.selected}))),2),c=o[0],s=o[1],u={selectedTab:c,onTabSelect:function(e){var t=i[e],a=t.value,r=t.changeAnalytics;if(s(e),null==n||n(Wn[Vp[a]]),r){var o=r.linkName,c=r.referrerId;l(o,c)}},tabsType:r<=d.pf.SMALL?S.c.EQUAL_WIDTH:S.c.NATURAL};return a.createElement(S.f,Te({},u),i.map((function(e){var t=e.value,n=e.label;return a.createElement(S.E,{id:"FlightSearchForm_".concat(t),key:t,name:n,targetURI:"#FlightSearchForm_".concat(t)})})))};Yp.fragment=zp,Yp.displayName="FlightTypeSelectorOptions";var qp={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE"),SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE")},jp={SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION:{linkName:"Flights Search Form Fallback Presented",referrerId:"Web.Flights.Search.Form.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:{linkName:"Flights Options Fallback Presented",referrerId:"Web.Flights.Options.Fallback.Presented"},SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION:{linkName:"Flights Search Form Presented",referrerId:"Web.Flights.Search.Form.Presented"},SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION:{linkName:"Flights Options Presented",referrerId:"Web.Flights.Options.Presented"}},$p=(0,u.J1)(In(),Yp.fragment,vm.fragment,Kr.fragment),Kp=function(e){var t,n,r=e.inputs,l=e.skipSsr,i=e.onFlightTypeSelect,o=e.onCabinClassSelect,c=e.onDirectFlightsSelect,s=e.batchKey,u=r.includeFlightType,_=(0,p.R)().context,v=Ce(Te({},r),{context:_}),S=(0,y.useLoggerEvents)(qp),E=(0,m.I)($p,{context:{batchKey:s},variables:v,ssr:!l}),f=E.data,h=E.error,D=E.loading,I=f;if(a.useEffect((function(){if(o){var e,t="FlightSearchForm"===(null==I?void 0:I.searchForm.flight.__typename)?I.searchForm.flight.elements.find((function(e){var t;return"EGDSSearchFormInputField"===e.__typename&&"EGDSSearchFormSelectAction"===(null===(t=e.action)||void 0===t?void 0:t.__typename)})):null;if("EGDSSearchFormInputField"===(null==t?void 0:t.__typename)&&"EGDSSearchFormSelectAction"===(null===(e=t.action)||void 0===e?void 0:e.__typename)){var n,a="".concat(pm,"-").concat(t.egdsElementId),r=t.action.options.find((function(e){return e.selected}));o({name:a,value:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:""})}}}),[null==I?void 0:I.searchForm,o]),D)return a.createElement(T.b,{animation:!0,type:"secondary"});var A=h||!f;(A||"FlightSearchForm"!==(null===(t=f.searchForm)||void 0===t?void 0:t.flight.__typename))&&(I={searchForm:{flight:{directFlightsOnly:null,flightTypeSelector:{action:{analytics:{linkName:"Web.Flight - Open Flight Type Selector",referrerId:"Web.Flight.flight.type.selector.open",__typename:"ClientSideAnalytics"},options:[{changeAnalytics:{linkName:"Flight roundtrip change",referrerId:"Web.Flight.Search.Tab.Roundtrip",__typename:"ClientSideAnalytics"},value:"ROUND_TRIP",label:"Roundtrip",selected:!0,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight one way change",referrerId:"Web.Flight.Search.Tab.Oneway",__typename:"ClientSideAnalytics"},value:"ONE_WAY",label:"One-way",selected:!1,__typename:"EGDSBasicOption"},{changeAnalytics:{linkName:"Flight multicity change",referrerId:"Web.Flight.Search.Tab.Multicity",__typename:"ClientSideAnalytics"},value:"MULTI_CITY",label:"Multi-city",selected:!1,__typename:"EGDSBasicOption"}],apply:{egdsElementId:"flight_type_selector",primary:"Apply",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Web.Flight - Flight Type Apply",referrerId:"Web.Flight.flight.type.selector.apply.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"},elements:[{egdsElementId:"cabin_class",value:"COACH",label:"Cabin class",placeholder:"Economy",leftIcon:{id:"airline_seat_recline_extra",title:null,token:"icon__airline_seat_recline_extra",description:"airline_seat_recline_extra",size:null,__typename:"Icon"},action:{analytics:{linkName:"Open Cabin Class Selector",referrerId:"Web.Flight.cabin.class.selector.open",__typename:"ClientSideAnalytics"},options:[{label:"Economy",selected:!0,value:"COACH",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Economy class selected",referrerId:"Web.Flight.cabin.class.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Premium economy",selected:!1,value:"ECONOMY_PREMIUM",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Premium economy class selected",referrerId:"Web.Flight.cabin.class.premium.economy.selected",__typename:"ClientSideAnalytics"}},{label:"Business class",selected:!1,value:"BUSINESS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"Business class selected",referrerId:"Web.Flight.cabin.class.business.class.selected",__typename:"ClientSideAnalytics"}},{label:"First class",selected:!1,value:"FIRST_CLASS",__typename:"EGDSBasicOption",changeAnalytics:{linkName:"First class selected",referrerId:"Web.Flight.cabin.class.first.class.selected",__typename:"ClientSideAnalytics"}}],__typename:"EGDSSearchFormSelectAction"},__typename:"EGDSSearchFormInputField"}],__typename:"FlightSearchForm"},__typename:"SearchFormResults"}},S.SEARCH_TOOLS_FLIGHTS_OPTIONS_QUERY_FAILURE.log({name:null==h?void 0:h.name,error:new Error(null==h?void 0:h.message)}));var O=A?Yn:a.Fragment,F=null==I?void 0:I.searchForm.flight,k=F.elements,R=F.flightTypeSelector,G=F.directFlightsOnly,P={space:"three",alignItems:"start",wrap:"wrap"},L=u&&"EGDSSearchFormSelectAction"===(null==R||null===(n=R.action)||void 0===n?void 0:n.__typename)&&a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(b.j,{minWidth:"full_width"},a.createElement("div",null,a.createElement(Yp,{data:R.action,onFlightTypeSelect:i})))),a.createElement(d.rw,null,a.createElement(b.j,null,a.createElement("div",null,a.createElement(Yp,{data:R.action,onFlightTypeSelect:i}))))),N=a.createElement(b.j,null,a.createElement("div",null,a.createElement(C.E,{onFieldChange:function(e){null==o||o(e)}},k.map((function(e,t){return"EGDSSearchFormInputField"===e.__typename&&a.createElement(vm,{data:e,triggerType:"pill",key:t})}))))),x=G&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(Kr,{data:G,onChange:function(e){var t=e.target.checked;null==c||c(t)}})));return a.createElement(O,null,a.createElement(g.ee,Te({},A?jp.SEARCH_TOOLS_FLIGHTS_OPTIONS_FALLBACK_IMPRESSION:jp.SEARCH_TOOLS_FLIGHTS_OPTIONS_IMPRESSION),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(b.i,Te({},P),L,N,x)),a.createElement(d.rw,null,a.createElement(b.i,Ce(Te({},P),{alignItems:"center"}),L,N,x)))))};Kp.displayName="sharedui-FlightOptions";var Qp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new Date,n=new Date(t);n.setDate(t.getDate()+e);var a=new Date(n);return a.setDate(n.getDate()+4),{departureDate:{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()},arrivalDate:{day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()}}},Jp=new Date,Xp=new Date;Xp.setDate(Xp.getDate()+14);var Zp=new Date;Zp.setDate(Zp.getDate()+15);var ey=new Date;function ty(e){return{__typename:"Date",day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}ey.setMonth(ey.getMonth()+10),ey.setDate(ey.getDate()-5);var ny=function(e){return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate())},ay={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},ry={__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},ly={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},iy={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},oy={__typename:"UISecondaryButton",egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null},cy=[{__typename:"EGDSSameValueInputValidation",errorMessage:"Please make sure your departure and arrival cities are different"}],sy={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"".concat(ny(Xp)," - ").concat(ny(Zp)),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:null,buttonText:"Done",buttonTextTemplate:null,clearButtonText:null,firstDayOfWeek:"SUN",maxNumberOfDaysSelected:null,sameDaySelectionAllowed:!1,selectedStartDate:Te({},ty(Xp)),startDatePlaceholderText:ny(Xp),selectedEndDate:Te({},ty(Zp)),endDatePlaceholderText:ny(Zp),validDaysLowerBoundInclusive:Te({},ty(Jp)),validDaysUpperBoundInclusive:Te({},ty(ey)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},nextButtonAnalytics:{linkName:"Calendar next",referrerId:"Web.Flight.Calendar.Next.Month.Click",__typename:"ClientSideAnalytics"},previousButtonAnalytics:{linkName:"Calendar previous",referrerId:"Web.Flight.Calendar.Previous.Month.Click",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},endDateButtonAnalytics:{linkName:"flight calendar end date click",referrerId:"Web.Flight.Calendar.End.Date.Click",__typename:"ClientSideAnalytics"},clearDatesButtonAnalytics:null,showClearDatesButton:!1,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},dy={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Date",placeholder:ny(Xp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",firstDayOfWeek:"SUN",selectedStartDate:Te({},ty(Xp)),startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},validDaysLowerBoundInclusive:Te({},ty(Jp)),validDaysUpperBoundInclusive:Te({},ty(ey)),__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"}},uy={action:{analytics:{linkName:"Travelers selector displayed",referrerId:"Travelers selector updated",__typename:"ClientSideAnalytics"},travelerSelector:{closeButton:{egdsElementId:"travelers_selector_close_button",primary:"Close",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Close button",referrerId:"Web.Flight.Search.Traveler.Selector.Close.Button.Clicked",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"travelers_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers Selector Done button",referrerId:"Web.Flight.Search.Traveler.Selector.Done.Button.Clicked",__typename:"ClientSideAnalytics"},action:{__typename:"ActivityAddOfferToTripAction",accessibility:""},__typename:"UIPrimaryButton"},title:"Travelers",travelers:{adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Flights.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Flights.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:null,increaseText:"Increase the number of adults",increaseTextTemplate:null,egdsElementId:"traveler_selector_adult_step_input",label:"Adults",max:6,min:1,step:1,subLabel:null,value:1,__typename:"EGDSTravelerStepInput"},children:{count:{decreaseAnalytics:{linkName:"Children traveler removed",referrerId:"Web.Flights.Traveler.Remove.Children",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Children traveler added",referrerId:"Web.Flights.Traveler.Add.Children",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:null,increaseText:"Increase the number of children",increaseTextTemplate:null,egdsElementId:"traveler_selector_children_step_input",label:"Children",max:5,min:0,step:1,subLabel:"Ages 2 to 17",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"2",value:"2",egdsElementId:"children_age_option_2",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"3",value:"3",egdsElementId:"children_age_option_3",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"4",value:"4",egdsElementId:"children_age_option_4",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"5",value:"5",egdsElementId:"children_age_option_5",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"6",value:"6",egdsElementId:"children_age_option_6",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"7",value:"7",egdsElementId:"children_age_option_7",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"8",value:"8",egdsElementId:"children_age_option_8",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"9",value:"9",egdsElementId:"children_age_option_9",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"10",value:"10",egdsElementId:"children_age_option_10",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"11",value:"11",egdsElementId:"children_age_option_11",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"12",value:"12",egdsElementId:"children_age_option_12",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"13",value:"13",egdsElementId:"children_age_option_13",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"14",value:"14",egdsElementId:"children_age_option_14",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"15",value:"15",egdsElementId:"children_age_option_15",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"16",value:"16",egdsElementId:"children_age_option_16",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"17",value:"17",egdsElementId:"children_age_option_17",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infantsInSeat:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsInSeat",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsInSeat",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants in seat",decreaseTextTemplate:null,increaseText:"Increase the number of infants in seat",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_in_seat_step_input",label:"Infants in seat",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},infantsOnLap:{count:{decreaseAnalytics:{linkName:"Infant traveler removed",referrerId:"Web.Flights.Traveler.Remove.InfantsOnLap",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Infant traveler added",referrerId:"Web.Flights.Traveler.Add.InfantsOnLap",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of infants on lap",decreaseTextTemplate:null,increaseText:"Increase the number of infants on lap",increaseTextTemplate:null,egdsElementId:"traveler_selector_infants_on_lap_step_input",label:"Infants on lap",max:4,min:0,step:1,subLabel:"Younger than 2",value:0,__typename:"EGDSTravelerStepInput"},ages:[],ageTemplate:{labelTemplate:{models:[{key:"infantNumber",source:"infantNumber",__typename:"TemplateModel"}],template:"Infant ${infantNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{label:"Select age",value:"",egdsElementId:"infants_age_option",__typename:"EGDSBasicOption",changeAnalytics:null},{label:"0",value:"0",egdsElementId:"infants_age_option_0",changeAnalytics:null,__typename:"EGDSBasicOption"},{label:"1",value:"1",egdsElementId:"infants_age_option_1",changeAnalytics:null,__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_infant_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerInfant"},pets:null,__typename:"EGDSTravelers"},validations:[{errorMessage:"We allow up to 6 travelers per booking.",maxCount:6,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 6 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to error",goToFirstErrorLinkText:"Go to first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked",referrerId:"Web.Flight.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"ONE",template:"Please correct the error to continue",__typename:"CardinalTemplate"},{category:"TWO",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"FEW",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"MANY",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"},{category:"OTHER",template:"Please correct the ${errorCount} errors to continue",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for each infant on lap.",maxCount:null,type:"MANY_INFANT_ON_LAP",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for each infant on lap.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",maxCount:null,type:"MANY_INFANT_IN_SEAT",infantsInSeatPerAdult:2,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"There must be at least 1 traveler (age 12+) for every 2 infants in a seat.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed",referrerId:"Web.Flight.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSBasicTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],secondaryTemplates:null,text:"1 traveler",__typename:"EGDSCardinalLocalizedText"},leftIcon:{id:"person",__typename:"Icon"},readOnly:!1,__typename:"EGDSSearchFormTravelersField"},my={egdsElementId:"search_button",primary:"Search",disabled:!1,accessibility:"Search",icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Flight.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},py=[{id:"multiDestinationLeg_0",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:ny(Xp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Te({},ty(Xp)),validDaysLowerBoundInclusive:Te({},ty(Jp)),validDaysUpperBoundInclusive:Te({},ty(ey)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"},{id:"multiDestinationLeg_1",locations:{egdsElementId:"locations",origin:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"multicity",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],__typename:"EGDSSearchFormLocationsField"},date:{egdsElementId:"date_form_field",label:"Date",placeholder:ny(Xp),errorMessage:"Check-out date must be after check-in date",validations:null,action:{accessibility:null,analytics:{linkName:"flight calendar selection",referrerId:"Web.Flight.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{buttonText:"Done",selectedStartDate:Te({},ty(Xp)),validDaysLowerBoundInclusive:Te({},ty(Jp)),validDaysUpperBoundInclusive:Te({},ty(ey)),submitButtonAnalytics:{linkName:"flight calendar submit",referrerId:"Web.Flight.Calendar.Submit",__typename:"ClientSideAnalytics"},startDateButtonAnalytics:{linkName:"flight calendar start date click",referrerId:"Web.Flight.Calendar.Start.Date.Click",__typename:"ClientSideAnalytics"},firstDayOfWeek:"SUN",__typename:"EGDSSingleDatePicker"},__typename:"EGDSOpenDatePickerAction"},__typename:"EGDSSearchFormDatePickerField"},__typename:"FlightSearchFormLeg"}],yy={accessibility:null,action:null,analytics:{linkName:"Add Leg button clicked",referrerId:"Web.Flight.Search.AddLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"add_leg_button",icon:{description:"ADD",id:"add",title:null,token:"icon__add",__typename:"Icon"},primary:"Add another flight",__typename:"UITertiaryButton"},_y={accessibility:null,action:null,analytics:{linkName:"Remove Leg button clicked",referrerId:"Web.Flight.Search.RemoveLeg.Button.Clicked",__typename:"ClientSideAnalytics"},disabled:!1,egdsElementId:"remove_leg_button",icon:null,primary:"Remove",__typename:"UITertiaryButton"},vy={models:[{key:"legNumber",source:"legNumber",__typename:"TemplateModel"}],template:"Flight ${legNumber}",__typename:"EGDSBasicLocalizedText"},Sy=function(e){return e.valueOf()==="ROUND_TRIP".valueOf()?sy:dy},gy=function(e){var t=function(e){if(e.valueOf()==="MULTI_DESTINATION".valueOf())return{legs:py,addLeg:yy,removeLeg:_y,legHeading:vy};var t,n,a=Sy(e);return{legs:(t=e,n=a,[{id:t,locations:{__typename:"EGDSSearchFormLocationsField",egdsElementId:"locations",origin:{__typename:"EGDSSearchFormLocationField",egdsElementId:"origin_select",label:"Leaving from",placeholder:"Leaving from",value:null,errorMessage:"Please select where you're leaving from",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're leaving from",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!1,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Origin Selection",referrerId:"Web.Flight.origin.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Origin change",referrerId:"Web.Flight.origin.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},destination:{debounceRate:null,__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_select",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select where you're going",validations:[{errorMessage:"Enter at least 3 characters of the airport name.",__typename:"EGDSMinLengthInputValidation"},{errorMessage:"Please select where you're going",__typename:"EGDSRequiredInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},action:{accessibility:null,analytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!1,isDestination:!0,lineOfBusiness:"FLIGHTS",maxNumberOfResults:10,packageType:null,personalize:!0,regionType:4959,typeaheadFeatures:"nearby_airport|ta_hierarchy|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:"roundtrip",expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by city or airport",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},closeAnalytics:{linkName:"Destination Selection",referrerId:"Web.Flight.destination.location.close",__typename:"ClientSideAnalytics"},changeAnalytics:{linkName:"Destination change",referrerId:"Web.Flight.destination.location.change",__typename:"ClientSideAnalytics"},multiLocations:null,regionId:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},horizontalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_horiz",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},verticalSwapper:{egdsElementId:"location_swapper",primary:"",disabled:!1,accessibility:"Swap origin and destination values",icon:{id:"",description:"swap_vert",token:"",title:null,__typename:"Icon"},analytics:{linkName:"Swapper button clicked",referrerId:"Flight.locations.swapper.button.click",__typename:"ClientSideAnalytics"},action:null,__typename:"UISecondaryButton"},validations:[{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}]},date:n,__typename:"FlightSearchFormLeg"}]),addLeg:null,removeLeg:null,legHeading:null}}(e);return{__typename:"FlightSearchForm",egdsElementId:"flight-search=form",actionURL:"/Flights-Search",errorSummary:ay,elements:[{egdsElementId:"flight_locations",origin:ry,destination:ly,horizontalSwapper:iy,verticalSwapper:oy,validations:cy,__typename:"EGDSSearchFormLocationsField"},Sy(e),uy,{__typename:"EGDSSearchFormInputField"}],search:my,addLeg:t.addLeg,removeLeg:t.removeLeg,legHeading:t.legHeading,legs:t.legs,playback:null,maxAllowedLegs:5,localDateFormat:"M/d/yyyy",softPackages:null,searchLocation:ea}},Ey=(0,u.J1)(An(),zr.fragment,Co.fragment),fy="EGDSSoftPackagesPackageType",hy=function(e){var t=e.data,n=e.onProductSelect,r=e.setFieldRefByTypename,l=e.fieldError,i=e.currentSearchFormProduct,o=e.isExperienceAPIDriven,c=t.addCar,s=t.addFlight,d=t.origin,u=t.addHotel,m=t.datesForHotelStay,p=function(e){n(e)},y=d&&"EGDSBasicCheckBox"===(null==s?void 0:s.__typename)&&"CHECKED"===s.state,_=d&&a.createElement(ap,null,a.createElement(Co,{data:d,setFieldRefByTypename:r,fieldError:l,isExperienceAPIDriven:o})),v=m&&"EGDSBasicCheckBox"===(null==u?void 0:u.__typename)&&"CHECKED"===u.state,S=m&&a.createElement(ap,null,a.createElement(Pl,{data:m,setFieldRefByTypename:function(e,t,n){r("".concat(e,"SoftPackages"),t,n)},fieldError:l})),g=function(e){return"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)&&"CHECKED"===e.state},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hotels";if("hotels"===t){var n=e.flightAdded,a=e.carAdded;if(n&&a)return"fhc";if(n)return"fh";if(a)return"hc"}else if("flights"===t){var r=e.hotelAdded,l=e.carAdded;if(r&&l)return"fhc";if(r)return"fh";if(l)return"fc"}return""}({flightAdded:g(s),carAdded:g(c),hotelAdded:g(u)},i),f=[u,s,c];return a.createElement(a.Fragment,null,a.createElement(b.i,{direction:"row",space:"three"},f.map((function(e){return e?a.createElement(b.j,{key:null==e?void 0:e.egdsElementId},a.createElement("div",null,a.createElement(zr,{data:e,onChange:p}))):null}))),y&&_,v&&S,a.createElement("input",{"data-stid":fy,type:"hidden",name:fy,value:E}))};hy.fragment=Ey,hy.displayName="SoftPackages";var Dy,by,Ty,Cy=function(e){return e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVELER_SELECTOR="EGDSBasicTravelerSelector",e}(Cy||{}),Iy={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Ay={COACH:"economy",PREMIUM_ECONOMY:"premium",BUSINESS:"business",FIRST:"first"},Oy=function(e,t){var n=e.day,a=e.month,r=e.year,l=n<10?"0".concat(n):n,i=a<10?"0".concat(a):a;return t.formatDateString("".concat(r,"-").concat(i,"-").concat(l),{raw:t.localDateFormat})},Fy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.day,r=t.month,l=t.year,i=r<10?"0".concat(r):r,o=a<10?"0".concat(a):a;return"&".concat(e,"=").concat(l,"-").concat(n?i:r,"-").concat(n?o:a)},ky=function(e,t,n,a){var r,l,i=e.primary,o=i.tripType,c=i.journeyCriterias,s=i.travelers,d=i.searchPreferences,u="trip=".concat(Iy[o]),m=c.reduce((function(e,t,r){var l,i,o=t.origin,c=t.destination,s=t.departureDate,d=t.arrivalDate,u=null!==(l=null==a?void 0:a.get(o))&&void 0!==l?l:"U",m=null!==(i=null==a?void 0:a.get(c))&&void 0!==i?i:"U",p="&leg".concat(r+1,"=from:").concat(o,",to:").concat(c,",departure:").concat(Oy(s,n),"TANYT,fromType:").concat(u,",toType:").concat(m),y=d?"&leg2=from:".concat(c,",to:").concat(o,",departure:").concat(Oy(d,n),"TANYT,fromType:").concat(m,",toType:").concat(u):"";return"".concat(e).concat(p).concat(y)}),""),p=d?"cabinclass:".concat(Ay[d.cabinClass]):"",y="options=".concat(p),_=s.some((function(e){return"INFANT_IN_SEAT"===e.type}))?"&ChildInSeat=seat":"",v=s.some((function(e){return"INFANT_IN_LAP"===e.type})),S=s.filter((function(e){return"CHILD"===e.type||"INFANT_IN_LAP"===e.type||"INFANT_IN_SEAT"===e.type})),g=s.filter((function(e){return"ADULT"===e.type})),E=S.length>0?"children:".concat(S.length,"[").concat(S.map((function(e){return e.age})).join(";"),"],"):"",f=g.length>0?"adults:".concat(g.length,","):"",h=v?"infantinlap:Y":"infantinlap:N",D="passengers=".concat(E).concat(f).concat(h),b=Ae(c,1)[0],T=b.departureDate,C=b.arrivalDate,I="&fromDate=".concat(Oy(T,n)).concat(C?"&toDate=".concat(Oy(C,n)):"").concat(Fy("d1",T)).concat(C?Fy("d2",C):""),A="true"===(null==t?void 0:t.get("airCreditIntent"))?"&airCreditIntent=true":"",O=[];(null===(l=e.primary.searchPreferences)||void 0===l||null===(r=l.advancedFilters)||void 0===r?void 0:r.includes("NONSTOP"))&&O.push({numOfStopFilterValue:{stopInfo:{numberOfStops:0,stopFilterOperation:"EQUAL"}}});var F=O.length>0?"&filters=".concat(JSON.stringify(O)):"";return"?".concat("flight-type=on","&").concat("mode=search","&").concat(u).concat(m,"&").concat(y).concat(_).concat(I,"&").concat(D).concat(A).concat(F)},Ry=function(e,t,n,a){var r=["EGDS","add-"],l=e.filter((function(e){var t=e.name;return r.some((function(e){return t.startsWith(e)}))})),i="tripType=".concat(t),o=l.some((function(e){return e.name.startsWith("EGDSSoftPackagesPackageType")&&e.value.includes("h")})),c=l.reduce((function(e,t){var n=t.name,r=t.value,l=t.checked;if(n.startsWith("EGDSSoftPackagesPackageType")){var i=r.includes("h")?"&isPartialStay=1":"";return"".concat(e,"&packageType=").concat(r).concat(i)}var c="EGDSSearchFormLocationField";if(n.startsWith(c)){if(n.startsWith("".concat(c,"-AirportCode-origin_select")))return"".concat(e,"&ftla=").concat(r);if(n.startsWith("".concat(c,"-RegionId-origin_select")))return"".concat(e,"&originId=").concat(r);if(n.startsWith("".concat(c,"-AirportCode-destination_select")))return"".concat(e,"&ttla=").concat(r);if(n.startsWith("".concat(c,"-Location-destination_select")))return"".concat(e,"&destination=").concat(r);if(n.startsWith("".concat(c,"-DestinationId-destination_select")))return"".concat(e,"&destinationId=").concat(r)}var s="EGDSSearchFormTravelersField";if(n.startsWith(s)){if(n.startsWith("".concat(s,"-Adult")))return"".concat(e,"&numberOfRooms=1&adultsPerRoom[1]=").concat(r);if(n.startsWith("".concat(s,"-ChildrenAge"))){var d=Ae(n.split("".concat(s,"-ChildrenAge-")),2)[1];return"".concat(e,"&childAges[1][").concat(d,"]=").concat(r)}if(n.startsWith("".concat(s,"-InfantOnLapAge"))){var u=e.includes("InfantSeating")?"":"&InfantSeating=lap",m=e.includes("infantsInSeats")?"":"&infantsInSeats=0",p=(e.match(/childAges/g)||[]).length+1,y="&childAges[1][".concat(p,"]=").concat(r);return"".concat(e).concat(u).concat(m).concat(y)}if(n.startsWith("".concat(s,"-InfantInSeatAge"))){var _=e.includes("InfantSeating")?"":"&InfantSeating=seat",v=e.includes("infantsInSeats")?"":"&infantsInSeats=1",S=(e.match(/childAges/g)||[]).length+1,g="&childAges[1][".concat(S,"]=").concat(r);return"".concat(e).concat(_).concat(v).concat(g)}}var E="EGDSSingleDatePicker",f="EGDSDateRangePickerSoftPackages",h="EGDSDateRangePicker";if(n.includes(E)||n.includes(f)||n.includes(h)){var D=function(e){var t=Ae(e.split("-"),3),n=t[0],a=t[1],r=t[2];return{__typename:"Date",year:Number(n),month:Number(a),day:Number(r)}}(r),b=Oy(D,a);if(n.startsWith(E)){var T="&fromDate=".concat(b);return"".concat(e).concat(T)}if(n.startsWith(f)){var C=n.startsWith("".concat(f,"-StartDate-soft_packages_date_form_field")),I=Fy(C?"d1":"d2",D,!0),A="&".concat(C?"checkInDate":"checkOutDate","=").concat(b);return"".concat(e).concat(I).concat(A)}if(n.startsWith(h)){var O=n.startsWith("".concat(h,"-StartDate-date_form_field")),F="&".concat(O?"fromDate":"toDate","=").concat(b),k=Fy(O?"d1":"d2",D,!0),R="&".concat(O?"checkInDate":"checkOutDate","=").concat(b);return"".concat(e).concat(F).concat(k).concat(o?R:"")}}var G="add-";if(G){if(n.startsWith("".concat(G,"hotel-switch"))&&l)return"".concat(e,"&add-hotel-checkbox=");if(n.startsWith("".concat(G,"car-switch"))&&l)return"".concat(e,"&add-car-checkbox=")}return e}),"?".concat(i)),s=n?"&isDirectFlight=true":"",d=(c.match(/childAges/g)||[]).length;return"".concat(c,"&childrenPerRoom[1]=").concat(d).concat(s)},Gy=(he(Dy={},bc,"ADULT"),he(Dy,Tc,"CHILD"),he(Dy,Ic,"INFANT_IN_LAP"),he(Dy,Cc,"INFANT_IN_SEAT"),Dy),Py={ROUND_TRIP:"ROUND_TRIP",ONE_WAY:"ONE_WAY",MULTI_CITY:"MULTI_DESTINATION"},Ly={ECONOMY:"COACH",ECONOMY_PREMIUM:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST_CLASS:"FIRST"},Ny=function(e,t){var n=null==e?void 0:e.current,a={primary:{journeyCriterias:[],travelers:[],tripType:t},secondary:null};return n?Object.keys(n.elements).filter((function(e){return e.startsWith("EGDS")})).map((function(e){return{name:e,value:n.elements[e].value}})).reduce(xy,a):a},xy=function(e,t){var n=t.name,a=t.value;if(n.startsWith("".concat(pm,"-flight_type_selector"))){var r,l=Ce(Te({},e.primary),{tripType:null!==(r=Py[a])&&void 0!==r?r:"ROUND_TRIP"});return Ce(Te({},e),{primary:l})}if(n.startsWith("".concat(pm,"-cabin_class"))){var i,o,c=Ce(Te({},null!==(i=e.primary.searchPreferences)&&void 0!==i?i:{}),{cabinClass:null!==(o=Ly[a])&&void 0!==o?o:"COACH"}),s=Ce(Te({},e.primary),{searchPreferences:c});return Ce(Te({},e),{primary:s})}if(n.startsWith(Dc)){var d=n.startsWith(bc),u=n.split("-"),m=d?bc:u.slice(0,u.length-1).join("-"),p=Number.parseInt(a,10),y=d?Array.from(Array(p).keys()).map((function(e){return{type:Gy[m],age:null}})):[{type:Gy[m],age:a?p:null}];return Ce(Te({},e),{primary:Ce(Te({},e.primary),{travelers:Fe(e.primary.travelers).concat(Fe(y))})})}if(n.startsWith("".concat(eo,"-origin_select"))){var _="".concat(eo,"-origin_select-");if(n.startsWith(_)){var v,S=Ae(n.split(_),2)[1],g=Fe(e.primary.journeyCriterias);g[Number(S)]=Ce(Te({},null!==(v=g[Number(S)])&&void 0!==v?v:g[0]),{origin:a});var E=Ce(Te({},e.primary),{journeyCriterias:Fe(g)});return Ce(Te({},e),{primary:E})}var f,h=e.primary.journeyCriterias.length,D=Ce(Te({},null!==(f=e.primary.journeyCriterias[h-1])&&void 0!==f?f:{}),{origin:a}),b=Ce(Te({},e.primary),{journeyCriterias:[D]});return Ce(Te({},e),{primary:b})}if(n.startsWith("".concat(eo,"-destination_select"))){var T,C="".concat(eo,"-destination_select-");if(n.startsWith(C)){var I,A=Ae(n.split(C),2)[1],O=Fe(e.primary.journeyCriterias);O[Number(A)]=Ce(Te({},null!==(I=O[Number(A)])&&void 0!==I?I:O[0]),{destination:a});var F=Ce(Te({},e.primary),{journeyCriterias:Fe(O)});return Ce(Te({},e),{primary:F})}var k=Ce(Te({},null!==(T=e.primary.journeyCriterias[0])&&void 0!==T?T:{}),{destination:a}),R=Ce(Te({},e.primary),{journeyCriterias:[k]});return Ce(Te({},e),{primary:R})}if(n.startsWith(Tl.START_DATE_NAME_PREFIX)||n.startsWith(Tl.END_DATE_NAME_PREFIX)){var G,P=Ae(a.split("-").map((function(e){return Number(e)})),3),L=P[0],N=P[1],x=P[2],M=Ce(Te({},null!==(G=e.primary.journeyCriterias[0])&&void 0!==G?G:{}),he({},n.startsWith(Tl.START_DATE_NAME_PREFIX)?"departureDate":"arrivalDate",{day:x,month:N,year:L})),B=Ce(Te({},e.primary),{journeyCriterias:[M]});return Ce(Te({},e),{primary:B})}if(n.startsWith(Ol)){var w,W=Ae(a.split("-").map((function(e){return Number(e)})),3),U=W[0],H=W[1],z=W[2],V="".concat(Ol,"-date_form_field-");if(n.startsWith(V)){var Y,q=Ae(n.split(V),2)[1],j=Fe(e.primary.journeyCriterias);j[Number(q)]=Ce(Te({},null!==(Y=j[Number(q)])&&void 0!==Y?Y:j[0]),{departureDate:{day:z,month:H,year:U}});var $=Ce(Te({},e.primary),{journeyCriterias:Fe(j)});return Ce(Te({},e),{primary:$})}var K=Ce(Te({},null!==(w=e.primary.journeyCriterias[0])&&void 0!==w?w:{}),{departureDate:{day:z,month:H,year:U}}),Q=Ce(Te({},e.primary),{journeyCriterias:[K]});return Ce(Te({},e),{primary:Q})}return e},My="yyyy-MM-dd",By=function(e){var t,n=e.action,r=e.egdsElementId,l=e.label,o=e.placeholder,c=e.origin,s=e.destination,d=e.skipReflection,u=n.datePicker,m=(0,I.useLocalization)().formatDateString,p=(0,i.k)(),y=p.state,_=p.dispatch,v=null!==(t=y.dates)&&void 0!==t?t:{},S=v.start,g=v.end,E=y.origin,f=y.destination,h=Ae(a.useState({startDate:(null==u?void 0:u.selectedStartDate)?m(Ua(null==u?void 0:u.selectedStartDate),{raw:My}):"",endDate:(null==u?void 0:u.selectedEndDate)?m(Ua(null==u?void 0:u.selectedEndDate),{raw:My}):"",shouldFireChangeEvent:!1}),2),D=h[0],b=h[1],T=D.startDate,A=D.endDate,O=D.shouldFireChangeEvent,F="EGDSDateRangePicker"===u.__typename?pe.Yk.ROUND_TRIP:pe.Yk.ONE_WAY,k=(0,C.u)("FlightsFareCalendar-".concat(F),(function(e){return e}));a.useEffect((function(){b({startDate:S||(u.selectedStartDate?m(Ua(u.selectedStartDate),{raw:My}):""),endDate:g||(u.selectedEndDate?m(Ua(u.selectedEndDate),{raw:My}):""),shouldFireChangeEvent:!1})}),[u]),a.useEffect((function(){if(O){b((function(e){return Ce(Te({},e),{shouldFireChangeEvent:!1})}));var e=F===pe.Yk.ROUND_TRIP?"".concat(T," - ").concat(A):"".concat(T);rr(e,k)}}),[D]);var R,G,P={startName:r,startId:r,startLabel:l,endLabel:l,startPlaceholder:o,buttonText:u.buttonText},L={startDate:T,endDate:A,singleMode:F===pe.Yk.ONE_WAY,dateFieldProps:P,onChange:function(e){var t,n;null==e||e.forEach((function(e){var a=e.value;"startDate"===e.fieldName?t=a:n=a})),t===D.startDate&&n===D.endDate||(d||_({type:"UPDATE_DATES",end:n,start:t}),b({startDate:t,endDate:n,shouldFireChangeEvent:!0}))},origin:null!==(R=null==E?void 0:E.term)&&void 0!==R?R:c,destination:null!==(G=null==f?void 0:f.term)&&void 0!==G?G:s,firstDayOfWeek:Ha[u.firstDayOfWeek],tripType:F,onSubmitAnalytics:!0,singleTrigger:F===pe.Yk.ROUND_TRIP};return a.createElement(a.Fragment,null,a.createElement(pe.x3,Te({},L)),F===pe.Yk.ONE_WAY&&a.createElement("input",{type:"hidden","data-stid":Ol,name:"".concat(Ol,"-").concat(r),value:T}),F===pe.Yk.ROUND_TRIP&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":Tl.START_DATE_NAME_PREFIX,name:"".concat(Tl.START_DATE_NAME_PREFIX,"-").concat(r),value:T}),a.createElement("input",{type:"hidden","data-stid":Tl.END_DATE_NAME_PREFIX,name:"".concat(Tl.END_DATE_NAME_PREFIX,"-").concat(r),value:A})))},wy={},Wy=(he(by={},d.OB.SMALL,{default:{minWidth:"full_width"}}),he(by,d.OB.MEDIUM,{EGDSSearchFormLocationsField:{grow:1,minWidth:"half_width"},EGDSSearchFormDatePickerField:{minWidth:"third_width",maxWidth:"third_width"},EGDSSearchFormTravelersField:{grow:1},default:wy}),he(by,d.OB.LARGE,{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"half_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:wy}),he(by,d.OB.EXTRA_LARGE,{EGDSSearchFormLocationsField:{minWidth:"half_width",maxWidth:"full_width"},EGDSSearchFormDatePickerField:{grow:2},EGDSSearchFormTravelersField:{grow:2},EGDSSearchFormButton:{grow:0},default:wy}),by),Uy=function(e,t){var n,a=Wy[t];return null!==(n=a[e])&&void 0!==n?n:a.default},Hy=[Ta,np,Pl,Mc],zy=function(e){var t=e.viewSize,n=e.fields,r=e.legs,l=e.defaultValidationProps,i=e.errorState,o=e.onLocationsSelection,c=e.updatePlaybackDates,s=e.fareCalendarData,u=e.search,m=e.softPackages,p=e.additionalAdapterFields,y=e.searchLocationAnalytics,_=e.onOpenLocationField,v=e.isExperienceAPIDriven,S=r.length>0?[r[0].locations,r[0].date]:[],g=n.filter((function(e){return"EGDSSearchFormTravelersField"===e.__typename}));g.length>0&&g[0]&&S.push(g[0]);var E=a.useContext(l_),f=E.enablePriceCalendar,h=E.priceCalendarInputs,D=E.onLocationChange,T=f?{lobName:"flights",enablePriceCalendar:f,priceCalendarInputs:h,onLocationChange:D}:void 0;return a.createElement(b.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},S.map((function(e,n){var r=e.__typename,d=Hy.find((function(e){return e.displayName===r})),u=Uy(r,t),m=Te(Ce(Te({},l),{fieldError:Hc(i,r)}),"EGDSSearchFormLocationsField"===r&&{originFieldError:Hc(i,"".concat(e.origin.__typename,"Origin")),destinationFieldError:Hc(i,"".concat(e.destination.__typename,"Destination"))}),S=Te({originRef:"EGDSSearchFormLocationsField"===r?m:null,destinationRef:"EGDSSearchFormLocationsField"===r?m:null,onLocationsSelection:"EGDSSearchFormLocationsField"===r?o:null,onOpenLocationField:"EGDSSearchFormLocationsField"===r?_:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===r?c:null,searchLocationAnalytics:"EGDSSearchFormLocationsField"===r?y:null,isExperienceAPIDriven:"EGDSSearchFormLocationsField"===r?v:null},"EGDSSearchFormLocationsField"===r?{additionalAdapterFields:p}:{});if("EGDSSearchFormDatePickerField"===r&&(null==s?void 0:s.enabled)){var g={action:e.action,egdsElementId:e.egdsElementId,label:e.label,placeholder:e.placeholder,origin:s.origin,destination:s.destination};return a.createElement(b.j,Te({key:"field_".concat(r,"_").concat(n)},u),a.createElement("div",null,a.createElement(By,Ce(Te({},g,e),{key:"SearchFormFareCalendarWrapper"}))))}return d&&a.createElement(b.j,Te({key:"field_".concat(r,"_").concat(n)},u),a.createElement("div",null,a.createElement(d,Te(Ce(Te({},m,S),{data:e}),{priceCalendarProps:T}))))})),t===d.OB.SMALL&&a.createElement(b.j,Te({},Uy("SoftPackages",t)),a.createElement("div",null,m)),u&&"EGDSSearchFormButton"===u.__typename&&a.createElement(b.j,Te({},Uy("EGDSSearchFormButton",t)),a.createElement("div",null,a.createElement(Pa,{data:u}))))},Vy={grow:5,minWidth:315,maxWidth:"full_width"},Yy={EGDSSearchFormButton:{},EGDSSearchFormLocationsField:Ce(Te({},Vy),{grow:10}),EGDSSearchFormDatePickerField:Ce(Te({},Vy),{grow:1}),EGDSSearchFormTravelersField:{grow:3,minWidth:225,maxWidth:225},default:Vy},qy=(he(Ty={},d.OB.SMALL,Ce(Te({},Yy),{EGDSSearchFormTravelersField:{grow:3},EGDSSearchFormButton:{grow:1,minWidth:315}})),he(Ty,d.OB.MEDIUM,Ce(Te({},Yy),{EGDSSearchFormButton:{grow:0,minWidth:32}})),he(Ty,d.OB.LARGE,Yy),he(Ty,d.OB.EXTRA_LARGE,Yy),Ty),jy=a.forwardRef((function(e,t){var n,r=e.leg,i=e.indexLeg,o=e.removeLegClick,c=e.addLegButtonRef,s=e.formProps,d=a.useRef(null);return a.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=d.current)||void 0===e||e.focus()}}})),a.createElement(l.b,{margin:{block:"three"},key:"field_leg_".concat(r.uniqueKey)},a.createElement("div",null,a.createElement(l.b,{margin:{blockend:"three",blockstart:"six"}},a.createElement(b.i,{wrap:"wrap",alignItems:"center",direction:"row",space:"three"},r.heading&&"EGDSBasicLocalizedText"===r.heading.__typename&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(F.E,{size:6,tabIndex:-1,domRef:d,tag:"h3","aria-live":"polite","aria-label":Da(r.heading.template,r.heading.models[0].key,(i+1).toString())},Da(r.heading.template,r.heading.models[0].key,(i+1).toString())))),"UITertiaryButton"===(null===(n=r.removeButton)||void 0===n?void 0:n.__typename)&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(O.E,{size:"medium",onClick:function(){return o(i,c)}},a.createElement("button",{type:"button"},r.removeButton.primary)))))),a.createElement(b.i,{alignItems:"start",justifyContent:"space-between",wrap:"wrap",space:"three"},r.items.map((function(e,t){return a.createElement(Ky,Te({key:"multicity_leg_item_".concat(t),element:e,index:i},s))})))))}));jy.displayName="MulticityLegItem";var $y=[Ta,np,Pl,Mc,Pa,Fo],Ky=function(e){var t,n,r=e.element,l=e.index,i=e.defaultValidationProps,o=e.viewSize,c=e.errorState,s=e.onLocationsSelection,d=e.legsElements,u=e.updatePlaybackDates,m=e.additionalAdapterFields,p=e.searchLocationAnalytics,y=e.isExperienceAPIDriven,_=r.__typename,v=$y.find((function(e){return e.displayName===_})),S=null!==(t=(n=qy[o])[_])&&void 0!==t?t:n.default,g=Te(Ce(Te({},i),{fieldError:Hc(c,_)}),"EGDSSearchFormLocationsField"===_&&{originFieldError:Hc(c,"".concat(r.origin.__typename,"Origin-leg").concat(l)),destinationFieldError:Hc(c,"".concat(r.destination.__typename,"Destination-leg").concat(l))}),E=function(e,t){i.setFieldRefByTypename(e,t,l.toString())},f=Ce(Te(Ce(Te(Ce(Te({originRef:"EGDSSearchFormLocationsField"===_?Ce(Te({},g),{setFieldRefByTypename:E}):null,destinationRef:"EGDSSearchFormLocationsField"===_?Ce(Te({},g),{setFieldRefByTypename:E}):null},"EGDSSearchFormLocationsField"===_?{additionalAdapterFields:m}:{}),{index:l}),l>0?{skipReflection:!0}:{}),{onLocationsSelection:"EGDSSearchFormLocationsField"===_?s:null,updatePlaybackDates:"EGDSSearchFormDatePickerField"===_?u:null,totalLegs:d.length,input1Stid:"EGDSSearchFormDatePickerField"===_&&0!==l?l:null}),"EGDSSearchFormLocationsField"===_&&{isExperienceAPIDriven:y}),{searchLocationAnalytics:"EGDSSearchFormLocationsField"===_?p:null});return a.createElement(b.j,Te({key:"field_".concat(_,"_").concat(l)},S),a.createElement("div",null,v&&a.createElement(v,Te({data:r},g,f))))},Qy=function(e){var t,n,r=e.beforeLegsSlot,l=e.addLeg,i=e.search,o=e.legsElements,c=e.addLegClick,s=e.removeLegClick,u=e.addLegDisabled,m=e.focusLastFlight,p=a.createRef(),y=a.createElement(a.Fragment,null,"UITertiaryButton"===(null==l?void 0:l.__typename)&&a.createElement(b.j,null,a.createElement("div",null,a.createElement(O.E,{size:"medium",onClick:c,domRef:p},a.createElement("button",{type:"button",disabled:u},a.createElement(v.a,{name:null!==(n=null===(t=l.icon)||void 0===t?void 0:t.id)&&void 0!==n?n:""}),l.primary)))),i&&a.createElement(Ky,Te({element:i,index:0},e))),_=Ae(a.useState({}),2),S=_[0],g=_[1];return a.useEffect((function(){var e=o.reduce((function(e,t,n){return e["leg-heading-".concat(n)]=a.createRef(),e}),{});g(e)}),[o]),a.useEffect((function(){if(m){var e,t,n="leg-heading-".concat(o.length-1);null===(t=S[n])||void 0===t||null===(e=t.current)||void 0===e||e.focus()}}),[S,m,o.length]),a.createElement(a.Fragment,null,a.createElement(b.i,{alignContent:"start",justifyContent:"start",wrap:"wrap",space:"three"},r.map((function(t,n){return a.createElement(Ky,Te({key:"multicity_before_leg_".concat(n),element:t,index:n},e))}))),o.map((function(t,n){var r="leg-heading-".concat(n);return a.createElement(jy,{key:n,ref:S[r],leg:t,indexLeg:n,removeLegClick:s,addLegButtonRef:p,formProps:e})})),a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(b.i,{justifyContent:"space-between",space:"three",direction:"column"},y)),a.createElement(d.rw,null,a.createElement(b.i,{justifyContent:"space-between",wrap:"wrap",space:"three",alignItems:"center"},y))))},Jy=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","_").concat(Math.random().toString(16).slice(2))},Xy=function(e){var t,n=(0,g.KY)(),r=e.legs,l=e.search,o=e.addLeg,c=e.removeLeg,s=e.legHeading,u=e.elements,m=e.maxAllowedLegs,p=e.playback,y=e.autoOpenPlayback,_=e.stickyPlayback,v=e.getFlightSearchCriteria,S=e.searchLocationAnalytics,E=u.filter((function(e){return"EGDSSearchFormTravelersField"===e.__typename})),f=(null!==(t=(0,i.k)().state.dates)&&void 0!==t?t:{}).start,h=r.map((function(e,t){var n,a=e.date;if(f&&/^\d{4}-\d{2}-\d{2}$/.test(f)&&t>0&&"EGDSOpenDatePickerAction"===(null===(n=r[0].date.action)||void 0===n?void 0:n.__typename)){var l=f.split("-");a=Ce(Te({},r[0].date),{action:Ce(Te({},r[0].date.action),{datePicker:Ce(Te({},r[0].date.action.datePicker),{selectedStartDate:Ce(Te({},r[0].date.action.datePicker.selectedStartDate),{day:parseInt(l[2],10),month:parseInt(l[1],10),year:parseInt(l[0],10)})})})})}return{items:[e.locations,a],heading:s,removeButton:null,uniqueKey:Jy()}})),D=Ae(a.useState(h),2),b=D[0],T=D[1],C=Ae(a.useState(h.length),2),I=C[0],A=C[1],O=Ae(a.useState(!1),2),F=O[0],k=O[1],R=Ae(a.useState(!1),2),G=R[0],P=R[1],L=Ae(a.useState(!y),2),N=L[0],x=L[1],M=Ce(Te({},e),{beforeLegsSlot:E,legsElements:b,addLegClick:function(){var e;if(P(!0),"UITertiaryButton"===(null==o?void 0:o.__typename)&&o.analytics){var t=o.analytics,a=t.referrerId,l=t.linkName;n(a,l)}I+1===m&&k(!0),A((function(e){return e+1}));var i=Ce(Te({},r[0].locations),{origin:Ce(Te({},r[0].locations.origin),{value:""}),destination:Ce(Te({},r[0].locations.destination),{value:""})}),d=v().primary.journeyCriterias,u=r[0].date;if("EGDSOpenDatePickerAction"===(null===(e=r[0].date.action)||void 0===e?void 0:e.__typename)){var p,y,_=null!==(y=null===(p=d[I-1])||void 0===p?void 0:p.departureDate)&&void 0!==y?y:{};u=Ce(Te({},u),{action:Ce(Te({},r[0].date.action),{datePicker:Ce(Te({},r[0].date.action.datePicker),{selectedStartDate:Te({},r[0].date.action.datePicker.selectedStartDate,_)})})})}T((function(e){return Fe(e).concat([{items:[i,u],uniqueKey:Jy(),heading:s,removeButton:c}])}))},removeLegClick:function(e,t){var a;if("UITertiaryButton"===(null==c?void 0:c.__typename)&&c.analytics){var r=c.analytics,l=r.referrerId,i=r.linkName;n(l,i)}null==t||null===(a=t.current)||void 0===a||a.focus(),F&&I-1<(null!=m?m:5)&&k(!1),A((function(e){return e-1})),T((function(t){var n=Fe(t);return n.splice(e,1),n}))},addLeg:o,search:l,addLegDisabled:F,searchLocationAnalytics:S,focusLastFlight:G});return a.createElement(d.LM,null,a.createElement(d.NP,null,p?a.createElement(Wc,{data:p,stickyPlayback:_,display:N,onDisplayToggle:function(e){x(e)}},a.createElement(Qy,Ce(Te({},M),{viewSize:d.OB.SMALL}))):a.createElement(Qy,Ce(Te({},M),{viewSize:d.OB.SMALL}))),a.createElement(d.rw,null,a.createElement(Qy,Ce(Te({},M),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(Qy,Ce(Te({},M),{viewSize:d.OB.LARGE}))))},Zy=function(e,t,n){return{startDateInput:e.find(Qc(t)),endDateInput:e.find(Qc(n)),config:{maxNumberOfDaysSelected:0}}},e_=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var a=Zy(t,"EGDSSingleDatePicker-Date-date_form_field-0","EGDSSingleDatePicker-Date-date_form_field-1");return{location:{origin:t.filter(Qc("origin_select")),destination:t.filter(Qc("destination_select")),config:{sameLocationSelected:!0}},dates:a,travelers:{totalTravelers:Jc(t),config:{maxTotalTravelers:6}}}}if(n){var r=function(e,t,n,a){return{startDateInput:e.find(Qc(t)),endDateInput:void 0,softPackagesStartDateInput:n?e.find(Qc(n)):null,softPackageEndDateInput:a?e.find(Qc(a)):null,config:{maxNumberOfDaysSelected:0}}}(t,"EGDSSingleDatePicker-Date-date_form_field","EGDSDateRangePickerSoftPackages-StartDate-soft_packages_date_form_field","EGDSDateRangePickerSoftPackages-EndDate-soft_packages_date_form_field");return{location:{origin:t.find(Qc("origin_select")),destination:t.find(Qc("destination_select")),config:{sameLocationSelected:!0}},dates:r,travelers:{totalTravelers:Jc(t),config:{maxTotalTravelers:6}}}}var l=Zy(t,"EGDSDateRangePicker-StartDate-date_form_field","EGDSDateRangePicker-EndDate-date_form_field");return{location:{origin:t.find(Qc("origin_select")),destination:t.find(Qc("destination_select")),config:{sameLocationSelected:!0}},dates:l,travelers:{totalTravelers:Jc(t),config:{maxTotalTravelers:6}}}},t_=(0,u.J1)(On(),Ta.fragment,np.fragment,Pl.fragment,Mc.fragment,Pa.fragment,Fo.fragment,Qo,Wc.fragment,hy.fragment,Ji),n_=new Map,a_=function(e){var t,n,r,i,o=e.onFieldChange,c=e.flightType,s=e.useFareCalendar,u=e.onSubmit,m=e.redirectToSearchResultOnSubmit,p=e.stickyPlayback,y=e.displayPlayback,_=e.onDisplayPlaybackToggle,v=e.cabinClass,S=e.directFlightsOnlySwitch,g=e.data,E=e.enableBffForSearchLocation,f=void 0!==E&&E,h=g.errorSummary,D=g.elements,b=g.search,T=g.addLeg,A=g.removeLeg,O=g.legHeading,F=g.localDateFormat,k=g.legs,R=g.maxAllowedLegs,G=g.playback,P=g.softPackages,L=g.searchLocation,N=(0,I.useLocalization)(),x=a.useRef(null),M=new URLSearchParams((0,me.zy)().search),B=Ae(a.useState(G),2),w=B[0],W=B[1],U=Ae(a.useState({EGDSSearchFormLocationsField:null,EGDSSearchFormDatePickerField:null,EGDSDatePickerFieldSoftPackages:null}),2),H=U[0],z=U[1],V={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},Y=Ae(a.useState(V),2),q=Y[0],j=Y[1],$=q.displayErrorSummary,K=q.errorCount,Q=q.errorLinkReference,J=a.useCallback((function(e,t,n){var a,r=zc(e,null===(a=t.current)||void 0===a?void 0:a.id),l=n?"".concat(r,"-leg").concat(n):r;z((function(e){return Ce(Te({},e),he({},l,t))}))}),[]),X=a.useRef(!0),Z=k.length>0?k[0].locations:null,ee=Z||null,te=null!==(r=null==ee?void 0:ee.origin.value)&&void 0!==r?r:"",ne=null!==(i=null==ee?void 0:ee.destination.value)&&void 0!==i?i:"",ae=Ae(a.useState({origin:te,destination:ne,enabled:null!=s&&s}),2),re=ae[0],le=ae[1],ie=Ae(a.useState([{type:"ONE_WAY",hasRendered:!1},{type:"ROUND_TRIP",hasRendered:!1},{type:"MULTI_DESTINATION",hasRendered:!1}]),2),oe=ie[0],ce=ie[1],se=function(){var e=oe.map((function(e){var t=e;return e.type!==c||e.hasRendered||(t.hasRendered=!0),t}));ce(e)};a.useEffect((function(){var e;X.current?(se(),X.current=!1):((null===(e=oe.find((function(e){return e.type===c})))||void 0===e?void 0:e.hasRendered)&&"MULTI_DESTINATION"!==c||re.enabled&&le(Ce(Te({},re),{origin:"",destination:""})),se())}),[c]);var de=Ae(a.useState(P),2),ue=de[0],pe=de[1],ye="EGDSBasicCheckBox"===(null==ue||null===(t=ue.addHotel)||void 0===t?void 0:t.__typename)&&"CHECKED"===ue.addHotel.state,_e="EGDSBasicCheckBox"===(null==ue||null===(n=ue.addCar)||void 0===n?void 0:n.__typename)&&"CHECKED"===ue.addCar.state||ye,ve=ue&&a.createElement(hy,{data:ue,onProductSelect:function(e){var t=e.currentTarget,n=t.name,a=t.checked;pe((function(e){var t,r;return"EGDSBasicCheckBox"===(null==e||null===(t=e.addCar)||void 0===t?void 0:t.__typename)&&null!==e.addCar.name&&n.includes(e.addCar.name)?Ce(Te({},e),{addCar:Ce(Te({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==e||null===(r=e.addHotel)||void 0===r?void 0:r.__typename)&&null!==e.addHotel.name&&n.includes(e.addHotel.name)?Ce(Te({},e),{addHotel:Ce(Te({},e.addHotel),{state:a?"CHECKED":"UNCHECKED"})}):e}))},setFieldRefByTypename:J,currentSearchFormProduct:"flights",fieldError:q.fieldsWithErrors.find((function(e){return"EGDSSearchFormDatePickerFieldSoftPackages"===e.__typename}))});a.useEffect((function(){pe(P)}),[P]);var Se,ge,Ee=a.useContext(l_),fe=D,De=Ce(Te({},e),{flightType:c,errorState:q,defaultValidationProps:{setFieldRefByTypename:J},fields:fe,legs:k,onLocationsSelection:function(e){var t,n,a,r,l,i;!f&&(null==e||null===(n=e.data)||void 0===n||null===(t=n.regionNames)||void 0===t?void 0:t.fullName)&&(null==e||null===(r=e.data)||void 0===r||null===(a=r.type)||void 0===a?void 0:a[0])?n_.set(e.data.regionNames.fullName,e.data.type[0].toUpperCase()):f&&(null==e||null===(l=e.data)||void 0===l?void 0:l.locationFullName)&&(null==e||null===(i=e.data)||void 0===i?void 0:i.geoType)&&n_.set(e.data.locationFullName,e.data.geoType.toUpperCase()),W((function(t){var n,a,r,l,i,o,c,s,d,u,m,p,y;if(!t)return null;var _,v=t.primary,S=t.primaryTemplate;if((null!==(_=null===(n=e.data)||void 0===n?void 0:n.index)&&void 0!==_?_:0)>0)return Te({},t);var g=(null===(r=e.data)||void 0===r||null===(a=r.origin)||void 0===a?void 0:a.includes("("))?null===(i=e.data)||void 0===i||null===(l=i.origin)||void 0===l?void 0:l.split("(")[0].trim():null===(c=e.data)||void 0===c||null===(o=c.origin)||void 0===o?void 0:o.trim(),E=(null===(d=e.data)||void 0===d||null===(s=d.destination)||void 0===s?void 0:s.includes("("))?null===(m=e.data)||void 0===m||null===(u=m.destination)||void 0===u?void 0:u.split("(")[0].trim():null===(y=e.data)||void 0===y||null===(p=y.destination)||void 0===p?void 0:p.trim(),f=Da(null==S?void 0:S.text,"origin",g),h=Ce(Te({},v),{text:Da(f,"destination",E)});return Ce(Te({},t),{primary:h})}))},maxAllowedLegs:R,fareCalendarData:re,search:b,softPackages:ve,updatePlaybackDates:function(e,t){W((function(n){if(!n)return null;var a=Ae(n.secondaries,2),r=a[0],l=a[1],i="EGDSPlainText"===r.__typename?Ce(Te({},r),{text:ar(e,r.text,t,N)}):r;return Ce(Te({},n),{secondaries:[i,l]})}))},searchLocationAnalytics:null==L?void 0:L.analytics,isExperienceAPIDriven:f});return a.createElement(C.E,{id:null!==(Se=g.egdsElementId)&&void 0!==Se?Se:"search-flight-form",name:null!==(ge=g.egdsElementId)&&void 0!==ge?ge:"search-flight-form",method:"GET",action:_e&&(null==ue?void 0:ue.actionURL)?ue.actionURL:g.actionURL,ref:x,onFieldChange:function(e,t){var n;"origin_select"!==e.name&&"destination_select"!==e.name||!(null==Ee?void 0:Ee.enablePriceCalendar)||(null===(n=Ee.onLocationChange)||void 0===n||n.call(Ee,{name:e.name,value:e.value}));if(o){var a=Ny(x,c),r=a.primary,l=r.travelers,i=(null==Ee?void 0:Ee.enablePriceCalendar)?{primary:Ce(Te({},r),{journeyCriterias:Ee.priceCalendarInputs.journeyCriteria,travelers:l,tripType:c}),secondary:null}:a,s=ky(i,M,{localDateFormat:F,formatDateString:N.formatDateString},n_);o(e,t,s)}if(re.enabled)switch(e.name){case"origin_select":le(Ce(Te({},re),{origin:e.value}));break;case"destination_select":le(Ce(Te({},re),{destination:e.value}))}W((function(t){if(!t)return null;var n=Cy.TRAVELER_SELECTOR,a=t.secondaries,r=e.value,l=Ae(a,2),i=l[0],o=l[1],c=e.name===n?Ce(Te({},o),{text:r}):o;return Ce(Te({},t),{secondaries:[i,c]})}))},onSubmit:function(e){j(V);var t=Array.from(e.currentTarget.elements),n="MULTI_DESTINATION"===c,a=Jc(t),r=e_(n,t);r.travelers={totalTravelers:a,config:{maxTotalTravelers:6}};var l,i=function(e,t){return e?Kc(t):$c(t)}(n,r);if(!(0===i.length))return j({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:!0,errorLinkReference:H[null===(l=i[0])||void 0===l?void 0:l.__typename]}),void e.preventDefault();if(u||m){var o=function(e,t,n){var a={primary:{journeyCriterias:[],travelers:[],tripType:t,searchPreferences:{advancedFilters:n?["NONSTOP"]:[],cabinClass:"COACH"}},secondary:null};return Array.from(e.currentTarget.elements).filter((function(e){return e.name.startsWith("EGDS")})).reduce(xy,a)}(e,c,S);if(u&&u(e,{flightSearchCriteria:o}),m){e.preventDefault();var s=e.currentTarget,d=s.action,p=s.elements,y=Array.from(p),_=_e?Ry(y,c,S,{localDateFormat:F,formatDateString:N.formatDateString}):ky(o,M,{localDateFormat:F,formatDateString:N.formatDateString},n_);window.location.href="".concat(d).concat(_)}}},hasRequiredFieldIndicator:!0},$&&h&&a.createElement(l.b,{margin:{block:"two"}},a.createElement("div",null,a.createElement(Ta,{data:h,errorCount:K,inputErrorRef:Q}))),a.createElement(l.b,{margin:{blockstart:"six"}},a.createElement("div",{id:"FlightSearchForm_".concat(c),"data-testid":"FlightSearchForm_".concat(c)},"MULTI_DESTINATION"===c&&"EGDSSearchFormButton"===(null==b?void 0:b.__typename)?a.createElement(Xy,Ce(Te({},De),{addLeg:T,removeLeg:A,legHeading:O,search:b,legs:k,elements:D,playback:w,getFlightSearchCriteria:function(){return Ny(x,c)}})):a.createElement(d.LM,null,a.createElement(d.NP,null,w?a.createElement(Wc,{data:w,stickyPlayback:p,display:y,onDisplayToggle:_},a.createElement(zy,Ce(Te({},De),{viewSize:d.OB.SMALL}))):a.createElement(zy,Ce(Te({},De),{viewSize:d.OB.SMALL}))),a.createElement(d.rw,null,a.createElement(zy,Ce(Te({},De),{viewSize:d.OB.MEDIUM}))),a.createElement(d.zQ,null,a.createElement(zy,Ce(Te({},De),{viewSize:d.OB.LARGE})))))),ve&&a.createElement(d.LM,null,a.createElement(d.rw,null,a.createElement(l.b,{margin:{blockstart:"three"}},a.createElement("div",null,ve)))),a.createElement("input",{type:"hidden",name:v.name,value:v.value}))};a_.fragment=t_,a_.displayName="FlightSearchForm";var r_=(0,u.J1)(Fn(),a_.fragment),l_=a.createContext({lobName:"flights",enablePriceCalendar:!1,priceCalendarInputs:{flightsSearchContext:{tripType:"ROUND_TRIP"},journeyCriteria:[]},onLocationChange:void 0}),i_=function(e){var t,n,r,o,c,s,u,_,v,S,E=e.inputs,f=e.skipSsr,h=e.skipQuery,D=void 0!==h&&h,b=e.batchKey,T=e.includePlayback,C=e.features,I=e.enablePriceCalendar,A=e.pageLocation,O=(0,p.R)().context,F=(0,i.k)(),k=F.state,R=F.dispatch,G=Ce(Te({},E),{context:O,includePlayback:!!T,features:C,pageLocation:A}),P=null!==(S=null===(t=E.flightSearchCriteria)||void 0===t?void 0:t.primary.tripType)&&void 0!==S?S:"ROUND_TRIP",L=(0,y.useLoggerEvents)(qp),N=(0,m.I)(r_,{context:{batchKey:b},variables:G,ssr:!f,skip:D}),x=N.data,M=N.error,B=N.loading,w=Ce(Te({},e),{flightType:P}),W={origin:(null===(n=k.origin)||void 0===n?void 0:n.term)||"",destination:(null===(r=k.destination)||void 0===r?void 0:r.term)||"",departureDate:Qp(14).departureDate,flightsCabinClass:"COACH"},U=Ae(a.useState((null===(c=E.flightSearchCriteria)||void 0===c||null===(o=c.primary.journeyCriterias)||void 0===o?void 0:o.length)?E.flightSearchCriteria.primary.journeyCriterias:[W]),2),H=U[0],z=U[1];a.useEffect((function(){var e,t,n,a,r,l=null==x||null===(e=x.searchForm)||void 0===e?void 0:e.flight,i=null==l||null===(r=l.legs)||void 0===r||null===(a=r[0])||void 0===a||null===(n=a.locations)||void 0===n||null===(t=n.origin)||void 0===t?void 0:t.value;z((function(e){var t,n,a,r,l,o;return[Ce(Te({},e[0]),{origin:(null===(t=k.origin)||void 0===t?void 0:t.term)||(null===(n=e[0])||void 0===n?void 0:n.origin)||i||"",destination:(null===(a=k.destination)||void 0===a?void 0:a.term)||(null===(r=e[0])||void 0===r?void 0:r.destination)||"",departureDate:(null===(l=e[0])||void 0===l?void 0:l.departureDate)||W.departureDate,flightsCabinClass:(null===(o=e[0])||void 0===o?void 0:o.flightsCabinClass)||"COACH"})]}))}),[null===(s=k.origin)||void 0===s?void 0:s.term,null===(u=k.destination)||void 0===u?void 0:u.term]);var V=a.useCallback((function(e){"origin_select"===e.name?R({type:"UPDATE_ORIGIN",location:{term:e.value,data:{}}}):"destination_select"===e.name&&R({type:"UPDATE_DESTINATION",location:{term:e.value,data:{}}}),z((function(t){return[Te({},t[0],"origin_select"===e.name?{origin:e.value}:{},"destination_select"===e.name?{destination:e.value}:{})]}))}),[R]),Y=a.useMemo((function(){var e,t;return{lobName:"flights",enablePriceCalendar:null!=I&&I,priceCalendarInputs:{flightsSearchContext:{tripType:(null===(t=E.flightSearchCriteria)||void 0===t||null===(e=t.primary)||void 0===e?void 0:e.tripType)||"ROUND_TRIP"},journeyCriteria:H},onLocationChange:V}}),[I,null===(v=E.flightSearchCriteria)||void 0===v||null===(_=v.primary)||void 0===_?void 0:_.tripType,H,V]);return B?a.createElement(l.b,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(d.rw,null,a.createElement(Zn,{rows:[{type:"primary"}]}))))):M||"FlightSearchForm"!==(null==x?void 0:x.searchForm.flight.__typename)?(L.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_QUERY_FAILURE.log({name:null==M?void 0:M.name,error:new Error(null==M?void 0:M.message)}),a.createElement(Yn,null,a.createElement(g.ee,Te({},jp.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_FALLBACK_IMPRESSION),a.createElement(a_,Ce(Te({},w),{data:gy(P)}))))):a.createElement(g.ee,Te({},jp.SEARCH_TOOLS_FLIGHTS_SEARCH_FORM_IMPRESSION),a.createElement(l_.Provider,{value:Y},a.createElement(a_,Ce(Te({},w),{data:x.searchForm.flight}))))};i_.displayName="sharedui-FlightsSearchForm";var o_={egdsElementId:"search_form_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on search form",referrerId:"Web.Hotels.Search.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on search form",referrerId:"Web.Hotels.Search.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},c_={__typename:"EGDSSearchFormLocationField",egdsElementId:"destination_form_field",label:"Going to",placeholder:"Going to",value:null,errorMessage:"Please select a destination",validations:[{errorMessage:"Please select a destination",__typename:"EGDSRequiredInputValidation"},{errorMessage:"Please make sure your departure and arrival cities are different",__typename:"EGDSSameValueInputValidation"}],required:!1,leftIcon:{title:null,__typename:"Icon"},closeAnalytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},action:{accessibility:null,analytics:{linkName:"Location selection",referrerId:"Web.Hotels.Location.Open",__typename:"ClientSideAnalytics"},info:{client:"Homepage",drivable:!0,isDestination:!0,lineOfBusiness:"HOTELS",maxNumberOfResults:8,packageType:null,personalize:!0,regionType:2047,typeaheadFeatures:"ta_hierarchy|postal_code|google|consistent_display",isMultiLocation:null,domain:null,regionId:null,showCurrentLocation:null,__typename:"TypeaheadInfo",subLob:null,expUserId:"-1",trending:!1},emptyResultsPlaceholder:"Search by destination, accommodations, or landmark",categorize:!1,allowExactMatch:!0,listTitle:!1,selectedItemHeading:null,clearAllText:null,dismissButtonText:null,__typename:"OpenTypeaheadAction"},multiLocations:null,changeAnalytics:null,regionId:null,debounceRate:null,regionType:"UNKNOWN",coordinates:null,airportCode:null},s_=new Date,d_=new Date(s_.getFullYear(),s_.getMonth(),s_.getDate()+14),u_=new Date(d_.getFullYear(),d_.getMonth(),d_.getDate()+1),m_=d_.getMonth()+1,p_=u_.getMonth()+1,y_={__typename:"EGDSSearchFormDatePickerField",egdsElementId:"date_form_field",label:"Dates",placeholder:"Dates",errorMessage:"Check-out date must be after check-in date",validations:[{errorMessage:"Check out date must be within 29 days of check in date",__typename:"EGDSMaxLengthInputValidation"},{__typename:"EGDSRequiredInputValidation"}],action:{accessibility:null,analytics:{linkName:"Calendar selection",referrerId:"Web.Hotels.Calendar.Open",__typename:"ClientSideAnalytics"},datePicker:{flexibleDateContent:{__typename:"EGDSDatePickerFlexibilityContent",calendarContent:{__typename:"EGDSDatePickerFlexibilityCalendarContent",flexibleDateOptions:[{accessibility:"Exact dates",disabled:!1,name:null,primary:"Exact dates",selected:!0,selectedText:null,value:"0_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.0_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 1 day",disabled:!1,name:null,primary:" 1 day",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 2 days",disabled:!1,name:null,primary:" 2 days",selected:!1,selectedText:null,value:"2_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.2_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 3 days",disabled:!1,name:null,primary:" 3 days",selected:!1,selectedText:null,value:"3_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.3_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"},{accessibility:"Plus or minus 7 days",disabled:!1,name:null,primary:" 7 days",selected:!1,selectedText:null,value:"7_DAY",icon:null,selectAnalytics:{linkName:"Flexible date selected",referrerId:"Web.Hotels.Calendar.Flexible.Date.Select.7_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null,__typename:"EGDSBasicPill"}],formElementId:"date_form_nested_flexible_field",title:null},contentSelector:{__typename:"EGDSBasicTabs",egdsElementId:"date_form_nested_flexible_tabs",selectedTabId:"date_form_nested_flexible_tab_calendar",tabs:[{__typename:"EGDSBasicTab",accessibility:"Calendar",clickAnalytics:{linkName:"Calendar tab select",referrerId:"Web.Hotels.Calendar.Select",__typename:"ClientSideAnalytics"},label:"Calendar",tabId:"date_form_nested_flexible_tab_calendar"},{__typename:"EGDSBasicTab",accessibility:"Flexible dates",clickAnalytics:{linkName:"Flexible dates tab select",referrerId:"Web.Hotels.FlexDateTab.Select",__typename:"ClientSideAnalytics"},label:"Flexible dates",tabId:"date_form_nested_flexible_tab_dates"}]},flexibleDatesContent:{__typename:"EGDSDatePickerFlexibilityDatesContent",nightsSelection:{heading:"How long do you want to stay?",includeWeekend:{__typename:"EGDSBasicCheckBox",egdsElementId:"date_form_flexible_checkbox",description:null,enabled:!0,checkedAnalytics:{linkName:"Flexible dates include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Select",__typename:"ClientSideAnalytics"},uncheckedAnalytics:{linkName:"Flexible dates does not include weekend select",referrerId:"Web.Hotels.FlexDateForm.Weekend.Deselect",__typename:"ClientSideAnalytics"},label:{text:"Must include weekend",__typename:"EGDSPlainText"},name:null,required:!1,state:"CHECKED"},options:[{__typename:"EGDSBasicPill",accessibility:"1 night stay",disabled:!1,name:"date_form_flexible_nights_pill_1",primary:"1 night",selected:!1,selectedText:null,value:"1_DAY",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.1_DAY",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"2 to 3 night stay",disabled:!1,name:"date_form_flexible_nights_pill_2",primary:"2-3 nights",selected:!0,selectedText:null,value:"2_DAY_LOWER,3_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.2_DAY_LOWER,3_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"4 to 5 night stay",disabled:!1,name:"date_form_flexible_nights_pill_3",primary:"4-5 nights",selected:!1,selectedText:null,value:"4_DAY_LOWER,5_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.4_DAY_LOWER,5_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null},{__typename:"EGDSBasicPill",accessibility:"6 to 7 night stay",disabled:!1,name:"date_form_flexible_nights_pill_4",primary:"6-7 nights",selected:!1,selectedText:null,value:"6_DAY_LOWER,7_DAY_UPPER",icon:null,selectAnalytics:{linkName:"Flexible dates duration select",referrerId:"Web.Hotels.FlexDateForm.Duration.Select.6_DAY_LOWER,7_DAY_UPPER",__typename:"ClientSideAnalytics"},deselectAnalytics:null}],__typename:"EGDSDatePickerFlexibleNights"},monthsSelection:{heading:"When do you want to travel?",subHeading:"You can select more than one month.",options:{__typename:"EGDSToggleButtonGroup",options:[{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"August",subText:"2024",name:"date_form_flexible_toggle_button_Aug_2024-08-01_2024-08-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.8.1",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.8.1",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"September",subText:"2024",name:"date_form_flexible_toggle_button_Sep_2024-09-01_2024-09-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.9.2",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.9.2",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"October",subText:"2024",name:"date_form_flexible_toggle_button_Oct_2024-10-01_2024-10-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.10.3",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.10.3",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"November",subText:"2024",name:"date_form_flexible_toggle_button_Nov_2024-11-01_2024-11-30",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.11.4",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.11.4",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"December",subText:"2024",name:"date_form_flexible_toggle_button_Dec_2024-12-01_2024-12-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.12.5",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.12.5",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1},{__typename:"EGDSToggleButton",egdsElementId:"date_form_flexible_toggle_button",primary:"January",subText:"2025",name:"date_form_flexible_toggle_button_Jan_2025-01-01_2025-01-31",selectedAnalytics:{linkName:"Flexible month selection",referrerId:"Web.Hotels.FlexDateForm.Months.Select.1.6",__typename:"ClientSideAnalytics"},unselectedAnalytics:{linkName:"Flexible month deselection",referrerId:"Web.FlexDateForm.Months.Deselect.1.6",__typename:"ClientSideAnalytics"},icon:{id:"today",size:"MEDIUM",__typename:"Icon"},selected:!1,disabled:!1}]},__typename:"EGDSDatePickerFlexibleMonths"}},flexibilityLabel:{templates:[{template:"${nightsSelected} in ${monthSelected}",category:"ZERO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}",category:"ONE",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}",category:"TWO",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}",category:"FEW",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"MANY",__typename:"CardinalTemplate"},{template:"${nightsSelected} in ${monthSelected}, ${secondMonthSelected}, ${thirdMonthSelected}, ${fourthMonthSelected}...",category:"OTHER",__typename:"CardinalTemplate"}],models:[{key:"nightsSelected",__typename:"TemplateModel"},{key:"monthSelected",__typename:"TemplateModel"},{key:"secondMonthSelected",__typename:"TemplateModel"},{key:"thirdMonthSelected",__typename:"TemplateModel"},{key:"fourthMonthSelected",__typename:"TemplateModel"},{key:"fifthMonthSelected",__typename:"TemplateModel"},{key:"sixthMonthSelected",__typename:"TemplateModel"}],__typename:"EGDSCardinalLocalizedText"}},nextButtonAnalytics:null,previousButtonAnalytics:null,buttonText:"Done",clearButtonText:"Clear dates",firstDayOfWeek:"SUN",maxNumberOfDaysSelected:29,sameDaySelectionAllowed:!1,selectedStartDate:{day:d_.getDate(),month:m_,year:d_.getFullYear(),__typename:"Date"},startDatePlaceholderText:"Check-in",selectedEndDate:{day:u_.getDate(),month:p_,year:u_.getFullYear(),__typename:"Date"},endDatePlaceholderText:"Check-out",validDaysLowerBoundInclusive:{day:s_.getDate(),month:s_.getMonth(),year:s_.getFullYear(),__typename:"Date"},validDaysUpperBoundInclusive:{day:s_.getDate(),month:s_.getMonth()+4,year:s_.getFullYear()+1,__typename:"Date"},submitButtonAnalytics:{__typename:"ClientSideAnalytics",referrerId:"date picker submit",linkName:"date.picker.submit"},startDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker start date",referrerId:"date.picker.start.date"},endDateButtonAnalytics:{__typename:"ClientSideAnalytics",linkName:"date picker end date",referrerId:"date.picker.end.date"},showClearDatesButton:!1,buttonTextTemplate:null,clearDatesButtonAnalytics:null,__typename:"EGDSDateRangePicker"},__typename:"EGDSOpenDatePickerAction"}},__={__typename:"EGDSSearchFormTravelersField",readOnly:!1,action:{analytics:{linkName:"Guests selection",referrerId:"Web.Hotels.Traveler.GuestPicker.Open",__typename:"ClientSideAnalytics"},travelerSelector:{addAnotherRoomButton:{egdsElementId:"traveler_selector_add_room",primary:"Add another room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},closeButton:{egdsElementId:"traveler_selector_close_button",primary:null,disabled:!1,accessibility:null,icon:{id:"close",description:"close",token:"icon__close",title:"",__typename:"Icon"},analytics:{linkName:"Travelers results not updated",referrerId:"Web.Hotels.Traveler.Close",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},doneButton:{egdsElementId:"traveler_selector_done_button",primary:"Done",disabled:!1,accessibility:null,icon:null,analytics:{linkName:"Travelers results updated",referrerId:"Web.Hotels.Traveler.Done",__typename:"ClientSideAnalytics"},action:null,__typename:"UIPrimaryButton"},maxRoomCount:8,rooms:[{label:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},adults:{decreaseAnalytics:{linkName:"Adult traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Adult",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Adult traveler added",referrerId:"Web.Hotels.Traveler.Add.Adult",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of adults",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of adults",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of adults in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_adult_step_input",__typename:"EGDSTravelerStepInput",label:"Adults",max:14,min:1,step:1,subLabel:null,value:2},children:{count:{decreaseAnalytics:{linkName:"Child traveler removed",referrerId:"Web.Hotels.Traveler.Remove.Child",__typename:"ClientSideAnalytics"},increaseAnalytics:{linkName:"Child traveler added",referrerId:"Web.Hotels.Traveler.Add.Child",__typename:"ClientSideAnalytics"},decreaseText:"Decrease the number of children",decreaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Decrease the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},increaseText:"Increase the number of children",increaseTextTemplate:{models:[{key:"roomNumber",source:"roomNumber",__typename:"TemplateModel"}],template:"Increase the number of children in room ${roomNumber}",__typename:"EGDSBasicLocalizedText"},egdsElementId:"traveler_selector_children_step_input",__typename:"EGDSTravelerStepInput",label:"Children",max:6,min:0,step:1,subLabel:"Ages 0 to 17",value:0},ages:[],ageTemplate:{labelTemplate:{models:[{key:"childNumber",source:"childNumber",__typename:"TemplateModel"}],template:"Child ${childNumber} age",__typename:"EGDSBasicLocalizedText"},options:[{changeAnalytics:null,label:"Select age",value:"",egdsElementId:"children_age_option",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"Under 1",value:"0",egdsElementId:"children_age_option_0",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"1",value:"1",egdsElementId:"children_age_option_1",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"2",value:"2",egdsElementId:"children_age_option_2",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"3",value:"3",egdsElementId:"children_age_option_3",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"4",value:"4",egdsElementId:"children_age_option_4",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"5",value:"5",egdsElementId:"children_age_option_5",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"6",value:"6",egdsElementId:"children_age_option_6",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"7",value:"7",egdsElementId:"children_age_option_7",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"8",value:"8",egdsElementId:"children_age_option_8",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"9",value:"9",egdsElementId:"children_age_option_9",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"10",value:"10",egdsElementId:"children_age_option_10",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"11",value:"11",egdsElementId:"children_age_option_11",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"12",value:"12",egdsElementId:"children_age_option_12",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"13",value:"13",egdsElementId:"children_age_option_13",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"14",value:"14",egdsElementId:"children_age_option_14",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"15",value:"15",egdsElementId:"children_age_option_15",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"16",value:"16",egdsElementId:"children_age_option_16",__typename:"EGDSBasicOption"},{changeAnalytics:null,label:"17",value:"17",egdsElementId:"children_age_option_17",__typename:"EGDSBasicOption"}],egdsElementId:"traveler_selector_children_age_selector",value:null,__typename:"EGDSTravelerChildAgeSelect"},__typename:"EGDSTravelerChildren"},infants:null,removeRoomButton:{egdsElementId:"traveler_selector_remove_room",primary:"Remove room",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"UITertiaryButton"},removeRoomAnnouncement:"Room removed",__typename:"EGDSTravelerSelectorRoom"}],infantSeatSelection:null,title:"Travelers",validations:[{errorMessage:"We allow up to 20 travelers per booking.",maxCount:20,type:"MAX_TRAVELERS",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:null,goToFirstErrorLinkText:null,heading:"We allow up to 20 travelers per booking.",body:null,analytics:null,impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:null,__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"},{errorMessage:"Provide the age of the child.",maxCount:null,type:"CHILD_AGE_REQUIRED",infantsInSeatPerAdult:null,errorSummary:{egdsElementId:"traveler_selector_error_summary",goToErrorLinkText:"Go to the error",goToFirstErrorLinkText:"Go to the first error",heading:"",body:null,analytics:{linkName:"Error summary link clicked on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary",__typename:"ClientSideAnalytics"},impressionAnalytics:{linkName:"Error summary displayed on travelers",referrerId:"Web.Hotels.Traveler.Error.Summary.Displayed",__typename:"ClientSideImpressionEventAnalytics"},headingTemplate:{models:[{key:"errorCount",source:"errorCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"ONE",template:"To continue, please correct the error below.",__typename:"CardinalTemplate"},{category:"TWO",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"FEW",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"MANY",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"},{category:"OTHER",template:"To continue, please correct the ${errorCount} errors below.",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"EGDSErrorSummary"},__typename:"EGDSTravelersInputValidation"}],__typename:"EGDSRoomsTravelerSelector"},accessibility:"expand to change the number of travelers",__typename:"EGDSOpenTravelerSelectorAction"},label:"Travelers",labelTemplate:{models:[{key:"rooms",models:{models:[{key:"roomCount",source:"roomCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"ONE",template:"${roomCount} room",__typename:"CardinalTemplate"},{category:"TWO",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"FEW",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"MANY",template:"${roomCount} rooms",__typename:"CardinalTemplate"},{category:"OTHER",template:"${roomCount} rooms",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"},{key:"travelers",models:{models:[{key:"travelerCount",source:"travelerCount",__typename:"TemplateModel"}],templates:[{category:"ZERO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"ONE",template:"${travelerCount} traveler",__typename:"CardinalTemplate"},{category:"TWO",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"FEW",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"MANY",template:"${travelerCount} travelers",__typename:"CardinalTemplate"},{category:"OTHER",template:"${travelerCount} travelers",__typename:"CardinalTemplate"}],__typename:"EGDSCardinalLocalizedText"},__typename:"CompositeLocalizedTextModel"}],template:"${travelers}, ${rooms}",text:"2 travelers, 1 room",__typename:"EGDSCompositeLocalizedText"},leftIcon:{id:"person",__typename:"Icon"}},v_={egdsElementId:"submit_button",primary:"Search",disabled:!1,accessibility:null,icon:null,analytics:null,action:null,__typename:"EGDSSearchFormButton",onClick:{analytics:{linkName:"Search button clicked",referrerId:"Web.Hotels.Search.Button.Clicked",__typename:"ClientSideAnalytics"},__typename:"EGDSSubmitSearchFormAction"}},S_=(0,u.J1)(kn(),Kr.fragment),g_=function(e){var t=e.data,n=e.onRemovePillClick,r=t.filters;return a.createElement(a.Fragment,null,null==r?void 0:r.map((function(e){return a.createElement(Kr,{key:e.id,data:e,onClick:n})})))};g_.displayName="SearchFormPopularFilters",g_.fragment=S_;var E_=function(e){return e.DESTINATION="destination_form_field",e.TRAVEL_DATES="EGDSDateRangePicker",e.TRAVEL_DATES_FLEXIBLE="EGDSDateRangePicker-Flexible",e.TRAVELER_ROOM_SELECTOR="EGDSRoomsTravelerSelector",e.TRAVELER_BASIC_SELECTOR="EGDSBasicTravelerSelector",e}(E_||{}),f_=function(e){return e.SORT="sort",e.HOTEL_NAME="hotelName",e.REWARDS="rewards",e.STAR="star",e.GUEST_RATING="guestRating",e.CLEANING_AND_SAFETY="cleaningAndSafetyPractices",e.LODGING="lodging",e.MEAL_PLAN="mealPlan",e.AMENITIES="amenities",e.TRAVELER_TYPE="travelerType",e.PAYMENT_TYPE="paymentType",e.DEALS="deals",e.PROPERTY_STYLE="propertyStyle",e.BEDROOM_FILTER="bedroomFilter",e.NEIGHBORHOOD="neighborhood",e.STAY_TYPE="stayType",e.ACCESSIBILITY="accessibility",e.POI="poi",e.MIN_BEDROOMS="bedroom_count_gt",e.MIN_BATHROOMS="us_bathroom_count_gt",e.PROPERTY_TYPE="property_type_group",e.LOCATION="location_group",e.ACCESSIBILITY_FEATURES="accessibility_features_group",e.BOOKING_OPTIONS="booking_options_group",e.DISCOUNTS_GROUP="discounts_group",e.AMENITIES_FACILITIES="amenities_facilities_group",e.FREE_CANCELLATION_GROUP="free_cancellation_group",e.HOUSE_RULES="house_rules_group",e.NEARBY_ACTIVITIES="nearby_activities_group",e.NEIGHBORHOOD_GROUP="neighborhood_group",e.PREMIER_HOST="premier_host_group",e.PROPERTIES_GOOD="properties_good_for_group",e.PROPERTY_REVIEWS="property_reviews_group",e.ROOMS_SPACES="rooms_spaces_group",e.SAFETY="safety_group",e.VIRTUAL_TOUR_GROUP="virtual_tour_group",e.PRICING_GROUP="pricing_group",e.PROPERTY_NAME="propertyName",e.AVAILABLE_FILTER="availableFilter",e.AGENCY_BUSINESS_MODELS="agencyBusinessModels",e.COMMISSION_TIERS="commissionTiers",e.USE_REWARDS="useRewards",e.BED_TYPE_GROUP="bed_type_group",e.STAY_OPTIONS_GROUP="stay_options_group",e.HOTEL_BRAND="hotel_brand",e.MULTI_NEIGHBORHOOD_GROUP="multi_neighborhood_group",e.SPECIAL_DISCOUNTS_GROUP="special_discounts_group",e.HIGHLY_RATED_FOR_GROUP="highly_rated_for_group",e.AI_SEARCH_QUERY="ai_search_query",e.AVAILABILITY_GROUP="availableFilter",e.EXPEDIA_REWARDS_GROUP="expedia_rewards_group",e.AVAILABILITY_GROUP_VRBO="availability_group",e}(f_||{}),h_=function(e){return e.PRICE="price",e.NIGHTLY_PRICE="nightly_price",e.TOTAL_PRICE="total_price",e}(h_||{}),D_=function(e){var t=Ae(e.split("-"),3),n=t[0],a=t[1],r=t[2];return{year:parseInt(n,10),month:parseInt(a,10),day:parseInt(r,10)}},b_=function(e){var t=Ae(e.split("/"),3),n=t[0],a=t[1],r=t[2];return"".concat(r,"-").concat(n,"-").concat(a)},T_=function(e){var t=e.queryParams,n=e.paramsToExclude,a=e.isPartnerPointsToggleEnabled;return function(e,t){return e.some((function(e){return e.id===t.id}))?e:Fe(e).concat([t])}(Object.values(f_).reduce((function(e,r){!a&&t.has("useRewards")&&t.delete("useRewards");var l=t.getAll(r);if(l.length&&""!==l[0]){var i=l.map((function(e){return(n.includes(r)?[e]:e.split(",")).map((function(e){return a&&"useRewards"===r?{id:r,value:"true"===e?"SHOP_WITH_POINTS":"SHOP_WITHOUT_POINTS"}:{id:r,value:e}}))}));return Fe(e).concat(Fe(i))}return Fe(e)}),[]).flat(),{id:"sort",value:"RECOMMENDED"})},C_=function(e){var t=function(e){var t=e.getAll("flexibility");return 0===t.length?null:t.reduce((function(e,t){var n=t.split("_");if(n.length>1){var a=parseInt(n[0],10),r=wn[n[1].toUpperCase()],l=3===n.length?{bound:Bn[n[2].toUpperCase()]}:{};a&&r&&e.push(Te({length:a,unit:r},l))}return e}),[])}(e),n=function(e){return e.getAll("searchRange").reduce((function(e,t){var n=t.split("_");return 2===n.length&&e.push({start:D_(n[0]),end:D_(n[1])}),e}),[])}(e),a=function(e){return e.getAll("flexibleSearchRequirement").filter((function(e){return e}))}(e),r=Te({},(null==t?void 0:t.length)&&{flexibility:t},(null==n?void 0:n.length)&&{searchRange:n},(null==a?void 0:a.length)&&{flexibleSearchRequirement:a});return Object.getOwnPropertyNames(r).length?r:null},I_=[{URL_PARAM_ID:"packageRates",QUERY_BOOLEAN_ID:"showPackageRates"},{URL_PARAM_ID:"vacationRentalsOnly",QUERY_BOOLEAN_ID:"showVacationRentalsOnly"},{URL_PARAM_ID:"dateSelectedByUser",QUERY_BOOLEAN_ID:"isUserSelectedDates"}],A_=function(e,t){var n,a,r,l,i,o,c,s,d=function(e){var t=e.destination,n=e.regionId,a=e.latLong,r=e.selected,l=e.mapBounds,i=Ae((null==a?void 0:a.split(",").map((function(e){return parseFloat(e)})))||[null,null],2),o=i[0],c=i[1];return Te({regionName:t?decodeURIComponent(t):null,regionId:n,coordinates:o&&c?{latitude:o,longitude:c}:null,mapBounds:l},r&&{pinnedPropertyId:r})}({destination:e.get("destination"),regionId:"null"===e.get("regionId")?null:e.get("regionId"),latLong:e.get("latLong"),selected:e.get("selected"),mapBounds:(a=e.getAll("mapBounds"),r=a.map((function(e){return e.split(",")})).filter((function(e){var t=Ae(e,2),n=t[0],a=t[1];return""!==n&&""!==a})).map((function(e){var t=Ae(e,2),n=t[0],a=t[1];return{latitude:Number(n),longitude:Number(a)}})),2===r.length?r:[])}),u=function(e){var t=e.startDate,n=e.endDate;if(!t||!n)return null;var a=/^\d{4}-\d{2}-\d{2}$/,r=/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,l=a.test(t)||r.test(t),i=a.test(n)||r.test(n);if(!l||!i)return null;var o=a.test(t)?t:b_(t),c=a.test(n)?n:b_(n);return{checkInDate:D_(o),checkOutDate:D_(c)}}({startDate:e.get("startDate"),endDate:e.get("endDate")}),m=(l={adults:e.get("adults"),children:e.get("children")},i=l.adults,o=l.children,c=(null==i?void 0:i.split(",").map((function(e){return parseInt(e,10)})))||[],s=(null==o?void 0:o.split(","))||[],c.map((function(e,t){var n=t+1;return{adults:e,children:s.filter((function(e){return e.startsWith(n.toString())})).map((function(e){return{age:parseInt(e.split("_")[1],10)}}))}})).filter((function(e){return!Number.isNaN(e.adults)}))),p=function(e){var t=e.queryParams,n=[];return Object.values(h_).forEach((function(e){var a,r,l=t.getAll(e),i=(1===l.length?l[0].split(","):l).filter((function(e){return 0!==e.length})).map(Number).filter((function(e){return!Number.isNaN(e)}));i.length>1&&n.push({id:e,min:(a=Math).min.apply(a,Fe(i)),max:(r=Math).max.apply(r,Fe(i))})})),n}({queryParams:e}),y=T_({queryParams:e,paramsToExclude:["hotelName","poi"],isPartnerPointsToggleEnabled:t}),_=C_(e),v=_?{flexSearchCriteria:_}:{},S=function(e){return I_.flatMap((function(t){return"true"===e.get(t.URL_PARAM_ID)?[{id:t.QUERY_BOOLEAN_ID,value:!0}]:[]}))}(e);return{propertySearchCriteriaInput:{primary:Te({destination:d,rooms:m,dateRange:(null==_?void 0:_.searchRange)&&0!==(null==_||null===(n=_.searchRange)||void 0===n?void 0:n.length)?null:u},v),secondary:{ranges:p,selections:y,booleans:S}}}},O_=(0,u.J1)(Rn()),F_=(0,u.J1)(Gn(),O_),k_=[Co,Pl,Mc,Pa,hy,g_],R_=(0,u.J1)(Pn(),Ta.fragment,Co.fragment,Pl.fragment,Mc.fragment,Pa.fragment,Wc.fragment,hy.fragment,F_,Ji,g_.fragment,mc.fragment),G_=["AIRPORT","UNKNOWN","POINT_OF_INTEREST"],P_=function(e){var t,n,r,i,o,c,s=e.data,u=e.onOpenLocationField,m=e.onFieldChange,p=e.onSubmit,y=e.onTogglePlayback,_=e.autoOpenCalendar,v=e.autoOpenPlayback,S=e.sticky,E=e.stickyPlayback,f=e.skipQuery,D=e.autoSubmitOnFieldChange,T=e.redirectToSearchResultOnSubmit,A=e.additionalQueryParams,O=e.dateFieldInitialFocus,F=e.layout,k=e.includeFlexibleCalendarContent,R=void 0!==k&&k,G=e.includeFlexibleDatesContent,P=void 0!==G&&G,L=e.autoSubmitOnFieldChangeConfig,x=e.additionalAdapterFields,M=e.updateLatLongOnSelection,B=e.enableReflection,w=e.regionId,W=e.handleOnFlexibleTabSelection,U=e.onOpenDatesField,H=e.enableBffForSearchLocation,z=void 0!==H&&H,V=(0,I.useLocalization)(),Y=Ae(a.useState({EGDSSearchFormLocationField:null,EGDSSearchFormLocationFieldOrigin:null,EGDSSearchFormDatePickerField:null}),2),q=Y[0],j=Y[1],$={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},K=a.useRef(null),Q=(0,d.eg)({viewSizes:d.pf})<=d.pf.SMALL,J=(0,d.eg)({viewSizes:d.pf})<=d.pf.MEDIUM,X=Ae(a.useState(Te({},$)),2),Z=X[0],ee=X[1],te=s.egdsElementId,ne=s.elements,le=s.search,ie=s.actionURL,oe=s.errorSummary,ce=s.playback,se=s.softPackages,de=s.adaptExSuccessEvent,ue=s.searchLocation,me=s.popularFilters,pe=s.hidePlayback,ye=s.priceInsightsDailyConfig,_e=s.groupStaysLink,ve=Ae(a.useState(ce),2),Se=ve[0],ge=ve[1],Ee=Ae(a.useState(!1),2),fe=Ee[0],De=Ee[1],be=Ae(a.useState(!1),2),Ie=be[0],Oe=be[1],ke=Ae(a.useState(se),2),Re=ke[0],Ge=ke[1],Pe=!!me,Le=Ae(a.useState(Pe?me.filters:[]),2),Ne=Le[0],xe=Le[1],Me=(null!==(i=null==Ne?void 0:Ne.length)&&void 0!==i?i:0)>0,Be=ne.find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),we="EGDSSearchFormLocationField"===(null==Be?void 0:Be.__typename)?Be.regionId:"",We=w&&""!==w?w:we,Ue=G_.includes(null!==(o=null==Be?void 0:Be.regionType)&&void 0!==o?o:"UNKNOWN")?null:We,He=Ae(a.useState(Ue),2),ze=He[0],Ve=He[1],Ye=Ae(a.useState(!(pe||v)),2),qe=Ye[0],je=Ye[1],$e=(0,N.useExperiment)("BEX_Group_by_Category_in_Typeahead_Lodging"),Ke=$e.exposure,Qe=$e.logExperiment,Je=(0,N.useExperiment)("BEX_Auto_Completion_in_Typeahead_Lodging_Web"),Xe=Je.exposure,Ze=Je.logExperiment,et=(0,N.useExperiment)("Same_Day_Prefill_for_Current_Location_in_Typeahead_Lodging"),tt=et.exposure,nt=et.logExperiment,at=(0,N.useExperiment)("Web_BEXG_Full_Detail_Recent_Search_Reformat_in_Typeahead_Lodging"),rt=at.exposure,lt=at.logExperiment,it=(0,N.useExperiment)("Web_BEXG_Character_Bolding_in_Typeahead_Lodging"),ot=it.exposure,ct=it.logExperiment,st=(0,N.useExperiment)("Retain_SearchLocation_input_Desktop_Web"),dt=st.exposure,ut=st.logExperiment,mt={dailyPriceDebounce:null!==(c=null==ye?void 0:ye.debounceRate)&&void 0!==c?c:200,dailyPriceNumberOfMonthsToQuery:null==ye?void 0:ye.monthsToQuery},pt=function(){switch(ot.bucket){case 1:return"match";case 2:return"non-match";default:return}}(),yt=function(){null==U||U()},_t=1===rt.bucket,vt=null!=te?te:"search-lodging-form",St=Fe(ne).concat([me,Re,le]).filter((function(e){return null!=e})),gt=(0,g.KY)(),Et=(0,g._q)().track,ft=(0,ae.Yj)().publish;a.useEffect((function(){ce&&!f&&ge(ce)}),[ce,f]);(0,ae._H)("SEARCH_FORM_NEXT_PAGE",re.xy,{onSuccess:function(){var e;(null==de?void 0:de.datePrefill)&&Et(g.p3.EVENT,{data:(e=[de.datePrefill],e.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}})))})}}),a.useEffect((function(){var e,t;O&&(null===(t=q.EGDSSearchFormDatePickerField)||void 0===t||null===(e=t.current)||void 0===e||e.focus())}),[q.EGDSSearchFormDatePickerField]);var ht,Dt,bt=a.useCallback((function(e,t){var n,a=zc(e,null===(n=t.current)||void 0===n?void 0:n.id);j((function(e){return Ce(Te({},e),he({},a,t))}))}),[]),Tt=ne.find((function(e){return"EGDSSearchFormDatePickerField"===e.__typename})),Ct="EGDSSearchFormDatePickerField"===(null==Tt?void 0:Tt.__typename)&&"EGDSOpenDatePickerAction"===(null===(t=Tt.action)||void 0===t?void 0:t.__typename)&&"EGDSDateRangePicker"===Tt.action.datePicker.__typename&&null!==(ht=Tt.action.datePicker.maxNumberOfDaysSelected)&&void 0!==ht?ht:0,It=1===tt.bucket&&Q,At=1===dt.bucket&&!Q&&!J,Ot=function(){u&&u();try{lt(rt)}catch(e){}if(Q)try{nt(tt)}catch(e){}},Ft=function(e){try{Qe(Ke),ct(ot),Ze(Xe)}catch(t){}1===Xe.bucket&&Oe(!0),At&&e.length>=1&&ut(dt),1===Ke.bucket&&e.length>=1?De(!0):De(!1)},kt="EGDSBasicCheckBox"===(null==Re||null===(n=Re.addFlight)||void 0===n?void 0:n.__typename)&&"CHECKED"===Re.addFlight.state,Rt="EGDSBasicCheckBox"===(null==Re||null===(r=Re.addCar)||void 0===r?void 0:r.__typename)&&"CHECKED"===Re.addCar.state,Gt=a.useCallback((function(e){var t={location:Ce(Te({},kt?{origin:e.find(Qc("origin_select"))}:null),{destination:e.find(Qc("destination_form_field"))}),dates:{startDateInput:e.find(Qc("EGDSDateRangePicker-StartDate-date_form_field")),endDateInput:e.find(Qc("EGDSDateRangePicker-EndDate-date_form_field")),config:{maxNumberOfDaysSelected:Ct}}},n=$c(t,kt),a=n.length;return{fieldsWithErrors:n,errorCount:a,isFormValid:0===a}}),[Ct,kt]),Pt=Z.displayErrorSummary,Lt=Z.errorCount,Nt=Z.errorLinkReference,xt=oe&&Pt,Mt=function(e){var t=e.currentTarget,n=t.name,a=t.checked;Ge((function(e){var t,r;return"EGDSBasicCheckBox"===(null==e||null===(t=e.addCar)||void 0===t?void 0:t.__typename)&&null!==e.addCar.name&&n.includes(e.addCar.name)?Ce(Te({},e),{addCar:Ce(Te({},e.addCar),{state:a?"CHECKED":"UNCHECKED"})}):"EGDSBasicCheckBox"===(null==e||null===(r=e.addFlight)||void 0===r?void 0:r.__typename)&&null!==e.addFlight.name&&n.includes(e.addFlight.name)?Ce(Te({},e),{addFlight:Ce(Te({},e.addFlight),{state:a?"CHECKED":"UNCHECKED"})}):e}))},Bt=function(e,t){var n,a,r,l,i,o,c,s,d={__typename:"EGDSPlainText",accessibility:null,text:""},u=function(e,t){var n;if("EGDSOpenTravelerSelectorAction"===(null==e||null===(n=e.action)||void 0===n?void 0:n.__typename)){var a,r,l,i,o,c,s,d,u,m,p,y,_;if("EGDSRoomsTravelerSelector"===(null==e||null===(r=e.action)||void 0===r||null===(a=r.travelerSelector)||void 0===a?void 0:a.__typename)&&"EGDSCompositeLocalizedText"===(null==e||null===(l=e.labelTemplate)||void 0===l?void 0:l.__typename))return hc(null==e?void 0:e.labelTemplate,null!==(p=null==t||null===(d=t.data)||void 0===d||null===(s=d.searchDetail)||void 0===s?void 0:s.roomCount)&&void 0!==p?p:0,null==t||null===(m=t.data)||void 0===m||null===(u=m.searchDetail)||void 0===u?void 0:u.totalTravelerCount);if("EGDSBasicTravelerSelector"===(null==e||null===(o=e.action)||void 0===o||null===(i=o.travelerSelector)||void 0===i?void 0:i.__typename)&&"EGDSCardinalLocalizedText"===(null==e||null===(c=e.labelTemplate)||void 0===c?void 0:c.__typename))return fc(null==e?void 0:e.labelTemplate,null==t||null===(_=t.data)||void 0===_||null===(y=_.searchDetail)||void 0===y?void 0:y.totalTravelerCount)}return null}(ne.find((function(e){return"EGDSSearchFormTravelersField"===e.__typename})),e),m="EGDSPlainText"===t[0].__typename?t[0].text:"";return[Ce(Te({},d),{text:(null==e||null===(a=e.data)||void 0===a||null===(n=a.searchDetail)||void 0===n?void 0:n.startDate)&&(null==e||null===(l=e.data)||void 0===l||null===(r=l.searchDetail)||void 0===r?void 0:r.endDate)?nr("".concat(new Date(null==e||null===(o=e.data)||void 0===o||null===(i=o.searchDetail)||void 0===i?void 0:i.startDate).toISOString().split("T")[0]," - ").concat(new Date(null==e||null===(s=e.data)||void 0===s||null===(c=s.searchDetail)||void 0===c?void 0:c.endDate).toISOString().split("T")[0]),V):m}),Ce(Te({},d),{text:null!=u?u:""})]},wt=Ae(a.useState(null!==(Dt=null==x?void 0:x.lastSearchLatLong)&&void 0!==Dt?Dt:""),2),Wt=wt[0],Ut=wt[1],Ht=Ce(Te({},x),{lastSearchLatLong:Wt}),zt=function(){Ve("")},Vt=function(e){var t,n,a,r,l,i,o,c,s,d;M&&Ut((null==e||null===(r=e.data)||void 0===r||null===(a=r.location)||void 0===a?void 0:a.lat)&&(null==e||null===(i=e.data)||void 0===i||null===(l=i.location)||void 0===l?void 0:l.long)?"".concat(null==e||null===(c=e.data)||void 0===c||null===(o=c.location)||void 0===o?void 0:o.lat,",").concat(null==e||null===(d=e.data)||void 0===d||null===(s=d.location)||void 0===s?void 0:s.long):"");if(function(e){var t,n,a,r,l,i="AIRPORT"===(null===(t=e.data)||void 0===t?void 0:t.type)||"HOTEL"===(null===(n=e.data)||void 0===n?void 0:n.type)||"UNKNOWN"===(null===(a=e.data)||void 0===a?void 0:a.type);Ve((null==e||null===(r=e.data)||void 0===r?void 0:r.regionId)&&!i?null==e||null===(l=e.data)||void 0===l?void 0:l.regionId:"")}(e),ge((function(t){var n;if(!t)return null;var a=t.primary,r=t.secondaries,l=Ce(Te({},a),{text:e.term}),i=B&&Ht.historyDetail&&(null==e||null===(n=e.data)||void 0===n?void 0:n.searchDetail)?Bt(e,r):r;return Ce(Te({},t),{primary:l,secondaries:i})})),Pe&&(null==e||null===(n=e.data)||void 0===n||null===(t=n.popularFilter)||void 0===t?void 0:t.length)>0){var u,m=e.data.popularFilter[0],p=null===(u=me.template)||void 0===u?void 0:u.template.replace("${filterName}",m.displayName),y=(null==m?void 0:m.legacyValue)||(null==m?void 0:m.externalId),_=(null==m?void 0:m.legacyId)||(null==m?void 0:m.refinementGroupSet[1])||"",v="EGDSSearchFormLocationField-PropertyFilter-".concat(_),S=null==m?void 0:m.displayName,g=null==m?void 0:m.externalId,E="Web.Hotels.PopularFilter.Removed.".concat(null==e?void 0:e.term,"-").concat(g);xe([{__typename:"EGDSBasicRemovablePill",accessibility:p,id:y,name:v,primary:S,value:y,removeAnalytics:{__typename:"ClientSideAnalytics",linkName:"Filter removed",referrerId:E}}])}else xe([])},Yt=Rt||kt,qt=Yt&&Re.actionURL?Re.actionURL:ie,jt=me&&Me,$t=(jt||Re)&&a.createElement(b.i,{space:"three",direction:"IN_LINE"===F?"row":"column"},jt&&a.createElement(b.j,{grow:0},a.createElement("div",null,a.createElement(g_,{data:Ce(Te({},me),{filters:Ne}),onRemovePillClick:function(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"";xe((function(e){var t;return null!==(t=null==e?void 0:e.filter((function(e){return e.id!==n})))&&void 0!==t?t:[]}))}}))),Re&&a.createElement(b.j,{grow:1},a.createElement("div",null,a.createElement(hy,{data:Re,isExperienceAPIDriven:z,onProductSelect:Mt,setFieldRefByTypename:bt,fieldError:Z.fieldsWithErrors.find((function(e){return"EGDSSearchFormLocationFieldOrigin"===e.__typename}))})))),Kt="PopularFiltersAndSoftPackagesArea",Qt=function(t){var n=function(e){return e===d.OB.SMALL||"STACKED"===F?["1fr"]:[(0,h.R)(3,"1fr"),"max-content"]}(t),r=t===d.OB.SMALL||"STACKED"===F?function(){var e=[(0,h.R)(3,"max-content")];return(Me||Re)&&e.splice(3,0,(0,h.F)("1x")),e}():function(){var e=["1fr"];return Me||Re?Fe(e).concat([(0,h.F)("1x")]):e}(),l=t===d.OB.SMALL||"STACKED"===F?function(){var e=["EGDSSearchFormLocationField","EGDSSearchFormDatePickerField","EGDSSearchFormTravelersField","EGDSSearchFormButton"];return(Me||Re)&&e.splice(3,0,Kt),e}():function(){var e=["EGDSSearchFormLocationField EGDSSearchFormDatePickerField EGDSSearchFormTravelersField EGDSSearchFormButton"];return Me||Re?Fe(e).concat(["".concat(Kt," ").concat(Kt," ").concat(Kt," ").concat(Kt)]):e}(),i=new URLSearchParams(window.location.search).get("destination");return a.createElement(h.E,{columns:n,rows:r,space:"three",areas:l},St.map((function(t,n){var r=t.__typename,l=k_.find((function(e){return e.displayName===r}));if(!l)return null;var o,c,s,d=Z.fieldsWithErrors.find((function(e){var t="SoftPackages"===r&&"EGDSSearchFormLocationFieldOrigin"===e.__typename;return e.__typename===r||t})),u=(s=Fe(St).find((function(e){return"EGDSSearchFormLocationField"===e.__typename})),"EGDSSearchFormLocationField"===(null==s?void 0:s.__typename)&&"OpenTypeaheadAction"===(null==s||null===(o=s.action)||void 0===o?void 0:o.__typename)&&null!==(c=null==s?void 0:s.action.info.showCurrentLocation)&&void 0!==c&&c&&i?i:""),m=Ce(Te(Ce(Te({},e),{additionalAdapterFields:Ht,setFieldRefByTypename:bt,fieldError:d,autoOpen:_,onClearLocation:zt,onProductSelect:Mt,onType:Ft,valueFromQueryParam:u,onSelection:Vt,flexibleContentConfig:{includeFlexibleCalendarContent:R,includeFlexibleDatesContent:P},popoverWidth:650,onOpenDatesField:yt,groupStaysLink:_e}),Yt?Re:{}),{showCurrentLocation:null!=It&&It,onOpenLocationField:Ot,categorizeResults:fe,searchLocationAnalytics:null==ue?void 0:ue.analytics,isPopularFiltersPlaybackEnabled:Pe,enablePredictiveText:Ie,isHistoryDetailFormatVariant:_t,gaiaId:ze,dailyPriceInsightsConfig:mt,onFlexibleTabSelection:W,boldingType:pt,isExperienceAPIDriven:z,retainSearch:At}),p="SoftPackages"===r||"SearchFormPopularFilters"===r&&!Re,y=p?$t:a.createElement(l,Ce(Te({},m),{data:t})),v=p?Kt:r;return"SearchFormPopularFilters"===v?null:a.createElement(h.a,{area:v,key:"field_".concat(v,"_").concat(n)},a.createElement(h.E,{autoRows:["max-content"]},y))})))};return a.createElement(C.E,{ref:K,id:vt,name:vt,method:"GET",action:qt,onFieldChange:function(e,t){if(m){var n,a=K.current?Array.from(null===(n=K.current)||void 0===n?void 0:n.elements):[],r=Jd("LODGING",a);m(e,t,r)}var l,i;D&&(null===(l=K.current)||void 0===l||l.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));"EGDSDateRangePicker"===e.name&&(null==L?void 0:L.onDateFieldChange)&&!D&&(null===(i=K.current)||void 0===i||i.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0})));ge((function(t){var n=E_.DESTINATION,a=E_.TRAVELER_ROOM_SELECTOR,r=E_.TRAVELER_BASIC_SELECTOR,l=E_.TRAVEL_DATES,i=E_.TRAVEL_DATES_FLEXIBLE,o=e.name,c=e.value,s=o===l,d=o===i,u=o===a||o===r;if(!t)return null;if(!(s||u||o===n||d))return Te({},t);var m=function(e,t,n,a,r){var l={__typename:"EGDSPlainText",accessibility:null,text:""};if(a.length>1){if(e){var i=nr(r,V);return[Ce(Te({},l),{text:i}),a[1]]}if(n)return[a[0],Ce(Te({},l),{text:r})];if(t)return[Ce(Te({},l),{text:r}),a[1]]}if(e){var o=nr(r,V);return[Ce(Te({},l),{text:o}),a[0]]}return t?[Ce(Te({},l),{text:r}),a[0]]:n?[Ce(Te({},l),{text:r})]:Fe(a)}(s,d,u,t.secondaries,c);return Ce(Te({},t),{secondaries:m})})),je(!0)},onSubmit:function(e){var t,n;ee(Te({},$));var a,r=Array.from(e.currentTarget.elements),l=Gt(r),i=l.fieldsWithErrors,o=l.errorCount,c=l.isFormValid;if(q[null===(t=i[0])||void 0===t?void 0:t.__typename]&&(null==s||null===(n=s.errorSummary)||void 0===n?void 0:n.analytics)){var d="".concat(s.errorSummary.analytics.referrerId,".For.NoDestinationSubmit");gt(d,s.errorSummary.analytics.linkName)}if(!c)return ee({fieldsWithErrors:i,errorCount:o,displayErrorSummary:!0,errorLinkReference:q[null===(a=i[0])||void 0===a?void 0:a.__typename]}),void e.preventDefault();if(p||T){var u=Jd("LODGING",r),m=A_(new URLSearchParams(u))||void 0;p&&p(e,m),T&&(e.preventDefault(),ft(new re.xy("SEARCH_FORM_NEXT_PAGE",{})),window.location.href="".concat(e.currentTarget.action).concat(u).concat(A?"&".concat(A):""))}},hasRequiredFieldIndicator:!0},xt&&a.createElement(Ta,{data:oe,errorCount:Lt,inputErrorRef:Nt}),a.createElement(l.b,{margin:{blockstart:xt?"two":void 0}},a.createElement("div",null,a.createElement(d.LM,null,a.createElement(d.NP,null,Se?a.createElement(Wc,{data:Se,stickyPlayback:E,display:qe,onDisplayToggle:function(e){je(e),null==y||y(!e)}},Qt(d.OB.SMALL)):Qt(d.OB.SMALL)),a.createElement(d.rw,null,S?a.createElement(Mn,null,Qt(d.OB.MEDIUM)):Qt(d.OB.MEDIUM)),a.createElement(d.zQ,null,S?a.createElement(Mn,null,Qt(d.OB.LARGE)):Qt(d.OB.LARGE))))))};P_.fragment=R_,P_.displayName="LodgingSearchForm";var L_={SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE:new y.SystemEvent(y.SystemEventLevel.ERROR,"SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE")},N_={linkName:"Lodging Search Form Fallback Presented",referrerId:"Web.Lodging.Search.Form.Fallback.Presented"},x_={linkName:"Lodging Search Form Presented",referrerId:"Web.Hotels.Search.Form.Presented"},M_=(0,u.J1)(Ln(),P_.fragment),B_=function(e){return e.PREFILL_PROPERTY_NAME="PREFILL_PROPERTY_NAME",e.ADDITIONAL_FLEX_NIGHTS_OPTIONS="ADDITIONAL_FLEX_NIGHTS_OPTIONS",e}(B_||{}),w_=function(e){var t,n,r,l,o,c,s,u,_,v,S,f,h,D=e.inputs,b=e.skipSsr,T=e.skipQuery,C=void 0!==T&&T,I=e.fetchPolicy,A=e.batchKey,O=e.features,F=e.includePlayback,k=e.layout,R=void 0===k?"IN_LINE":k,G=e.enableReflection,P=e.pageLocation,L=(0,p.R)().context,x=(0,y.useLoggerEvents)(L_),M=Ae(a.useState(C),2),B=M[0],w=M[1],W=(0,a.useRef)(!1),U=(0,N.useExperiment)("Flex_Dates_M2_with_1_month_duration_on_Vrbo"),H=U.exposure,z=U.logExperiment,V=O?Fe(O):[],Y=1===H.bucket?Fe(V).concat(["ADDITIONAL_FLEX_NIGHTS_OPTIONS"]):Fe(V),q=Y.length>0?Y:void 0,j=Ce(Te({},D),{context:L,includePlayback:!!F,features:q,pageLocation:P});(0,a.useEffect)((function(){var e;null===(e=E.datadogRum.addAction)||void 0===e||e.call(E.datadogRum,"LodgingSearchForm-componentInitialized")}),[]);var $=(0,m.I)(M_,Te({context:{batchKey:A},variables:j,ssr:!b,skip:B},I?{fetchPolicy:I}:{})),K=$.data,Q=$.error,J=$.loading,X=$.previousData,Z=null!=K?K:X;if(a.useEffect((function(){w(C&&!J)}),[J,C]),J&&!Z)return a.createElement(d.LM,null,a.createElement(d.NP,null,a.createElement(Zn,{rows:[{type:"primary"},{type:"primary"},{type:"primary"}]})),a.createElement(d.rw,null,a.createElement(Zn,{rows:[{type:"primary"}]})));var ee,te,ne,ae=null===(t=D.propertySearchCriteriaInput)||void 0===t?void 0:t.secondary,re=null!==(ee=null===(l=D.propertySearchCriteriaInput)||void 0===l||null===(r=l.primary)||void 0===r||null===(n=r.destination)||void 0===n?void 0:n.pinnedPropertyId)&&void 0!==ee?ee:void 0,le=ae?{amenitiesFacilitiesGroup:null==ae||null===(c=ae.selections)||void 0===c||null===(o=c.find((function(e){return"amenities_facilities_group"===e.id})))||void 0===o?void 0:o.value,locationGroup:null==ae||null===(u=ae.selections)||void 0===u||null===(s=u.find((function(e){return"location_group"===e.id})))||void 0===s?void 0:s.value,propertiesGoodForGroup:null==ae||null===(v=ae.selections)||void 0===v||null===(_=v.find((function(e){return"properties_good_for_group"===e.id})))||void 0===_?void 0:_.value,propertyTypeGroup:null==ae||null===(f=ae.selections)||void 0===f||null===(S=f.find((function(e){return"property_type_group"===e.id})))||void 0===S?void 0:S.value}:void 0,ie=Ce(Te({},e),{regionId:null!==(te=null===(h=D.propertySearchCriteriaInput)||void 0===h?void 0:h.primary.destination.regionId)&&void 0!==te?te:"",handleOnFlexibleTabSelection:function(){z(H)},propertyRefinements:le,pinnedPropertyId:re,skipQuery:B,layout:R});if(Q||!Z||"LodgingSearchForm"!==Z.searchForm.lodging.__typename){var oe={__typename:"LodgingSearchForm",egdsElementId:"lodging_search_form",actionURL:"/Hotel-Search",errorSummary:o_,elements:[c_,y_,__],search:v_,searchLocation:ea,playback:null,softPackages:null,adaptExSuccessEvent:null,popularFilters:null,hidePlayback:null,priceInsightsDailyConfig:null,groupStaysLink:null};return x.SEARCH_TOOLS_LODGING_SEARCH_FORM_QUERY_FAILURE.log({name:null==Q?void 0:Q.name,error:new Error(null==Q?void 0:Q.message)}),a.createElement(Yn,null,a.createElement(g.ee,Te({},N_),G?a.createElement(i.t,null,a.createElement(P_,Ce(Te({},ie),{data:oe}))):a.createElement(P_,Ce(Te({},ie),{data:oe}))))}W.current||(null===(ne=E.datadogRum.addAction)||void 0===ne||ne.call(E.datadogRum,"LodgingSearchForm-componentPresented"),W.current=!0);return a.createElement(g.ee,Te({},x_),G?a.createElement(i.t,null,a.createElement(P_,Ce(Te({},ie),{data:Z.searchForm.lodging,skipQuery:B}))):a.createElement(P_,Ce(Te({},ie),{data:Z.searchForm.lodging,skipQuery:B})))};w_.displayName="sharedui-LodgingSearchForm"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-search-tools-product.903d731703e70daf96f6.js.map
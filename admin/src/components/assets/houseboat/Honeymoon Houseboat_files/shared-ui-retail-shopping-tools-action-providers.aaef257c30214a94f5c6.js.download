/*@license For license information please refer to shared-ui-retail-shopping-tools-action-providers.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[830],{67210:function(e,n,t){t.d(n,{KN:function(){return F},RN:function(){return M},Rx:function(){return H},_Q:function(){return Q},_T:function(){return L},e3:function(){return x},pC:function(){return j}});var r=t(96540),o=t(13274),i=t(21181),a=t(75826),l=t(10159),c=t(2619),u=t(15043),s=t(67045),p=t(94495),d=t(68963),f=t(82960),v=t(70354),g=t(68174),m=t(71831),y=t(67811);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function S(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function T(){var e=N(["\n  fragment ShoppingSheetFragment on EGDSSheet {\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    closeText\n    sheetType\n    sheetTypes {\n      sheetType\n      viewSize\n    }\n  }\n"]);return T=function(){return e},e}function I(){var e=N(["\n  fragment ShoppingOverlayFragment on ShoppingOverlayContainer {\n    overlayId\n    contentId\n    overlay {\n      __typename\n      ... on EGDSSheet {\n        ...ShoppingSheetFragment\n      }\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function C(){var e=N(["\n  fragment ShoppingJoinListContainerFragment on ShoppingJoinListContainer {\n    actions {\n      accessibility\n      analytics {\n        linkName\n        referrerId\n      }\n      event {\n        eventCategory\n        eventName\n        eventType\n        eventVersion\n      }\n      actionId\n      ... on ShoppingNavigateToOverlay {\n        overlayId\n      }\n      ... on ShoppingNavigateToURI {\n        resource {\n          value\n        }\n        target\n        useRelativePath\n      }\n      ... on ShoppingInvokeFunction {\n        paramsId\n        name\n        functionType\n      }\n      ... on ShoppingScrollsToView {\n        targetRef\n      }\n    }\n    overlays {\n      ...ShoppingOverlayFragment\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function w(){var e=N(["\n  fragment ShoppingActionButtonFragment on ShoppingButton {\n    accessibility\n    actionId\n    primary\n    buttonType\n    disabled\n    icon {\n      id\n    }\n  }\n"]);return w=function(){return e},e}var D,R,A=r.createContext(null),L=function(e){var n=e.children,t=e.id,o=e.shoppingJoinListContainer,i=e.shoppingInvokeFunctionCallBack,a=r.useMemo((function(){return{dialogId:"shopping-action-dialog-".concat(t),shoppingJoinListContainer:o,shoppingInvokeFunctionCallBack:i}}),[t,o,i]);return r.createElement(A.Provider,{value:a},n)},_={NO_ACTION_FOUND:new c.SystemEvent(c.SystemEventLevel.ERROR,"NO_ACTION_FOUND")},k=(E(D={},"EXTERNAL","_blank"),E(D,"INTERNAL","_self"),D),P=function(e){return"".concat(e," can only be used in a component inside <ShoppingActionProvider />")},F=function(e){var n,t=r.useContext(A);if(!t)throw new Error(P("useShoppingAction"));return function(e,n){var t;return null!==(t=null==n?void 0:n.find((function(n){return n.actionId===e})))&&void 0!==t?t:null}(e,null===(n=t.shoppingJoinListContainer)||void 0===n?void 0:n.actions)},j=function(e,n){var t,u=r.useContext(A);if(!u)throw new Error(P("useShoppingActionCallback"));var s=u.dialogId,p=u.shoppingJoinListContainer,d=u.shoppingInvokeFunctionCallBack,f=(0,a.KY)(),v=(0,a.iQ)(),g=(0,o.Zp)(),m=O((0,l.useDialog)("".concat(s,"-").concat(e)),2),y=m[0],h=m[1],E=(0,c.useLoggerEvents)(_),b=null==p||null===(t=p.actions)||void 0===t?void 0:t.filter((function(n){return n.actionId===e}));return r.useCallback((function(){0!==(null==b?void 0:b.length)?null==b||b.forEach((function(e){e.accessibility&&(0,i.liveAnnounce)(e.accessibility);var t=null==n?void 0:n(null==e?void 0:e.event);switch(e.__typename){case"ShoppingNavigateToOverlay":h.toggleDialog(),y||f(e.analytics.referrerId,e.analytics.linkName);break;case"ShoppingNavigateToURI":t?v(t):f(e.analytics.referrerId,e.analytics.linkName),e.useRelativePath?g(e.resource.value):window&&"function"==typeof window.open&&window.open(e.resource.value,k[e.target]);break;case"ShoppingInvokeFunction":var r=e.functionType,o=e.name,a=e.paramsId;if(!d||!a)return;f(e.analytics.referrerId,e.analytics.linkName),d(r,o,a)}})):E.NO_ACTION_FOUND.log({description:"No action was found in shoppingJoinListContainer.actions with actionId ".concat(e)})}),[b,E.NO_ACTION_FOUND,e,n,h,y,f,v,g,d])},M=function(e){var n,t,o,i,a=r.useContext(A),l=F(e);return l&&"ShoppingNavigateToOverlay"===l.__typename?(t=l.overlayId,o=null==a||null===(n=a.shoppingJoinListContainer)||void 0===n?void 0:n.overlays,null!=(i=null==o?void 0:o.find((function(e){return e.overlayId===t})))?i:null):null},z=(0,u.J1)(T()),B=(E(R={},"BOTTOM","bottom"),E(R,"SIDE","side"),E(R,"CENTERED","centered"),E(R,"POPOVER","popover"),E(R,"FULLSCREEN","full"),R),U=r.forwardRef((function(e,n){var t,o=e.actionId,i=e.data,c=e.sheetToolbar,u=e.children,m=e.tall,y=e.renderNavigateBar,h=void 0===y||y,N=e.useToolbar,T=void 0===N||N,I=e.openOnLoad,C=void 0!==I&&I,w=e.openAnalytics,D=e.hasModal,R=void 0!==D&&D,L=e.centeredSheetSize,_=void 0===L?"small":L,k=(0,a.KY)(),F=O(function(e){var n=r.useContext(A);if(!n)throw new Error(P("useShoppingDialog"));var t="".concat(n.dialogId,"-").concat(e);return(0,l.useDialog)(t)}(o),3),j=F[0],M=F[1],z=F[2],U=null!==(t=i.sheetType)&&void 0!==t?t:"CENTERED",J=i.sheetTypes;r.useEffect((function(){C&&!j&&(M.openDialog(),w&&k(w.linkName,w.referrerId))}),[]);var V,x=r.useCallback((function(){k(i.closeAnalytics.linkName,i.closeAnalytics.referrerId)}),[i,k]),K=r.useCallback((function(){x(),M.closeDialog()}),[i,k,M]),Q=null!==(V=i.closeText)&&void 0!==V?V:"close",Y=function(){if(h){var e={navigationContent:{onClick:K,navIconLabel:Q},toolbarTitle:null==c?void 0:c.title,toolbarSubtitle:null==c?void 0:c.subtitle};return T?r.createElement(f.b,b({},e)):r.createElement(d.g,null,r.createElement(s.E,{type:"button",onClick:K},r.createElement(p.a,{name:"close",size:p.E.MEDIUM,title:Q})))}return null},G=r.useMemo((function(){return{isVisible:j,type:B[U],triggerRef:n}}),[j,i,n,U]),H=function(e){return r.createElement(d.h,{isVisible:j},r.createElement(d.e,S(b({},G),{sideSheetLayout:e}),Y(),u))},W=r.createElement(v.cj,S(b({},G),{type:"bottom",tall:m}),Y(),u);W=R?r.createElement(d.h,{isVisible:j,closeCallback:x},r.createElement(z,null,W)):r.createElement(d.h,{isVisible:j,closeCallback:x},W);var X=r.createElement(d.h,{isVisible:j,closeCallback:x},r.createElement(z,null,r.createElement(d.e,S(b({},G),{centeredSheetSize:_}),Y(),u))),Z=r.createElement(d.h,{isVisible:j},r.createElement(z,null,r.createElement(d.e,{type:"full",isVisible:!0,triggerRef:n,returnFocusOnClose:!0},Y(),u)));if(J){var $,q,ee,ne,te=(E(ne={},"BOTTOM",W),E(ne,"SIDE",H({position:"trailing",columns:6})),E(ne,"CENTERED",X),E(ne,"POPOVER",X),E(ne,"FULLSCREEN",Z),ne),re=(null===($=J.find((function(e){return"SMALL"===e.viewSize})))||void 0===$?void 0:$.sheetType)||"CENTERED",oe=(null===(q=J.find((function(e){return"MEDIUM"===e.viewSize})))||void 0===q?void 0:q.sheetType)||"CENTERED",ie=(null===(ee=J.find((function(e){return"LARGE"===e.viewSize})))||void 0===ee?void 0:ee.sheetType)||"CENTERED";return r.createElement(g.LM,null,r.createElement(g.NP,null,te[re]),r.createElement(g.rw,null,te[oe]),r.createElement(g.zQ,null,te[ie]))}return"SIDE"===U?r.createElement(g.LM,null,r.createElement(g.NP,null,Z),r.createElement(g.rw,null,H({position:"trailing",columns:6})),r.createElement(g.zQ,null,H({position:"trailing",columns:4}))):"CENTERED"===U?r.createElement(g.LM,null,r.createElement(g.NP,null,Z),r.createElement(g.rw,null,X),r.createElement(g.zQ,null,X)):"FULLSCREEN"===i.sheetType?r.createElement(r.Fragment,null,Z):null}));U.fragment=z,U.displayName="ShoppingSheet";var J=(0,u.J1)(I(),U.fragment),V=r.forwardRef((function(e,n){var t=e.data,o=e.actionId,i=e.renderNavigateBar,a=e.sheetToolbar,l=e.children,c=e.useToolbar,u=e.tall,s=e.openOnLoad,p=e.openAnalytics,d=e.hasModal,f=e.centeredSheetSize,v=t.overlay;return"EGDSSheet"===v.__typename?r.createElement(U,{data:v,ref:n,actionId:o,sheetToolbar:a,tall:u,useToolbar:c,renderNavigateBar:i,openOnLoad:s,openAnalytics:p,hasModal:d,centeredSheetSize:f},l):null}));V.fragment=J,V.displayName="ShoppingOverlay";var x=r.forwardRef((function(e,n){var t=e.actionId,o=e.sheetToolbar,i=e.children,a=e.renderNavigateBar,l=e.tall,c=e.useToolbar,u=e.openOnLoad,s=e.openAnalytics,p=e.hasModal,d=e.centeredSheetSize,f=M(t);return f?r.createElement(V,{data:f,actionId:t,ref:n,sheetToolbar:o,tall:l,useToolbar:c,renderNavigateBar:a,openOnLoad:u,openAnalytics:s,hasModal:p,centeredSheetSize:d},i):null}));x.displayName="ShoppingOverlayMapper";var K,Q=(0,u.J1)(C(),V.fragment),Y=(0,u.J1)(w()),G=(E(K={},"PRIMARY",m.E),E(K,"SECONDARY",y.E),E(K,"TERTIARY",s.E),K),H=function(e){var n=e.data,t=e.size,o=e.isFullWidth,i=e.hideText,a=void 0!==i&&i,l=e.clickstreamEventBuilder,c=n.accessibility,u=n.actionId,s=n.buttonType,d=n.disabled,f=n.icon,v=n.primary,g=j(u,l),m=F(u),y=r.useRef(null),h=(!v||a)&&f,E="ShoppingNavigateToURI"===(null==m?void 0:m.__typename),S=G[s];return r.createElement(S,b({"aria-label":null!=c?c:"",size:t,onClick:function(e){E&&e.preventDefault(),g()},isFullWidth:o,domRef:y,disabled:d,className:h?"uitk-button-only-icon":void 0},E&&{href:m.resource.value,target:k[m.target]}),!a&&v,r.createElement(r.Fragment,null,(null==f?void 0:f.id)&&r.createElement(p.a,{name:f.id,id:f.id,size:p.E.MEDIUM})))};H.fragment=Y,H.displayName="ShoppingActionButton"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-shopping-tools-action-providers.aaef257c30214a94f5c6.js.map
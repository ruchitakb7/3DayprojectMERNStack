/*@license For license information please refer to shared-ui-retail-sponsored-content-brand-result-listing-cars.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40],{86640:function(n,e,t){t.d(e,{w:function(){return bn}});var r=t(96540),a=t(76128),i=t(15043),o=t(85625),l=t(22060),c=t(75826),u=t(16484),s=t(1474),d=t(93149),m=t(68174),f=t(1723),p=t(94220),v=t(36360),E=t(67226),g=t(15144),y=t(90745);function b(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function C(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){C(n,e,t[e])}))}return n}function w(n,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):function(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n}function A(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function _(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,i=[],o=!0,l=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return b(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function N(){var n=O(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n    urls\n  }\n"]);return N=function(){return n},n}function S(){var n=O(["\n  fragment SponsoredContentBeaconsFragment on SponsoredContentBeacons {\n    renderBeacons\n    viewabilityBeacon\n  }\n"]);return S=function(){return n},n}function I(){var n=O(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    text\n    action {\n      ...UILinkActionFragment\n    }\n  }\n"]);return I=function(){return n},n}function k(){var n=O(["\n  fragment UILinkActionFragment on UILinkAction {\n    accessibility\n    analytics {\n      referrerId\n      linkName\n      urls\n    }\n    resource {\n      ... on HttpURI {\n        value\n      }\n    }\n    target\n  }\n"]);return k=function(){return n},n}function L(){var n=O(["\n  fragment ClickActionFragment on SponsoredContentClickAction {\n    __typename\n    ... on UILinkAction {\n      ...UILinkActionFragment\n    }\n    ... on CriteriaUpdateAction {\n      ...CriteriaUpdateActionFragment\n    }\n  }\n\n  fragment CriteriaUpdateActionFragment on CriteriaUpdateAction {\n    secondaryCriteria {\n      ...SecondaryCriteriaFragment\n    }\n    accessibility\n    analytics {\n      ...ClientSideAnalyticsFragment\n    }\n  }\n\n  fragment SecondaryCriteriaFragment on ShoppingSearchCriteria {\n    booleans {\n      id\n      value\n    }\n    counts {\n      id\n      value\n    }\n    dates {\n      id\n      value {\n        day\n        month\n        year\n      }\n    }\n    ranges {\n      id\n      max\n      min\n    }\n    selections {\n      id\n      value\n    }\n  }\n\n  ","\n  ","\n"]);return L=function(){return n},n}function D(){var n=O(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    orientation\n    size\n    url {\n      ... on HttpURI {\n        __typename\n        value\n      }\n    }\n  }\n"]);return D=function(){return n},n}function R(){var n=O(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    text\n  }\n"]);return R=function(){return n},n}function x(){var n=O(["\n  query BrandResultListingCarsQuery(\n    $context: ContextInput!\n    $sponsoredContentContext: SponsoredContentContextInput!\n    $shoppingCriteriaInput: ProductShoppingCriteriaInput\n  ) {\n    sponsoredContent {\n      brandResultListingCars(context: $context, sponsoredContentContext: $sponsoredContentContext, shoppingCriteriaInput: $shoppingCriteriaInput) {\n        heading\n        paragraph\n        beacons {\n          ...SponsoredContentBeaconsFragment\n        }\n        impressionAnalytics {\n          ...ClientSideAnalyticsFragment\n        }\n        clickAction {\n          ...ClickActionFragment\n        }\n        badge {\n          ...EGDSStandardBadgeFragment\n        }\n        logo {\n          standard {\n            ...EGDSMarkFragment\n          }\n        }\n        callToAction {\n          ...EGDSInlineLinkFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return x=function(){return n},n}var B,T,j=(0,i.J1)(N());(T=B||(B={})).CRITICAL="CRITICAL",T.ERROR="ERROR",T.WARN="WARN",T.INFO="INFO",T.UNKNOWN="UNKNOWN";var F=function(){function n(n,e){this.level=n,this.name=e}return n.prototype.toString=function(){return"SystemEvent(level="+this.level.toString()+" name="+this.name+")"},n}(),P=function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,a,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(l){a={error:l}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return o},U=function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(P(arguments[e]));return n},G=function(n){var e=this;this.event=n.event||function(){};var t=function(n,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];e.event&&e.event.apply(e,U([new F(n,t)],r))};this.info=n.info||function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.apply(void 0,U([B.INFO,n],e))},this.warning=n.warning||function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.apply(void 0,U([B.WARN,n],e))},this.error=n.error||function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.apply(void 0,U([B.ERROR,n],e))}},K=function(){return K=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},K.apply(this,arguments)},z=new G({}),W=r.createContext(z);function H(n){var e=r.useContext(W);return Object.keys(n).reduce((function(t,r){var a;return K(K({},t),((a={})[r]={log:function(t){return void 0===t&&(t={}),e.event(n[r],{payload:t})}},a))}),{})}var M,J={FAIL_TO_SEND_BEACON_USING_BEACON_API:new F(B.WARN,"FAIL_TO_SEND_BEACON_USING_BEACON_API")},V=(0,i.J1)(S()),$=function(n){var e=H(J);r.useEffect((function(){var t;n&&(null===(t=n.renderBeacons)||void 0===t||t.forEach((function(n){!function(n,e){try{navigator.sendBeacon(encodeURI(n))||e.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({})}catch(t){e.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({error:t})}}(n,e)})))}),[])},Y=(0,i.J1)(I()),q=(0,i.J1)(k()),Q=(C(M={},"EXTERNAL","_blank"),C(M,"INTERNAL","_self"),M),X=function(n){var e=n.className,t=n.data,a=n.children,i=t.accessibility,o=t.resource,l=t.target,u=t.analytics,s=(0,c.KY)(),d=r.useCallback((function(){var n;null==u||null===(n=u.urls)||void 0===n||n.forEach((function(n){var e;null===(e=navigator)||void 0===e||e.sendBeacon(n)})),(null==u?void 0:u.referrerId)&&(null==u?void 0:u.linkName)&&s(u.referrerId,u.linkName)}),[s]);return"HttpURI"!==o.__typename?null:r.createElement("a",{className:e,target:Q[l],href:o.value,rel:"noopener",onClickCapture:d},i&&r.createElement("span",{className:"is-visually-hidden"},i),a)};X.fragment=q,X.displayName="UILinkAction";var Z=(0,i.J1)(L(),X.fragment,j),nn=function(n){var e,t=n.secondaryCriteria,a=n.analytics,i=n.actionType,o=(0,l.EY)(),s=null==o||null===(e=o.secondaryCriteria)||void 0===e?void 0:e.selections,d=null==t?void 0:t.selections,m=null==d?void 0:d.filter((function(n){return!(null==s?void 0:s.some((function(e){return e.id===n.id&&e.value===n.value})))})),f=(0,l.m6)(),p=(0,c.KY)(),v=r.useCallback((function(){var n;i===l.Lv.SORT_AND_FILTER_UPDATE&&(null==a||null===(n=a.urls)||void 0===n||n.forEach((function(n){var e;null===(e=navigator)||void 0===e||e.sendBeacon(n)})),(null==a?void 0:a.referrerId)&&(null==a?void 0:a.linkName)&&p(a.referrerId,a.linkName),null==m||m.forEach((function(n){f({field:h({name:n.id},n),event:{target:{checked:!0,type:"checkbox"}},type:i})})))}),[]);return r.createElement(u.q,null,r.createElement("button",{type:"button",onClickCapture:v}))},en=function(n){var e=n.data,t=n.children,a=n.actionType;switch(e.__typename){case"UILinkAction":return r.createElement(u.q,null,r.createElement(X,{data:e},t),";");case"CriteriaUpdateAction":return r.createElement(nn,h({actionType:a},e));default:return null}};en.fragment=Z,en.displayName="ClickAction";var tn,rn={4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,24:24,30:30,37:37,38:38,40:40,48:48,72:72},an=(C(tn={},"LANDSCAPE","landscape"),C(tn,"PORTRAIT","portrait"),tn),on=(0,i.J1)(D()),ln=function(n){var e,t=n.className,a=n.size,i=n.data,o=i.description,l=i.id,c=i.orientation,u=i.url;e=a?rn[a]:i.size?rn[i.size]:void 0;var d=c&&an[c]||"landscape";return r.createElement(s.E,{className:t,description:o,id:l,name:l,orientation:d,size:e,url:null==u?void 0:u.value})};ln.displayName="SponsoredContentEGDSMark",ln.fragment=on;var cn=(0,i.J1)(R()),un=function(n){var e,t=n.data;return t.text?r.createElement(d.p,{size:"small",text:t.text,a11yText:null!==(e=t.accessibility)&&void 0!==e?e:void 0}):null};un.fragment=cn,un.displayName="EGDSStandardBadge";var sn=new F(B.INFO,"AD_BLOCK_DETECTED"),dn=function(){return H({AD_BLOCK_DETECTED_EVENT:sn}).AD_BLOCK_DETECTED_EVENT.log({message:"collapsing"}),null},mn=function(n){var e=n.children;return H({AD_BLOCK_DETECTED_EVENT:sn}).AD_BLOCK_DETECTED_EVENT.log({message:"not collapsing"}),r.createElement(r.Fragment,null,e)};var fn=function(n){var e,t=n.data,a=t.badge,i=t.heading,o=t.paragraph,l=t.logo,s=t.beacons,d=t.callToAction,m=t.impressionAnalytics,f=m.referrerId,v=m.linkName;return $(s),r.createElement(c.ee,{trackOnce:!0,referrerId:f,linkName:v},r.createElement(u.m,null,r.createElement(g.i,{wrap:"nowrap",justifyContent:"space-between",alignItems:"start"},r.createElement(g.i,{wrap:"nowrap",justifyContent:"start"},(null==l?void 0:l.standard)&&r.createElement(g.j,{shrink:0,alignSelf:"center",maxWidth:"14x"},r.createElement(p.b,{margin:{inlineend:"three"}},r.createElement(E.a,{ratio:E.E.R1_1,imageFit:"contain"},r.createElement(E.b,{src:null===(e=l.standard.url)||void 0===e?void 0:e.value,alt:l.standard.description})))),r.createElement(g.i,{wrap:"wrap",justifyContent:"space-between",alignItems:"center"},r.createElement(g.j,{grow:0,minWidth:"full_width",alignSelf:"start"},r.createElement(c.ee,{trackOnce:!0,referrerId:f,linkName:v},r.createElement(y.E,{tag:"h3",size:6},i),r.createElement(p.b,{margin:{blockstart:"half"}},r.createElement(y.c,{size:300},o)))),r.createElement(g.j,{grow:0,minWidth:"twenty_four",alignSelf:"end"},(null==d?void 0:d.action)&&r.createElement(g.j,null,r.createElement(p.b,{margin:{blockstart:"three"}},r.createElement(X,{data:h({},d.action)},d.text)))))),a&&r.createElement(un,{data:a}))))};fn.displayName="LazyBrandResultListingCarsContent";var pn=function(n){var e,t,a,i=n.inputs,o=n.skipSsr,c=n.batchKey,s=void 0===c?"sponsored-content":c,d=n.fetchPolicy,m=void 0===d?"no-cache":d,E=(0,v.R)().context,g=w(h({},i),{context:E}),y=(0,f.I)(yn,{context:{batchKey:s},variables:g,ssr:!o,fetchPolicy:m}),b=y.data,C=y.error,A=function(n){var e=n.viewabilityBeacon,t=r.useRef(null),a=(0,r.useCallback)((function(n){var e;n&&window.meso&&(window.meso.viewability=null!==(e=window.meso.viewability)&&void 0!==e?e:[],window.meso.viewability.push({type:"deregister",element:n}))}),[]),i=(0,r.useCallback)((function(n){var t,r;n&&(window.meso=null!==(t=window.meso)&&void 0!==t?t:{},window.meso.viewability=null!==(r=window.meso.viewability)&&void 0!==r?r:[],window.meso.viewability.push({type:"register",config:"image",element:n,beacon:e}))}),[e]);return r.useEffect((function(){var n=t.current;return i(n),function(){a(n)}}),[i,a]),{componentRef:t}}({viewabilityBeacon:null==b||null===(a=b.sponsoredContent)||void 0===a||null===(t=a.brandResultListingCars)||void 0===t||null===(e=t.beacons)||void 0===e?void 0:e.viewabilityBeacon}).componentRef;if(C||!b||!b.sponsoredContent.brandResultListingCars)return null;var _=b.sponsoredContent.brandResultListingCars.clickAction;return r.createElement(p.b,{stid:"cars-brand-result-listing"},r.createElement(u.i,{"data-eg-sc":!0,ref:A,border:!0},_&&r.createElement(en,{actionType:l.Lv.SORT_AND_FILTER_UPDATE,data:_}),r.createElement(fn,{data:b.sponsoredContent.brandResultListingCars})))};pn.displayName="sharedui-BrandResultListingCarsQueryComponent";var vn,En,gn=(vn=pn,(En=function(n){var e,t=n.collapseWhenAdBlockDetected,a=n.adBlockCollapseExperiment,i=r.createElement(mn,null,r.createElement(vn,h({},n)));return window.meso=null!==(e=window.meso)&&void 0!==e?e:{},!window.meso.adblock||window.meso.adblock.enabled?a?r.createElement(o.Experiment,{name:"Acceptable_Ads_Component_Enablement"},r.createElement(o.ExperimentControl,null,r.createElement(dn,null)),r.createElement(o.ExperimentVariant,{bucket:1},"PG_Acceptable_Ads_Enablement"===a?r.createElement(o.Experiment,{name:"PG_Acceptable_Ads_Enablement"},r.createElement(o.ExperimentControl,null,r.createElement(dn,null)),r.createElement(o.ExperimentVariant,{bucket:1},i)):"Acceptable_Ads_Component_Enablement"===a?i:r.createElement(dn,null))):!1===t?i:r.createElement(dn,null):r.createElement(vn,h({},n))}).displayName="WithAdBlockDetectHOC",En);gn.displayName="sharedui-BrandResultListingCarsLazyFetch";var yn=(0,i.J1)(x(),un.fragment,ln.fragment,X.fragment,Y,j,V,en.fragment),bn=function(n){var e,t,i=_(r.useState(0),2),c=i[0],u=i[1];r.useEffect((function(){var n;u(null===(n=window)||void 0===n?void 0:n.innerHeight)}),[]);var s=n.inputs,d=A(n,["inputs"]),f=(0,l.EY)(),p=r.useMemo((function(){return{sponsoredContentContext:s.sponsoredContentContext,shoppingCriteriaInput:f}}),[s.sponsoredContentContext,f]);return r.createElement(o.Experiment,{name:"MeSo_Cars_BRL_Universal_Shopping_Migration"},r.createElement(o.ExperimentControl,null),r.createElement(o.ExperimentVariant,{bucket:1},(c||(null===(e=window)||void 0===e?void 0:e.innerHeight))&&r.createElement(m.LM,null,r.createElement(m.NP,null,r.createElement(a.A,{offset:null===(t=window)||void 0===t?void 0:t.innerHeight},r.createElement(gn,h({inputs:p},d)))),r.createElement(m.rw,null,r.createElement(a.A,{offset:window?window.innerHeight/2:0},r.createElement(gn,h({inputs:p},d)))))))};bn.displayName="sharedui-BrandResultListingCars"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-retail-sponsored-content-brand-result-listing-cars.d7eb1f8776e6180c5de9.js.map
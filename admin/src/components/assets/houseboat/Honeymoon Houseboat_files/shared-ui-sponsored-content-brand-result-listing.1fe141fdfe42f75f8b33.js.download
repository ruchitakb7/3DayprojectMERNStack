/*@license For license information please refer to shared-ui-sponsored-content-brand-result-listing.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2802],{1518:function(e,n,t){t.d(n,{h:function(){return we}});var r=t(96540),a=t(76128),l=t(15043),i=t(85625),o=t(75826),c=t(2619),s=t(67226),u=t(1474),d=t(93149),m=t(68174),E=t(67781),p=t(74),g=t(39867),y=t(22710),f=t(1723),v=t(16484),b=t(36360),A=t(15144),C=t(30313),h=t(34638),S=t(94220),O=t(90745),_=t(46198);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function I(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function T(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,l=[],i=!0,o=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);i=!0);}catch(c){o=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(o)throw a}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function R(){var e=L(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n    urls\n  }\n"]);return R=function(){return e},e}function D(){var e=L(["\n  fragment SponsoredContentBeaconsFragment on SponsoredContentBeacons {\n    renderBeacons\n    viewabilityBeacon\n  }\n"]);return D=function(){return e},e}function B(){var e=L(["\n  fragment EGDSImageFragment on Image {\n    url\n    description\n  }\n"]);return B=function(){return e},e}function x(){var e=L(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    orientation\n    size\n    url {\n      ... on HttpURI {\n        __typename\n        value\n      }\n    }\n  }\n"]);return x=function(){return e},e}function F(){var e=L(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    text\n  }\n"]);return F=function(){return e},e}function j(){var e=L(["\n  fragment EGDSInlineLinkFragment on EGDSInlineLink {\n    text\n    action {\n      ...UILinkActionFragment\n    }\n  }\n"]);return j=function(){return e},e}function P(){var e=L(["\n  fragment UILinkActionFragment on UILinkAction {\n    accessibility\n    analytics {\n      referrerId\n      linkName\n      urls\n    }\n    resource {\n      ... on HttpURI {\n        value\n      }\n    }\n    target\n  }\n"]);return P=function(){return e},e}function z(){var e=L(["\n  fragment VideoPlayerFragment on SponsoredContentVideo {\n    videoAccessibility\n    url {\n      value\n    }\n    thumbnail {\n      value\n    }\n    link {\n      ...UILinkActionFragment\n    }\n    analytics {\n      firstQuartileAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      midpointAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      muteAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      pauseAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      resumeAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      thirdQuartileAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      unmuteAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      videoCompleteAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      viewAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n      videoBufferingAnalytics {\n        ...ClientSideAnalyticsFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return z=function(){return e},e}function G(){var e=L(["\n  query BrandResultListingQuery(\n    $context: ContextInput!\n    $sponsoredContentContext: SponsoredContentContextInput!\n    $shoppingCriteriaInput: ProductShoppingCriteriaInput\n  ) {\n    sponsoredContent {\n      brandResultListing(context: $context, sponsoredContentContext: $sponsoredContentContext, shoppingCriteriaInput: $shoppingCriteriaInput) {\n        heading\n        paragraph\n        adTransparencyTrigger {\n          adTransparencyId\n          adTransparencyButton {\n            ...AdTransparencyButtonFragment\n          }\n          adTransparencyOverlaySkeleton {\n            ...TransparencyOverlaySkeletonFragment\n          }\n        }\n        beacons {\n          ...SponsoredContentBeaconsFragment\n        }\n        impressionAnalytics {\n          ...ClientSideAnalyticsFragment\n        }\n        link {\n          ...UILinkActionFragment\n        }\n        badge {\n          ...EGDSStandardBadgeFragment\n        }\n        feature {\n          ...EGDSImageFragment\n          thumbnailClickAnalytics {\n            ...ClientSideAnalyticsFragment\n          }\n        }\n        logo {\n          standard {\n            ...EGDSMarkFragment\n          }\n        }\n        video {\n          ...VideoPlayerFragment\n        }\n        callToAction {\n          ...EGDSOverlayButtonFragment\n        }\n      }\n    }\n  }\n\n  fragment AdTransparencyButtonFragment on AdTransparencyButton {\n    primary\n    accessibility\n    disabled\n    size\n    icon {\n      description\n      id\n      title\n    }\n    analyticsPayload\n  }\n  fragment TransparencyOverlaySkeletonFragment on TransparencyOverlaySkeleton {\n    title\n    error {\n      icon {\n        id\n        size\n      }\n      description\n      button {\n        primary\n      }\n      allowedRetryAttempts\n      exceededAttemptsMessage\n    }\n  }\n  fragment EGDSOverlayButtonFragment on EGDSOverlayButton {\n    accessibility\n    primary\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return G=function(){return e},e}var U=(0,l.J1)(R()),V={FAIL_TO_SEND_BEACON_USING_BEACON_API:new c.SystemEvent(c.SystemEventLevel.WARN,"FAIL_TO_SEND_BEACON_USING_BEACON_API")},H=(0,l.J1)(D()),M=function(e){var n=(0,c.useLoggerEvents)(V);r.useEffect((function(){var t;e&&(null===(t=e.renderBeacons)||void 0===t||t.forEach((function(e){!function(e,n){try{navigator.sendBeacon(encodeURI(e))||n.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({})}catch(t){n.FAIL_TO_SEND_BEACON_USING_BEACON_API.log({error:t})}}(e,n)})))}),[])},K=(0,l.J1)(B()),J=function(e){var n=e.data;return r.createElement(s.b,{alt:n.description,src:n.url})};J.fragment=K,J.displayName="SponsoredContentEGDSImage";var Q,W={4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,24:24,30:30,37:37,38:38,40:40,48:48,72:72},q=(k(Q={},"LANDSCAPE","landscape"),k(Q,"PORTRAIT","portrait"),Q),$=(0,l.J1)(x()),X=function(e){var n,t=e.className,a=e.size,l=e.data,i=l.description,o=l.id,c=l.orientation,s=l.url;n=a?W[a]:l.size?W[l.size]:void 0;var d=c&&q[c]||"landscape";return r.createElement(u.E,{className:t,description:i,id:o,name:o,orientation:d,size:n,url:null==s?void 0:s.value})};X.displayName="SponsoredContentEGDSMark",X.fragment=$;var Y=(0,l.J1)(F()),Z=function(e){var n,t=e.data;return t.text?r.createElement(d.p,{size:"small",text:t.text,a11yText:null!==(n=t.accessibility)&&void 0!==n?n:void 0}):null};Z.fragment=Y,Z.displayName="EGDSStandardBadge";(0,l.J1)(j());var ee,ne=(0,l.J1)(P()),te=(k(ee={},"EXTERNAL","_blank"),k(ee,"INTERNAL","_self"),ee),re=function(e){var n=e.className,t=e.data,a=e.children,l=t.accessibility,i=t.resource,c=t.target,s=t.analytics,u=(0,o.KY)(),d=r.useCallback((function(){var e;null==s||null===(e=s.urls)||void 0===e||e.forEach((function(e){var n;null===(n=navigator)||void 0===n||n.sendBeacon(e)})),(null==s?void 0:s.referrerId)&&(null==s?void 0:s.linkName)&&u(s.referrerId,s.linkName)}),[u]);return"HttpURI"!==i.__typename?null:r.createElement("a",{className:n,target:te[c],href:i.value,rel:"noopener",onClickCapture:d},l&&r.createElement("span",{className:"is-visually-hidden"},l),a)};re.fragment=ne,re.displayName="UILinkAction";var ae=(0,l.J1)(z(),U,re.fragment),le=new c.SystemEvent(c.SystemEventLevel.ERROR,"VIDEO_LOAD_ERROR"),ie=function(e){var n,t,a,l,i=e.data,s=i.videoAccessibility,u=i.url,d=i.thumbnail,m=i.analytics,f=i.link,v=e.badge,b=e.adTransparencyTrigger,A=e.callToAction,C=m||{},h=C.firstQuartileAnalytics,S=C.midpointAnalytics,O=C.muteAnalytics,_=C.pauseAnalytics,w=C.resumeAnalytics,k=C.thirdQuartileAnalytics,N=C.unmuteAnalytics,I=C.videoCompleteAnalytics,L=C.viewAnalytics,R=C.videoBufferingAnalytics,D=(0,r.useRef)(null),B=(0,c.useLoggerEvents)({VIDEO_LOAD_ERROR_EVENT:le}),x=(0,o.KY)(),F=(0,o._q)().track,j=function(e){e.referrerId&&e.linkName&&F(o.p3.EVENT,{data:{schemaName:"referrer",messageContent:{referrerId:e.referrerId,linkName:e.linkName,eventType:"impression"}}})},P={src:u.value,thumbnail:d.value},z=function(e,n){var t;return{id:null!==(t=null==e?void 0:e.referrerId)&&void 0!==t?t:"",callback:function(){n?j(e):function(e){e.referrerId&&e.linkName&&x(e.referrerId,e.linkName)}(e)}}},G={ctaClickAnalytics:z(null==f?void 0:f.analytics,!1),ctaLink:"HttpURI"===(null==f?void 0:f.resource.__typename)?null==f?void 0:f.resource.value:"",ctaText:null!==(a=null==A?void 0:A.primary)&&void 0!==a?a:"",openLinkInNewTab:"EXTERNAL"===(null==f?void 0:f.target)},U={sectionComponent:f&&A&&r.createElement(re,{data:f},r.createElement(E.E,{size:p.E.MEDIUM,"aria-label":null!==(l=A.accessibility)&&void 0!==l?l:void 0},A.primary)),disappearsWithControls:!0},V={completeAnalytics:z(I,!0),firstQuartileAnalytics:z(h,!0),midpointAnalytics:z(S,!0),muteAnalytics:z(O,!1),pauseAnalytics:z(_,!1),playAnalytics:z(w,!1),thirdQuartileAnalytics:z(k,!0),unmuteAnalytics:z(N,!1),viewAnalytics:z(L,!0),bufferingAnalytics:z(R,!0)},H=T((0,r.useState)(1),2),M=H[0],K=H[1],J=b?r.createElement(y.x,{data:b,onOpen:function(){D.current&&D.current.showOverlay()},onClose:function(){D.current&&D.current.dismissOverlay()}}):v&&r.createElement(Z,{data:v}),Q=!1!==(null===(t=window.meso)||void 0===t||null===(n=t.adblock)||void 0===n?void 0:n.enabled);return r.createElement(g.V5,{ref:D,autoplay:!Q,adBadge:J,videoResource:P,footerContent:{customFooter:null,controlBarProps:{useScrim:!1,hasClosedCaptionsButton:!1,hasFullscreenButton:!1}},midSection:U,analytics:V,videoAriaLabel:null!=s?s:void 0,onComplete:function(){if(D.current&&I){if(M<=10){var e={referrerId:"".concat(I.referrerId,".").concat(M),linkName:I.linkName};j(e)}K(M+1)}},onError:function(){B.VIDEO_LOAD_ERROR_EVENT.log({videoSrc:u.value})},callToActionProps:G,videoClickAction:g.Hq.CALL_TO_ACTION})};ie.fragment=ae,ie.displayName="Video";var oe=new c.SystemEvent(c.SystemEventLevel.INFO,"AD_BLOCK_DETECTED"),ce=function(){return(0,c.useLoggerEvents)({AD_BLOCK_DETECTED_EVENT:oe}).AD_BLOCK_DETECTED_EVENT.log({message:"collapsing"}),null},se=function(e){var n=e.children;return(0,c.useLoggerEvents)({AD_BLOCK_DETECTED_EVENT:oe}).AD_BLOCK_DETECTED_EVENT.log({message:"not collapsing"}),r.createElement(r.Fragment,null,n)};function ue(e){var n=function(n){var t,a=n.collapseWhenAdBlockDetected,l=n.adBlockCollapseExperiment,o=r.createElement(se,null,r.createElement(e,N({},n)));return window.meso=null!==(t=window.meso)&&void 0!==t?t:{},!window.meso.adblock||window.meso.adblock.enabled?l?r.createElement(i.Experiment,{name:"Acceptable_Ads_Component_Enablement"},r.createElement(i.ExperimentControl,null,r.createElement(ce,null)),r.createElement(i.ExperimentVariant,{bucket:1},"PG_Acceptable_Ads_Enablement"===l?r.createElement(i.Experiment,{name:"PG_Acceptable_Ads_Enablement"},r.createElement(i.ExperimentControl,null,r.createElement(ce,null)),r.createElement(i.ExperimentVariant,{bucket:1},o)):"Acceptable_Ads_Component_Enablement"===l?o:r.createElement(ce,null))):!1===a?o:r.createElement(ce,null):r.createElement(e,N({},n))};return n.displayName="WithAdBlockDetectHOC",n}var de=function(e){var n=e.viewabilityBeacon,t=r.useRef(null),a=(0,r.useCallback)((function(e){var n;e&&window.meso&&(window.meso.viewability=null!==(n=window.meso.viewability)&&void 0!==n?n:[],window.meso.viewability.push({type:"deregister",element:e}))}),[]),l=(0,r.useCallback)((function(e){var t,r;e&&(window.meso=null!==(t=window.meso)&&void 0!==t?t:{},window.meso.viewability=null!==(r=window.meso.viewability)&&void 0!==r?r:[],window.meso.viewability.push({type:"register",config:"image",element:e,beacon:n}))}),[n]);return r.useEffect((function(){var e=t.current;return l(e),function(){a(e)}}),[l,a]),{componentRef:t}},me="sponsored-content",Ee="no-cache",pe="adurl=",ge=function(e,n){if(e&&"HttpURI"===e.resource.__typename&&e.resource.value.toString().includes("search")&&n){var t=null==e?void 0:e.resource.value,r=t.substring(t.indexOf(pe)+6),a=new URLSearchParams(r||"");a.append("NumRoom",n.length.toString());for(var l=0;l<n.length;l+=1){var i,o,c=(null===(i=n[l])||void 0===i?void 0:i.children)||[];a.append("NumAdult".concat(l+1),"".concat((null===(o=n[l])||void 0===o?void 0:o.adults)||"")),a.append("NumChild".concat(l+1),c.length.toString());for(var s=0;s<c.length;s+=1){var u;a.append("Rm".concat(l+1,"child").concat(s+1,"age"),"".concat((null===(u=c[s])||void 0===u?void 0:u.age)||""))}}return I(N({},e),{resource:I(N({},e.resource),{value:e.resource.value.replace(r,a.toString())})})}return e},ye=function(e){var n=e.badge,t=e.adTransparencyTrigger;return r.createElement(h.d,{type:"absolute",position:{bottom:"three",left:"three",zindex:"layer3"},cloneElement:!0},t?r.createElement(y.x,{data:t}):n&&r.createElement("div",null,r.createElement(Z,{data:n})))},fe=function(e){var n=e.data,t=e.impressionOnly,a=n.badge,l=n.heading,i=n.paragraph,o=n.feature,c=n.logo,u=n.beacons,d=n.adTransparencyTrigger;if(M(u),t)return null;var m=o.thumbnailClickAnalytics?I(N({},n.link),{analytics:o.thumbnailClickAnalytics}):n.link;return r.createElement(C.E,{alignItems:"center",columns:3},r.createElement(ye,{badge:a,adTransparencyTrigger:d}),r.createElement(C.a,{colSpan:1},r.createElement(h.d,{type:"relative",position:{zindex:"layer2"}},r.createElement(s.a,{imageFit:"cover"},r.createElement(re,{data:m},r.createElement(J,{data:o}))))),r.createElement(C.a,{colSpan:2,alignSelf:"start"},r.createElement(v.m,null,r.createElement(A.i,{direction:"column",justifyContent:"start"},(null==c?void 0:c.standard)&&r.createElement(A.j,{grow:0,maxWidth:100},r.createElement(S.b,{margin:{blockend:"three"}},r.createElement("div",null,r.createElement(X,{data:c.standard})))),r.createElement(A.j,null,r.createElement(O.E,{tag:"h3",size:5},l)),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"half"}},r.createElement(O.a,{size:2},i)))))))},ve=function(e){var n=e.data,t=e.impressionOnly,a=n.badge,l=n.heading,i=n.paragraph,o=n.feature,c=n.logo,u=n.beacons,d=n.adTransparencyTrigger;if(M(u),t)return null;var m=o.thumbnailClickAnalytics?I(N({},n.link),{analytics:o.thumbnailClickAnalytics}):n.link;return r.createElement(C.E,{columns:3},r.createElement(ye,{badge:a,adTransparencyTrigger:d}),r.createElement(C.a,null,r.createElement(h.d,{type:"relative",position:{zindex:"layer2"}},r.createElement(s.a,{imageFit:"cover",ratio:s.E.R21_9},r.createElement(re,{data:m},r.createElement(J,{data:o}))))),r.createElement(C.a,{colSpan:2},r.createElement(v.m,null,r.createElement(A.i,{direction:"column",justifyContent:"start"},(null==c?void 0:c.standard)&&r.createElement(A.j,{grow:0,maxWidth:100},r.createElement("div",null,r.createElement(X,{data:c.standard}))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"three"}},r.createElement(O.E,{tag:"h2",size:6},l))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"one"}},r.createElement(O.a,{size:2},i)))))))},be=function(e){var n=e.data,t=e.impressionOnly,a=n.link,l=n.badge,i=n.heading,o=n.paragraph,c=n.logo,s=n.beacons,u=n.adTransparencyTrigger,d=n.video,m=n.callToAction;return M(s),t||!d?null:r.createElement(v.i,{border:!0},a&&r.createElement(v.q,null,r.createElement(re,{data:a})),r.createElement(C.E,{alignItems:"center",columns:12},r.createElement(C.a,{colSpan:7},r.createElement(h.d,{type:"relative",position:{zindex:"layer2"}},r.createElement(ie,{data:d,badge:l,adTransparencyTrigger:u,callToAction:m}))),r.createElement(C.a,{colSpan:5,alignSelf:"center"},r.createElement(v.m,null,r.createElement(A.i,{direction:"column",justifyContent:"start"},(null==c?void 0:c.standard)&&r.createElement(A.j,{grow:0,maxWidth:100},r.createElement("div",null,r.createElement(X,{data:c.standard}))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"three"}},r.createElement(O.E,{tag:"h3",size:5},i))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"two"}},r.createElement(O.a,{size:2},o))))))))},Ae=function(e){var n=e.data,t=e.impressionOnly,a=n.link,l=n.badge,i=n.heading,o=n.paragraph,c=(n.feature,n.logo),s=n.beacons,u=n.adTransparencyTrigger,d=n.video,m=n.callToAction;if(M(s),t||!d)return null;var E=function(e){return a?r.createElement(_.E,null,r.createElement(re,{data:a},e)):e};return r.createElement(r.Fragment,null,r.createElement(S.c,{blockMargin:"six"}),r.createElement(C.E,{space:"three"},r.createElement(C.a,null,r.createElement(A.i,{direction:"column",justifyContent:"start"},(null==c?void 0:c.standard)&&r.createElement(A.j,{grow:0,maxWidth:100},r.createElement("div",null,E(r.createElement(X,{data:c.standard})))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"two"}},E(r.createElement(O.E,{tag:"h2",size:6},i)))),r.createElement(A.j,null,r.createElement(S.b,{margin:{blockstart:"half"}},E(r.createElement(O.a,{size:2},o)))))),r.createElement(C.a,null,r.createElement(v.i,null,a&&r.createElement(v.q,null,r.createElement(re,{data:a})),r.createElement(C.a,null,r.createElement(h.d,{type:"relative",position:{zindex:"layer2"}},r.createElement(ie,{data:d,badge:l,adTransparencyTrigger:u,callToAction:m})))))),r.createElement(S.c,{blockMargin:"six"}))},Ce=function(e){var n,t,a,l=e.impressionOnly,i=e.inputs,c=e.skipSsr,s=e.batchKey,u=void 0===s?me:s,d=e.rooms,E=e.fetchPolicy,p=void 0===E?Ee:E,g=(0,b.R)().context,y=I(N({},i),{context:g}),A=(0,f.I)(_e,{context:{batchKey:u},variables:y,ssr:!c,fetchPolicy:p}),C=A.data,h=A.error,S=null==C||null===(a=C.sponsoredContent)||void 0===a||null===(t=a.brandResultListing)||void 0===t||null===(n=t.beacons)||void 0===n?void 0:n.viewabilityBeacon,O=de({viewabilityBeacon:S}).componentRef;if(h||!C||!C.sponsoredContent.brandResultListing)return null;var _=C.sponsoredContent.brandResultListing,w=_.link,k=_.video,T=_.impressionAnalytics;ge(w,d);var L=r.createElement(m.LM,null,r.createElement(m.NP,null,r.createElement(o.ee,{linkName:T.linkName,referrerId:T.referrerId},k?r.createElement(Ae,{data:C.sponsoredContent.brandResultListing,impressionOnly:l}):r.createElement(ve,{data:C.sponsoredContent.brandResultListing,impressionOnly:l}))),r.createElement(m.rw,null,r.createElement(o.ee,{linkName:T.linkName,referrerId:T.referrerId},k?r.createElement(be,{data:C.sponsoredContent.brandResultListing,impressionOnly:l}):r.createElement(fe,{data:C.sponsoredContent.brandResultListing,impressionOnly:l}))));return r.createElement("div",{"data-eg-sc":!0,ref:O},k?L:r.createElement(v.i,{border:!0},w&&r.createElement(v.q,null,r.createElement(re,{data:w})),L))};Ce.displayName="sharedui-BrandResultListingQueryComponent";var he=ue(Ce);he.displayName="sharedui-BrandResultListingLazyFetch";var Se=function(e){var n,t,l,i=e.impressionOnly,c=e.inputs,s=e.skipSsr,u=e.batchKey,d=void 0===u?me:u,E=e.rooms,p=e.fetchPolicy,g=void 0===p?Ee:p,y=T(r.useState(0),2),A=y[0],C=y[1],h=(0,b.R)().context,S=I(N({},c),{context:h}),O=(0,f.I)(_e,{context:{batchKey:d},variables:S,ssr:!s,fetchPolicy:g}),_=O.data,w=O.error,k=null==_||null===(l=_.sponsoredContent)||void 0===l||null===(t=l.brandResultListing)||void 0===t||null===(n=t.beacons)||void 0===n?void 0:n.viewabilityBeacon,L=de({viewabilityBeacon:k}).componentRef;if(r.useEffect((function(){C(window.innerHeight)}),[]),w||!_||!_.sponsoredContent.brandResultListing)return null;var R=_.sponsoredContent.brandResultListing,D=R.link,B=R.video,x=R.impressionAnalytics;ge(D,E);var F=r.createElement(m.LM,null,r.createElement(m.NP,null,r.createElement(a.A,{offset:A},r.createElement(o.ee,{linkName:x.linkName,referrerId:x.referrerId},B?r.createElement(Ae,{data:_.sponsoredContent.brandResultListing,impressionOnly:i}):r.createElement(ve,{data:_.sponsoredContent.brandResultListing,impressionOnly:i})))),r.createElement(m.rw,null,r.createElement(a.A,{offset:A/2},r.createElement(o.ee,{linkName:x.linkName,referrerId:x.referrerId},B?r.createElement(be,{data:_.sponsoredContent.brandResultListing,impressionOnly:i}):r.createElement(fe,{data:_.sponsoredContent.brandResultListing,impressionOnly:i})))));return r.createElement("div",{"data-eg-sc":!0,ref:L},B?F:r.createElement(v.i,{border:!0},D&&r.createElement(v.q,null,r.createElement(re,{data:D})),F))};Se.displayName="sharedui-BrandResultListingQueryComponent";var Oe=ue(Se);Oe.displayName="sharedui-BrandResultListingLazyRender";var _e=(0,l.J1)(G(),J.fragment,Z.fragment,X.fragment,ie.fragment,re.fragment,U,H),we=function(e){var n,t,l=T(r.useState(0),2),o=l[0],c=l[1];return r.useEffect((function(){var e;c(null===(e=window)||void 0===e?void 0:e.innerHeight)}),[]),r.createElement(i.Experiment,{name:"MeSo_Remove_Eager_Fetch_on_ads_Web"},r.createElement(i.ExperimentControl,null,r.createElement(Oe,N({},e))),r.createElement(i.ExperimentVariant,{bucket:1},(o||(null===(n=window)||void 0===n?void 0:n.innerHeight))&&r.createElement(m.LM,null,r.createElement(m.NP,null,r.createElement(a.A,{offset:null===(t=window)||void 0===t?void 0:t.innerHeight},r.createElement(he,N({},e)))),r.createElement(m.rw,null,r.createElement(a.A,{offset:window?window.innerHeight/2:0},r.createElement(he,N({},e)))))))};we.displayName="sharedui-BrandResultListing"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-sponsored-content-brand-result-listing.1fe141fdfe42f75f8b33.js.map
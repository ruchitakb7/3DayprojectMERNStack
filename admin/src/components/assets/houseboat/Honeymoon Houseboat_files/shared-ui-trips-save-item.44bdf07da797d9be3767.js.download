/*@license For license information please refer to shared-ui-trips-save-item.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[158],{29558:function(e,n,t){t.d(n,{CS:function(){return zi},GG:function(){return Pi},kL:function(){return Ri},tk:function(){return Wr}});var r=t(96540),a=t(15043),i=t(28455),o=t(1723),s=t(15144),l=t(34638),c=t(94220),u=t(92799),m=t(90745),d=t(27490),p=t(36360),g=t(75826),f=t(49784),v=t(10159),T=t(85625),I=t(48826),E=t(31906),y=t(70313),S=t(43623),_=t(1192),h=t(71794),b=t(40961),A=t(90738),C=t(67609),F=t(68174),D=t(2619),N=t(39938),k=t(59862),w=t(94495),R=t(56755),O=t(1474),P=t(70111),M=t(71831),L=t(74),V=t(67811),x=t(68963),B=t(67045),G=t(84824),J=t(86544),U=t(16484),z=t(93149),j=t(67226),H=t(30313),q=t(63134),$=t(40051),W=t(82960),K=(t(88599),t(46198));t(47576);function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Q(e,n,t,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,a)}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}function ee(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function ne(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,n)||ie(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function ae(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,n){if(e){if("string"==typeof e)return Y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,n):void 0}}function oe(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=n.call(e,o)}catch(s){i=[6,s],r=0}finally{t=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function se(){var e=re(["\n  fragment ClickstreamAnalyticsFragment on ClickstreamAnalytics {\n    event {\n      clickstreamTraceId\n      eventCategory\n      eventName\n      eventType\n      eventVersion\n      actionLocation\n    }\n    payload {\n      ...TripRecommendationModuleFragment\n      ...TripBookingModuleFragment\n    }\n  }\n\n  fragment TripRecommendationModuleFragment on TripRecommendationModule {\n    title\n    responseId\n    recommendations {\n      ...TripRecommendationFragment\n    }\n  }\n\n  fragment TripRecommendationFragment on TripRecommendation {\n    id\n    position\n    priceDisplayed\n    currencyCode\n    name\n  }\n\n  fragment TripBookingModuleFragment on TripBookingModule {\n    orderId\n    transactionStatus\n  }\n"]);return se=function(){return e},e}function le(){var e=re(["\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    eventType\n    linkName\n    referrerId\n    uisPrimeMessages {\n      messageContent\n      schemaName\n    }\n  }\n"]);return le=function(){return e},e}function ce(){var e=re(["\n  fragment ClientSideImpressionAnalyticsFragment on ClientSideImpressionAnalytics {\n    uisPrimeAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    clickstreamAnalytics {\n      ...ClickstreamAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return ce=function(){return e},e}function ue(){var e=re(["\n  fragment TripsInfoToastFragment on TripsInfoToast {\n    primary\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n"]);return ue=function(){return e},e}function me(){var e=re(["\n  fragment TripsDismissActionFragment on TripsDismissAction {\n    __typename\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return me=function(){return e},e}function de(){var e=re(["\n  fragment TripsNavigateToViewActionFragment on TripsNavigateToViewAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    tripItemId\n    tripViewId\n    viewFilter {\n      filter\n    }\n    viewType\n    viewUrl\n    displayMode\n  }\n"]);return de=function(){return e},e}function pe(){var e=re(["\n  fragment EGDSIconFragment on Icon {\n    description\n    id\n    size\n    theme\n    title\n    withBackground\n    spotLight\n  }\n"]);return pe=function(){return e},e}function ge(){var e=re(["\n  fragment EGDSIllustrationFragment on Illustration {\n    id\n    description\n    link: url\n  }\n"]);return ge=function(){return e},e}function fe(){var e=re(["\n  fragment EGDSMarkFragment on Mark {\n    description\n    id\n    markSize: size\n    url {\n      ... on HttpURI {\n        __typename\n        relativePath\n        value\n      }\n    }\n  }\n"]);return fe=function(){return e},e}function ve(){var e=re(["\n  fragment UIGraphicFragment on UIGraphic {\n    ...EGDSIconFragment\n    ...EGDSMarkFragment\n    ...EGDSIllustrationFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return ve=function(){return e},e}function Te(){var e=re(["\n  fragment EGDSGraphicTextFragment on EGDSGraphicText {\n    graphic {\n      ...UIGraphicFragment\n    }\n    text\n  }\n\n  ","\n"]);return Te=function(){return e},e}function Ie(){var e=re(["\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n"]);return Ie=function(){return e},e}function Ee(){var e=re(["\n  fragment EGDSTextFragment on EGDSText {\n    ...EGDSPlainTextFragment\n    ...EGDSGraphicTextFragment\n  }\n\n  ","\n  ","\n"]);return Ee=function(){return e},e}function ye(){var e=re(["\n  fragment TripsStaticContentDrawerContentFragment on TripsStaticContentDrawerContent {\n    ...EGDSPlainTextFragment\n    ... on Image {\n      description\n      url\n    }\n  }\n\n  ","\n"]);return ye=function(){return e},e}function Se(){var e=re(["\n  fragment TripsStaticContentDrawerFragment on TripsStaticContentDrawer {\n    heading\n    content {\n      ...TripsStaticContentDrawerContentFragment\n    }\n    buttons {\n      ... on TripsPrimaryButton {\n        primary\n        accessibility {\n          label\n        }\n        action {\n          ... on TripsDismissAction {\n            analytics {\n              referrerId\n              linkName\n              uisPrimeMessages {\n                messageContent\n                schemaName\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Se=function(){return e},e}function _e(){var e=re(["\n  fragment TripsOpenDrawerActionFragment on TripsOpenDrawerAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    drawer {\n      ...TripsStaticContentDrawerFragment\n    }\n  }\n\n  ","\n"]);return _e=function(){return e},e}function he(){var e=re(["\n  fragment TripsToastButtonFragment on TripsButton {\n    primary\n    action {\n      ...TripsNavigateToViewActionFragment\n      ...TripsDismissActionFragment\n      ...TripsOpenDrawerActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return he=function(){return e},e}function be(){var e=re(["\n  fragment TripsInlineActionToastFragment on TripsInlineActionToast {\n    primary\n    button {\n      ...TripsToastButtonFragment\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return be=function(){return e},e}function Ae(){var e=re(["\n  fragment TripsStackedActionToastFragment on TripsStackedActionToast {\n    primary\n    button {\n      ...TripsToastButtonFragment\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Ae=function(){return e},e}function Ce(){var e=re(["\n  fragment TripsToastFragment on TripsToast {\n    ...TripsInfoToastFragment\n    ...TripsInlineActionToastFragment\n    ...TripsStackedActionToastFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Ce=function(){return e},e}function Fe(){var e=re(["\n  fragment TripsLocalSavedItemFragment on TripsLocalSavedItem {\n    id\n    checked\n  }\n"]);return Fe=function(){return e},e}function De(){var e=re(["\n  query TripsLocalSavedItemQuery {\n    localSavedItems @client {\n      ...TripsLocalSavedItemFragment\n    }\n  }\n\n  ","\n"]);return De=function(){return e},e}function Ne(){var e=re(["\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n"]);return Ne=function(){return e},e}function ke(){var e=re(["\n  fragment TripsSaveActivityAttributesFragment on TripsSaveActivityAttributes {\n    regionId\n    dateRange {\n      start {\n        ...DateFragment\n      }\n      end {\n        ...DateFragment\n      }\n    }\n  }\n\n  ","\n"]);return ke=function(){return e},e}function we(){var e=re(["\n  fragment CarRentalLocationFragment on CarRentalLocation {\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n    isExactLocationSearch\n    regionId\n    searchTerm\n  }\n"]);return we=function(){return e},e}function Re(){var e=re(["\n  fragment DateTimeFragment on DateTime {\n    day\n    month\n    year\n    hour\n    minute\n    second\n  }\n"]);return Re=function(){return e},e}function Oe(){var e=re(["\n  fragment TripsSaveCarOfferAttributesFragment on TripsSaveCarOfferAttributes {\n    categoryCode\n    fuelAcCode\n    offerToken\n    searchCriteria {\n      dropOffDateTime {\n        ...DateTimeFragment\n      }\n      dropOffLocation {\n        ...CarRentalLocationFragment\n      }\n      pickUpDateTime {\n        ...DateTimeFragment\n      }\n      pickUpLocation {\n        ...CarRentalLocationFragment\n      }\n    }\n    transmissionDriveCode\n    typeCode\n    vendorCode\n  }\n\n  ","\n  ","\n"]);return Oe=function(){return e},e}function Pe(){var e=re(["\n  fragment TripsSaveFlightSearchAttributesFragment on TripsSaveFlightSearchAttributes {\n    searchCriteria {\n      primary {\n        journeyCriterias {\n          arrivalDate {\n            ...DateFragment\n          }\n          departureDate {\n            ...DateFragment\n          }\n          destination\n          destinationAirportLocationType\n          origin\n          originAirportLocationType\n        }\n        searchPreferences {\n          advancedFilters\n          airline\n          cabinClass\n        }\n        travelers {\n          age\n          type\n        }\n        tripType\n      }\n      secondary {\n        booleans {\n          id\n          value\n        }\n        counts {\n          id\n          value\n        }\n        dates {\n          id\n          value {\n            ...DateFragment\n          }\n        }\n        ranges {\n          id\n          min\n          max\n        }\n        selections {\n          id\n          value\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Pe=function(){return e},e}function Me(){var e=re(["\n  fragment TripsSavePackageAttributesFragment on TripsSavePackageAttributes {\n    packageOfferId\n    sessionId\n  }\n"]);return Me=function(){return e},e}function Le(){var e=re(["\n  fragment TripsSaveStayAttributesFragment on TripsSaveStayAttributes {\n    checkInDate {\n      ...DateFragment\n    }\n    checkoutDate {\n      ...DateFragment\n    }\n    regionId\n    roomConfiguration {\n      numberOfAdults\n      childAges\n    }\n  }\n\n  ","\n"]);return Le=function(){return e},e}function Ve(){var e=re(["\n  fragment TripsSaveItemAttributesFragment on TripsSaveItemAttributes {\n    ...TripsSaveStayAttributesFragment\n    ...TripsSaveActivityAttributesFragment\n    ...TripsSaveFlightSearchAttributesFragment\n    ...TripsSaveCarOfferAttributesFragment\n    ...TripsSavePackageAttributesFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}function xe(){var e=re(["\n  fragment TripsChangeSaveItemStateFragment on TripsChangeSaveItemState {\n    toggleState\n    tripItemId\n  }\n"]);return xe=function(){return e},e}function Be(){var e=re(["\n  mutation SaveItemToTrip($context: ContextInput!, $tripId: String, $newTripInputs: [GraphQLPairInput!], $itemInput: TripsPlanInput!) {\n    trip(context: $context) {\n      saveItemToTrip(tripId: $tripId, newTripInputs: $newTripInputs, itemInput: $itemInput) {\n        ... on TripsView {\n          toast {\n            ...TripsToastFragment\n          }\n          tripsSideEffects {\n            ...TripsChangeSaveItemStateFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Be=function(){return e},e}function Ge(){var e=re(["\n  fragment TripsSaveItemToTripActionFragment on TripsSaveItemToTripAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    tripId\n    saveItemInput {\n      ...TripsSaveItemToTripSaveItemInputFragment\n    }\n    accessibility {\n      label\n    }\n  }\n\n  fragment TripsSaveItemToTripSaveItemInputFragment on TripsPlan {\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    itemId\n    pageLocation\n    source\n    subscriptionAttributes {\n      anchorPrice\n    }\n    tripItem {\n      tripItemId\n      tripViewId\n    }\n  }\n\n  ","\n"]);return Ge=function(){return e},e}function Je(){var e=re(["\n  fragment ClientSideImpressionEventAnalyticsFragment on ClientSideImpressionEventAnalytics {\n    linkName\n    referrerId\n    event\n  }\n"]);return Je=function(){return e},e}function Ue(){var e=re(["\n  fragment TripsCoachmarkFragment on TripsCoachmark {\n    body\n    button {\n      accessibility\n      analytics {\n        ...ClientSideEventAnalyticsFragment\n      }\n      primary\n      disabled\n    }\n    impressionAnalytics {\n      ...ClientSideImpressionEventAnalyticsFragment\n    }\n    dismissEventAnalytics {\n      ...ClientSideEventAnalyticsFragment\n    }\n    title\n  }\n  fragment ClientSideEventAnalyticsFragment on ClientSideAnalytics {\n    eventType\n    linkName\n    referrerId\n  }\n  ","\n"]);return Ue=function(){return e},e}function ze(){var e=re(["\n  mutation MarkTripsCoachmarkAsSeenMutation($pageName: String!, $context: ContextInput!) {\n    markTripsCoachmarkAsSeen(pageName: $pageName, context: $context) {\n      ... on TripsUIMarkCoachmarkAsSeenResponse {\n        __typename\n        status\n      }\n    }\n  }\n"]);return ze=function(){return e},e}function je(){var e=re(["\n  fragment TripsSaveItemPropertiesFragment on TripsSaveItemProperties {\n    accessibility\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    label\n    tooltip\n  }\n"]);return je=function(){return e},e}function He(){var e=re(["\n  fragment UIPrimaryButtonFragment on UIPrimaryButton {\n    accessibility\n    disabled\n    primary\n  }\n"]);return He=function(){return e},e}function qe(){var e=re(["\n  fragment UISecondaryButtonFragment on UISecondaryButton {\n    accessibility\n    disabled\n    primary\n  }\n"]);return qe=function(){return e},e}function $e(){var e=re(["\n  fragment TripSaveItemItemButtonViewFragment on TripSaveItemButtonView {\n    button {\n      ... on TripSaveItemButton {\n        ...UIPrimaryButtonFragment\n        ...UISecondaryButtonFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return $e=function(){return e},e}function We(){var e=re(["\n  fragment TripSaveItemViewTypeFragment on TripSaveItemViewType {\n    ... on TripSaveItemHeartView {\n      heartOutlineType\n    }\n    ... on TripSaveItemButtonView {\n      ...TripSaveItemItemButtonViewFragment\n    }\n  }\n  ","\n"]);return We=function(){return e},e}function Ke(){var e=re(["\n  fragment TripsInternalComposableDrawerFragment on TripsComposableDrawer {\n    tripsViewHeader {\n      primary\n      secondaries\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    type\n  }\n\n  ","\n"]);return Ke=function(){return e},e}function Ye(){var e=re(["\n  fragment TripsInternalPrimaryButtonFragment on TripsPrimaryButton {\n    __typename\n    primary\n    accessibility {\n      label\n    }\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n  }\n"]);return Ye=function(){return e},e}function Qe(){var e=re(["\n  fragment TripsInternalSecondaryButtonFragment on TripsSecondaryButton {\n    __typename\n    primary\n    accessibility {\n      label\n    }\n    icon {\n      description\n      id\n    }\n    disabled\n  }\n"]);return Qe=function(){return e},e}function Xe(){var e=re(["\n  fragment TripsInternalTertiaryButtonFragment on TripsTertiaryButton {\n    __typename\n    primary\n    icon {\n      description\n      id\n    }\n    accessibility {\n      label\n    }\n    disabled\n    width\n  }\n"]);return Xe=function(){return e},e}function Ze(){var e=re(["\n  fragment TripsInternalLinkActionFragment on TripsLinkAction {\n    __typename\n    resource {\n      value\n    }\n    target\n    analytics {\n      __typename\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}function en(){var e=re(["\n  fragment TripsCreateTripFromItemActionFragment on TripsCreateTripFromItemAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    saveItemInput {\n      ...TripsCreateTripSaveItemInputFragment\n    }\n    inputIds\n  }\n\n  fragment TripsCreateTripSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n  }\n\n  ","\n"]);return en=function(){return e},e}function nn(){var e=re(["\n  fragment TripsDismissDrawerActionFragment on TripsDismissDrawerAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return nn=function(){return e},e}function tn(){var e=re(["\n  fragment TripsOpenCreateNewTripDrawerForItemActionFragment on TripsOpenCreateNewTripDrawerForItemAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    createTripMetadata {\n      saveItemInput {\n        ...TripsOpenCreateNewTripActionSaveItemInputFragment\n      }\n    }\n  }\n\n  fragment TripsOpenCreateNewTripActionSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n  }\n\n  ","\n"]);return tn=function(){return e},e}function rn(){var e=re(["\n  fragment TripsOpenSaveToTripDrawerActionFragment on TripsOpenSaveToTripDrawerAction {\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    input {\n      ...TripsOpenSaveToTripSaveItemInputFragment\n    }\n  }\n\n  fragment TripsOpenSaveToTripSaveItemInputFragment on TripsPlan {\n    itemId\n    pageLocation\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    subscriptionAttributes {\n      anchorPrice\n    }\n    tripItem {\n      tripItemId\n      tripViewId\n    }\n  }\n\n  ","\n"]);return rn=function(){return e},e}function an(){var e=re(["\n  fragment TripsDialogDismissActionFragment on TripsDismissAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n  }\n"]);return an=function(){return e},e}function on(){var e=re(["\n  fragment TripsFormDataFragment on TripsFormData {\n    ... on TripsCreateTripFromItem {\n      input {\n        itemId\n        source\n        attributes {\n          ...TripsSaveItemAttributesFragment\n        }\n        pageLocation\n        subscriptionAttributes {\n          anchorPrice\n        }\n      }\n    }\n  }\n\n  ","\n"]);return on=function(){return e},e}function sn(){var e=re(["\n  fragment TripsFormActionFragment on TripsFormAction {\n    validatedInputIds\n    type\n    formData {\n      ...TripsFormDataFragment\n    }\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    validatedInputAnalytics {\n      egdsElementId\n      analytics {\n        referrerId\n        linkName\n        uisPrimeMessages {\n          messageContent\n          schemaName\n        }\n      }\n      ... on TripsValidatedInputChangeAnalytics {\n        referenceValue\n      }\n    }\n  }\n\n  ","\n"]);return sn=function(){return e},e}function ln(){var e=re(["\n  mutation UnsaveItemFromTrip($context: ContextInput!, $tripItem: TripItemInput!, $tripEntity: TripEntity!) {\n    trip(context: $context) {\n      unsaveItemFromTrip(tripItem: $tripItem, tripEntity: $tripEntity) {\n        ... on TripsView {\n          toast {\n            ...TripsToastFragment\n          }\n          tripsSideEffects {\n            ...TripsChangeSaveItemStateFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return ln=function(){return e},e}function cn(){var e=re(["\n  fragment TripsUnsaveItemFromTripActionFragment on TripsUnsaveItemFromTripAction {\n    tripEntity\n    itemId\n    tripItem {\n      filter\n      tripItemId\n      tripViewId\n    }\n    analytics {\n      linkName\n      referrerId\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    accessibility {\n      label\n    }\n  }\n"]);return cn=function(){return e},e}function un(){var e=re(["\n  fragment TripsPrimaryButtonFragment on TripsPrimaryButton {\n    ...TripsInternalPrimaryButtonFragment\n    action {\n      ...TripsInternalLinkActionFragment\n      ...TripsNavigateToViewActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n      ...TripsFormActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return un=function(){return e},e}function mn(){var e=re(["\n  fragment TripsDialogPrimaryButtonFragment on TripsPrimaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsSaveItemToTripActionFragment\n    }\n  }\n\n  fragment TripsDialogTertiaryButtonFragment on TripsTertiaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  fragment TripsDialogSecondaryButtonFragment on TripsSecondaryButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  fragment TripsDialogOverlayButtonFragment on TripsOverlayButton {\n    primary\n    icon {\n      description\n      id\n    }\n    disabled\n    width\n    action {\n      ...TripsDialogDismissActionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return mn=function(){return e},e}function dn(){var e=re(["\n  fragment TripsEmbeddedContentListFragment on TripsEmbeddedContentList {\n    secondaries\n  }\n"]);return dn=function(){return e},e}function pn(){var e=re(["\n  fragment TripsModalDialogFragment on TripsModalDialog {\n    heading\n    buttonLayout\n    buttons {\n      ...TripsDialogPrimaryButtonFragment\n      ...TripsDialogSecondaryButtonFragment\n      ...TripsDialogTertiaryButtonFragment\n      ...TripsDialogOverlayButtonFragment\n    }\n    content {\n      ...TripsEmbeddedContentListFragment\n    }\n  }\n  ","\n  ","\n"]);return pn=function(){return e},e}function gn(){var e=re(["\n  fragment TripsOpenDialogActionFragment on TripsOpenDialogAction {\n    analytics {\n      referrerId\n      linkName\n      uisPrimeMessages {\n        messageContent\n        schemaName\n      }\n    }\n    modalDialog {\n      ...TripsModalDialogFragment\n    }\n  }\n\n  ","\n"]);return gn=function(){return e},e}function fn(){var e=re(["\n  fragment TripsSecondaryButtonFragment on TripsSecondaryButton {\n    ...TripsInternalSecondaryButtonFragment\n    action {\n      ...TripsOpenSaveToTripDrawerActionFragment\n      ...TripsInternalLinkActionFragment\n      ...TripsDismissDrawerActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n      ...TripsOpenDialogActionFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return fn=function(){return e},e}function vn(){var e=re(["\n  fragment TripsTertiaryButtonFragment on TripsTertiaryButton {\n    ...TripsInternalTertiaryButtonFragment\n\n    action {\n      ...TripsInternalLinkActionFragment\n      ...TripsOpenCreateNewTripDrawerForItemActionFragment\n      ...TripsCreateTripFromItemActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return vn=function(){return e},e}function Tn(){var e=re(["\n  fragment TripsIllustrationCardFragment on TripsIllustrationCard {\n    primary\n    secondaries\n    illustration {\n      url\n      description\n    }\n  }\n"]);return Tn=function(){return e},e}function In(){var e=re(["\n  fragment EGDSLoyaltyBadgeFragment on EGDSLoyaltyBadge {\n    accessibility\n    text\n    size\n    theme\n  }\n"]);return In=function(){return e},e}function En(){var e=re(["\n  fragment EGDSProgramBadgeFragment on EGDSProgramBadge {\n    accessibility\n    text\n    theme\n  }\n"]);return En=function(){return e},e}function yn(){var e=re(["\n  fragment EGDSStandardBadgeFragment on EGDSStandardBadge {\n    accessibility\n    graphic {\n      ...UIGraphicFragment\n    }\n    text\n    size\n    theme\n  }\n\n  ","\n"]);return yn=function(){return e},e}function Sn(){var e=re(["\n  fragment EGDSBadgeFragment on EGDSBadge {\n    ...EGDSStandardBadgeFragment\n    ...EGDSLoyaltyBadgeFragment\n    ...EGDSProgramBadgeFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return Sn=function(){return e},e}function _n(){var e=re(["\n  fragment TripsInternalImageSlimCardFragment on TripsImageSlimCard {\n    primary\n    secondaries\n    badgeList {\n      ...EGDSBadgeFragment\n    }\n    thumbnail {\n      aspectRatio\n      description\n      url\n    }\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    accessibility {\n      hint\n      label\n    }\n  }\n\n  ","\n  ","\n"]);return _n=function(){return e},e}function hn(){var e=re(["\n  fragment TripsInternalSlimCardFragment on TripsSlimCard {\n    graphic {\n      ...EGDSIconFragment\n      ...EGDSMarkFragment\n      ...EGDSIllustrationFragment\n    }\n    primary\n    secondaries\n    impressionTracking {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    accessibility {\n      label\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"]);return hn=function(){return e},e}function bn(){var e=re(["\n  fragment TripsIconFragment on TripsIcon {\n    label\n    icon {\n      id\n      description\n      title\n      theme\n    }\n    action {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n      ...TripsInternalLinkActionFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return bn=function(){return e},e}function An(){var e=re(["\n  fragment TripsImageSlimCardFragment on TripsImageSlimCard {\n    ...TripsInternalImageSlimCardFragment\n    primaryAction {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n      ...TripsInternalLinkActionFragment\n    }\n    secondaryAction {\n      ...TripsSaveItemToTripActionFragment\n      ...TripsUnsaveItemFromTripActionFragment\n      ...TripsInternalLinkActionFragment\n    }\n    cardIcon {\n      ...TripsIconFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return An=function(){return e},e}function Cn(){var e=re(["\n  fragment TripsItemRecallCardFragment on TripsItemRecallCard {\n    primary\n    secondaries\n    image {\n      description\n      url\n    }\n  }\n"]);return Cn=function(){return e},e}function Fn(){var e=re(["\n  fragment TripsSlimCardFragment on TripsSlimCard {\n    ...TripsInternalSlimCardFragment\n    action {\n      ...TripsNavigateToViewActionFragment\n    }\n  }\n\n  ","\n  ","\n"]);return Fn=function(){return e},e}function Dn(){var e=re(["\n  fragment EGDSMaxLengthInputValidationFragment on EGDSMaxLengthInputValidation {\n    __typename\n    errorMessage\n    maxLength\n  }\n"]);return Dn=function(){return e},e}function Nn(){var e=re(["\n  fragment EGDSMinLengthInputValidationFragment on EGDSMinLengthInputValidation {\n    __typename\n    errorMessage\n    minLength\n  }\n"]);return Nn=function(){return e},e}function kn(){var e=re(["\n  fragment EGDSRegexInputValidationFragment on EGDSRegexInputValidation {\n    __typename\n    errorMessage\n    pattern\n  }\n"]);return kn=function(){return e},e}function wn(){var e=re(["\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return wn=function(){return e},e}function Rn(){var e=re(["\n  fragment EGDSTravelersInputValidationFragment on EGDSTravelersInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return Rn=function(){return e},e}function On(){var e=re(["\n  fragment MultiEmailValidationFragment on MultiEmailValidation {\n    __typename\n    errorMessage\n  }\n"]);return On=function(){return e},e}function Pn(){var e=re(["\n  fragment SingleEmailValidationFragment on SingleEmailValidation {\n    __typename\n    errorMessage\n  }\n"]);return Pn=function(){return e},e}function Mn(){var e=re(["\n  fragment DurationSpanInputValidationFragment on DurationSpanInputValidation {\n    __typename\n    errorMessage\n  }\n"]);return Mn=function(){return e},e}function Ln(){var e=re(["\n  fragment TripsValidatedInputFragment on TripsValidatedInput {\n    egdsElementId\n    instructions\n    label\n    placeholder\n    required\n    value\n    inputType\n    leftIcon {\n      leftIconId: id\n      title\n      description\n    }\n    rightIcon {\n      rightIconId: id\n      title\n      description\n    }\n    validations {\n      ...EGDSInputValidationFragment\n    }\n  }\n\n  fragment EGDSInputValidationFragment on EGDSInputValidation {\n    ...EGDSMaxLengthInputValidationFragment\n    ...EGDSMinLengthInputValidationFragment\n    ...EGDSRegexInputValidationFragment\n    ...EGDSRequiredInputValidationFragment\n    ...EGDSTravelersInputValidationFragment\n    ...MultiEmailValidationFragment\n    ...SingleEmailValidationFragment\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ln=function(){return e},e}function Vn(){var e=re(["\n  fragment TripsFormContainerFragment on TripsFormContainer {\n    elements {\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsValidatedInputFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return Vn=function(){return e},e}function xn(){var e=re(["\n  fragment TripsInternalSectionContainerFragment on TripsSectionContainer {\n    __typename\n    heading\n    subheadings\n    tripsListSubTexts: subTexts\n    theme\n    impressionAnalytics {\n      ...ClientSideImpressionAnalyticsFragment\n    }\n    layout\n  }\n\n  ","\n"]);return xn=function(){return e},e}function Bn(){var e=re(["\n  fragment TripsSectionContainerFragment on TripsSectionContainer {\n    ...TripsInternalSectionContainerFragment\n    elements {\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsTertiaryButtonFragment\n      ...TripsImageSlimCardFragment\n      ...TripsSlimCardFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Bn=function(){return e},e}function Gn(){var e=re(["\n  fragment ToolbarFragment on TripsToolbar {\n    actions {\n      primary {\n        accessibility {\n          label\n        }\n        action {\n          analytics {\n            linkName\n            referrerId\n          }\n        }\n      }\n      secondaries {\n        ...TripsTertiaryButtonFragment\n      }\n    }\n  }\n\n  ","\n"]);return Gn=function(){return e},e}function Jn(){var e=re(["\n  fragment TripsComposableDrawerFragment on TripsComposableDrawer {\n    ...TripsInternalComposableDrawerFragment\n    tripsViewHeader {\n      toolbar {\n        ...ToolbarFragment\n      }\n    }\n    elements {\n      ...TripsSectionContainerFragment\n      ...TripsFormContainerFragment\n      ...TripsPrimaryButtonFragment\n      ...TripsSecondaryButtonFragment\n      ...TripsTertiaryButtonFragment\n      ...TripsImageSlimCardFragment\n      ...TripsSlimCardFragment\n      ...TripsIllustrationCardFragment\n      ...TripsItemRecallCardFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Jn=function(){return e},e}function Un(){var e=re(["\n  query TripCreationQuery($metadata: TripCreationMetadataInput, $context: ContextInput!) {\n    trip(context: $context) {\n      creation(metadata: $metadata) {\n        ...TripsComposableDrawerFragment\n      }\n    }\n  }\n\n  ","\n"]);return Un=function(){return e},e}function zn(){var e=re(["\n  query TripsPlanQuery($item: TripsPlanInput!, $context: ContextInput!) {\n    trips(context: $context) {\n      plan(input: $item) {\n        ...TripsComposableDrawerFragment\n      }\n    }\n  }\n\n  ","\n"]);return zn=function(){return e},e}function jn(){var e=re(["\n  fragment TripsSaveItemFragment on TripsSaveItem {\n    initialChecked\n    itemId\n    source\n    viewType {\n      ...TripSaveItemViewTypeFragment\n    }\n    attributes {\n      ...TripsSaveItemAttributesFragment\n    }\n    save {\n      ...TripsSaveItemPropertiesFragment\n    }\n    remove {\n      ...TripsSaveItemPropertiesFragment\n    }\n    coachmark {\n      ...TripsCoachmarkFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return jn=function(){return e},e}function Hn(){var e=re(["\n  fragment TripsSaveItemButtonFragment on TripsSecondaryButton {\n    primary\n    icon {\n      theme\n    }\n    action {\n      ...TripsOpenDialogActionFragment\n      ...TripsOpenSaveToTripDrawerActionFragment\n    }\n  }\n  ","\n  ","\n"]);return Hn=function(){return e},e}function qn(){var e=re(["\n  fragment TripsViewContentItemFragment on TripsViewContentItem {\n    primary\n    action {\n      ...TripsNavigateToViewActionFragment\n    }\n  }\n\n  ","\n"]);return qn=function(){return e},e}function $n(){var e=re(["\n  fragment TripsInlineContentFragment on TripsInlineContent {\n    items {\n      ...TripsViewContentItemFragment\n    }\n  }\n\n  ","\n"]);return $n=function(){return e},e}function Wn(){var e=re(["\n  fragment TripsSaveItemDetailsFragment on TripsSaveItemDetails {\n    heading\n    primary {\n      ...TripsInlineContentFragment\n    }\n    saveItemButton {\n      ...TripsSaveItemButtonFragment\n    }\n    graphicText {\n      text\n      graphic {\n        ... on Illustration {\n          description\n          url\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Wn=function(){return e},e}function Kn(){var e=re(["\n  query TripSaveEntityQuery($context: ContextInput!, $saveItemInput: TripsSaveItemInput!) {\n    trips(context: $context) {\n      saveItem(input: $saveItemInput) {\n        subscriptionAttributes {\n          anchorPrice\n        }\n        saveItemDetails {\n          ...TripsSaveItemDetailsFragment\n        }\n        saveItemButton {\n          ...TripsSaveItemButtonFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Kn=function(){return e},e}var Yn=Object.defineProperty,Qn=function(e,n,t){return function(e,n,t){n in e?Yn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==(void 0===n?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(n))?n+"":n,t),t},Xn=function(e,n){return n?b.createPortal(e,n):e},Zn=(0,A.UT)(void 0),et=r.createContext(Zn);function nt(){return r.useContext(et)}var tt={onDismiss:function(e){e(void 0)}},rt=r.createContext(tt),at=function(e){var n=e.handler,t=e.children,a=r.useMemo((function(){return{onDismiss:n.onDismiss}}),[n]);return r.createElement(rt.Provider,{value:a},t)};function it(){var e=r.useContext(rt),n=nt();return{onDismiss:function(t){tt.onDismiss(n,t),tt!==e&&e.onDismiss(n,t)}}}var ot=function(e){var n=e.ignoreCompleteStatus,t=e.refetch,a=it().onDismiss,o=(0,_.useLocalization)().formatText,s=(0,h.p)().htmlElement,l=nt(),c=(0,i.q)(l);if((0,r.useEffect)((function(){(null==c?void 0:c.refetch)&&t&&(c.queryVariables?t(c.queryVariables):t())}),[c,t]),!c)return null;switch(c.status){case"reset":default:return l(void 0),null;case"loading":return Xn(r.createElement(y.a,{visible:!0}),s);case"error":return r.createElement(S.E,{onDismiss:a,show:!0},o("trip.error.cancel.message"));case"complete":return c.toastElement&&!n?c.toastElement:(l(void 0),null)}},st=r.createContext({dialogName:"trips-dialog",drawerName:"trips-drawer"});function lt(){return r.useContext(st).dialogName}function ct(){return r.useContext(st).drawerName}var ut=r.createContext({onEditCTAInToastClick:function(){}}),mt=function(e){var n=e.children,t=e.onEditCTAInToastClick,a=r.useMemo((function(){return{onEditCTAInToastClick:t}}),[t]);return r.createElement(ut.Provider,{value:a},n)},dt=function(e){return e.ACTIVITY_DETAILS="ACTIVITY_DETAILS",e.ACTIVITY_SEARCH="ACTIVITY_SEARCH",e.CAR_INFOSITE="CAR_INFOSITE",e.CAR_INFOSITE_V2="CAR_INFOSITE_V2",e.CAR_SEARCH="CAR_SEARCH",e.CAR_SEARCH_V2="CAR_SEARCH_V2",e.HOTEL_SEARCH="HOTEL_SEARCH",e.LODGING_DETAILS="LODGING_DETAILS",e.LODGING_SEARCH="LODGING_SEARCH",e.PACKAGE_DETAILS="PACKAGE_DETAILS",e.TRIP_OVERVIEW="TRIP_OVERVIEW",e}(dt||{}),pt=function(e){return["CAR_SEARCH_V2","CAR_INFOSITE_V2"].includes(e)},gt=function(e){return["LODGING_DETAILS","LODGING_SEARCH"].includes(e)},ft=function(e){return["ACTIVITY_DETAILS","ACTIVITY_SEARCH"].includes(e)},vt=function(e){return"PACKAGE_DETAILS"===e},Tt=function(e){return gt(e)||ft(e)},It={MAP_SAVE_ITEM_ATTRIBUTES_MISSING:new D.SystemEvent(D.SystemEventLevel.INFO,"MAP_SAVE_ITEM_ATTRIBUTES_MISSING"),MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME:new D.SystemEvent(D.SystemEventLevel.INFO,"MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME")};function Et(){var e=(0,D.useLoggerEvents)(It);return function(n){if(!n)return e.MAP_SAVE_ITEM_ATTRIBUTES_MISSING.log({}),null;switch(n.__typename){case"TripsSaveStayAttributes":var t,r;return{stayAttributes:{checkInDate:n.checkInDate?{day:n.checkInDate.day,month:n.checkInDate.month,year:n.checkInDate.year}:null,checkoutDate:n.checkoutDate?{day:n.checkoutDate.day,month:n.checkoutDate.month,year:n.checkoutDate.year}:null,regionId:n.regionId,roomConfiguration:null!==(r=null===(t=n.roomConfiguration)||void 0===t?void 0:t.map((function(e){return{numberOfAdults:e.numberOfAdults,childAges:e.childAges}})))&&void 0!==r?r:null}};case"TripsSaveActivityAttributes":return{activityAttributes:{dateRange:n.dateRange?{start:{day:n.dateRange.start.day,month:n.dateRange.start.month,year:n.dateRange.start.year},end:{day:n.dateRange.end.day,month:n.dateRange.end.month,year:n.dateRange.end.year}}:null,regionId:n.regionId}};case"TripsSaveFlightSearchAttributes":var a,i,o,s,l,c,u,m,d,p;return{flightAttributes:{primary:{journeyCriterias:null===(a=n.searchCriteria)||void 0===a?void 0:a.primary.journeyCriterias.map((function(e){return{departureDate:{day:e.departureDate.day,month:e.departureDate.month,year:e.departureDate.year},destination:e.destination,origin:e.origin,destinationAirportLocationType:e.destinationAirportLocationType,originAirportLocationType:e.destinationAirportLocationType,arrivalDate:e.arrivalDate?{day:e.arrivalDate.day,month:e.arrivalDate.month,year:e.arrivalDate.year}:null}})),travelers:null===(i=n.searchCriteria)||void 0===i?void 0:i.primary.travelers.map((function(e){return{type:e.type,age:e.age}})),tripType:null===(o=n.searchCriteria)||void 0===o?void 0:o.primary.tripType,searchPreferences:(null===(s=n.searchCriteria)||void 0===s?void 0:s.primary.searchPreferences)?{cabinClass:n.searchCriteria.primary.searchPreferences.cabinClass,airline:n.searchCriteria.primary.searchPreferences.airline,advancedFilters:n.searchCriteria.primary.searchPreferences.advancedFilters}:null},secondary:(null===(l=n.searchCriteria)||void 0===l?void 0:l.secondary)?{booleans:null===(c=n.searchCriteria.secondary.booleans)||void 0===c?void 0:c.map((function(e){return{id:e.id,value:e.value}})),counts:null===(u=n.searchCriteria.secondary.counts)||void 0===u?void 0:u.map((function(e){return{id:e.id,value:e.value}})),dates:null===(m=n.searchCriteria.secondary.dates)||void 0===m?void 0:m.map((function(e){return{id:e.id,value:{month:e.value.month,day:e.value.day,year:e.value.year}}})),ranges:null===(d=n.searchCriteria.secondary.ranges)||void 0===d?void 0:d.map((function(e){return{id:e.id,min:e.min,max:e.max}})),selections:null===(p=n.searchCriteria.secondary.selections)||void 0===p?void 0:p.map((function(e){return{id:e.id,value:e.value}}))}:null}};case"TripsSaveCarOfferAttributes":return function(e){var n,t,r,a,i,o,s=e.categoryCode,l=e.fuelAcCode,c=e.offerToken,u=e.searchCriteria,m=e.transmissionDriveCode,d=e.typeCode,p=e.vendorCode,g=u||{},f=g.dropOffDateTime,v=g.dropOffLocation,T=g.pickUpDateTime,I=g.pickUpLocation,E=function(e){return{day:e.day,hour:e.hour,month:e.month,minute:e.minute,second:e.second,year:e.year}};return{carAttributes:{categoryCode:s,fuelAcCode:l,offerToken:c,searchCriteria:{dropOffDateTime:E(f),dropOffLocation:function(){if(v){var e=v.airportCode,n=v.coordinates,t=v.isExactLocationSearch,r=v.regionId,a=v.searchTerm;return{airportCode:e,coordinates:function(e){return e?{latitude:e.latitude,longitude:e.longitude}:null}(n),isExactLocationSearch:t,regionId:r,searchTerm:a}}return null}(),pickUpDateTime:E(T),pickUpLocation:(t=I.airportCode,r=I.coordinates,a=I.isExactLocationSearch,i=I.regionId,o=I.searchTerm,{airportCode:t,coordinates:(n=r,n?{latitude:n.latitude,longitude:n.longitude}:null),isExactLocationSearch:a,regionId:i,searchTerm:o})},transmissionDriveCode:m,typeCode:d,vendorCode:p}}}(n);case"TripsSavePackageAttributes":return{packageAttributes:{packageOfferId:n.packageOfferId,sessionId:n.sessionId}};default:return e.MAP_SAVE_ITEM_ATTRIBUTES_UNSUPPORTED_TYPENAME.log({}),null}}}function yt(e){return null!=e}var St=function(e,n){return(null==e?void 0:e.length)?e.map((function(e,t){var a,i,o=e.__typename,s=n.find((function(e){return e.fragment.__typename===o}));if(!s)return null;var l=null!==(i=null===(a=s.getKey)||void 0===a?void 0:a.call(s,e))&&void 0!==i?i:"trips-composable-element";return r.createElement(s,{key:"".concat(o,"-").concat(l.toLowerCase(),"-").concat(t),data:e})})).filter(yt):null},_t=function(e){var n=e.event,t=n.clickstreamTraceId,r=n.eventName,a=n.eventType,i={clickstream_trace_id:t,event_name:r,event_version:n.eventVersion,event_type:a,event_category:n.eventCategory,action_location:n.actionLocation};switch(e.payload.__typename){case"TripRecommendationModule":var o=e.payload;return{event:i,recommendation_module:{recommendation_title:o.title,eg_recommendation_response_id:o.responseId,recommendations:o.recommendations.map((function(e){return function(e){return{recommendation_id:e.id,recommendation_position:e.position,presentation_details_price_displayed:e.priceDisplayed,presentation_details_currency_code:e.currencyCode,presentation_details_recommendation_name:e.name}}(e)}))}};case"TripBookingModule":var s=e.payload,l=s.orderId;return{event:i,booking:{transaction_status:s.transactionStatus,order_id:l}};default:return{event:i}}},ht=(0,a.J1)(se()),bt=(0,a.J1)(le()),At=(0,a.J1)(ce(),bt,ht),Ct=function(e){var n=e.data,t=e.children,a=(0,g.iQ)();return r.useEffect((function(){n.clickstreamAnalytics&&a(_t(n.clickstreamAnalytics))}),[n.clickstreamAnalytics,a]),n.uisPrimeAnalytics?r.createElement(g.ee,{referrerId:n.uisPrimeAnalytics.referrerId,linkName:n.uisPrimeAnalytics.linkName,intersectionOptions:{threshold:.5}},t):r.createElement(r.Fragment,null,t)};Ct.displayName="ClientSideImpressionAnalyticsIntersectionTracker",Ct.fragment=At;var Ft=function(e){var n,t,a=e.data,i=e.children,o=(0,g._q)().track,s=(0,g.iQ)(),l=null==a||null===(t=a.uisPrimeAnalytics)||void 0===t||null===(n=t.uisPrimeMessages)||void 0===n?void 0:n.map((function(e){var n,t=e.schemaName,r=e.messageContent;try{n=JSON.parse(r)}catch(a){n=null}return{schemaName:t,messageContent:n}}));return r.useEffect((function(){if(a.uisPrimeAnalytics){var e={data:[{schemaName:"referrer",messageContent:{referrerId:a.uisPrimeAnalytics.referrerId,linkName:a.uisPrimeAnalytics.linkName,eventType:"impression"}}].concat(ae(l||[]))};o(g.p3.EVENT,e)}}),[a.uisPrimeAnalytics,o]),r.useEffect((function(){a.clickstreamAnalytics&&s(_t(a.clickstreamAnalytics))}),[a.clickstreamAnalytics,s]),r.createElement(r.Fragment,null,i)};Ft.displayName="ClientSideImpressionAnalyticsTracker",Ft.fragment=At;var Dt=(0,a.J1)(ue(),Ft.fragment),Nt=function(e){var n,t=e.data,a=it().onDismiss,i=te((0,I.A9)(),1)[0];if(!t.primary)return null;var o=r.createElement(S.E,{show:!0,onDismiss:a,verticalOffset:null===(n=i.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ft,{data:t.impressionTracking},o):o};Nt.displayName="TripsInfoToast",Nt.fragment=ee(Z({},Dt),{__typename:"TripsInfoToast"});var kt,wt=(0,a.J1)(me()),Rt=(0,a.J1)(de()),Ot=(X(kt={},"INFO","info"),X(kt,"POSITIVE","positive"),X(kt,"STANDARD","standard"),X(kt,"WARNING","warning"),kt),Pt=(0,a.J1)(pe()),Mt=function(e){var n,t,a,i=e.data,o=e.defaultIconSize,s=e.className,l=e.accessibility;return r.createElement(w.a,{className:s,description:i.description,id:i.id,name:i.id,size:i.size?w.E[i.size]:o,title:null!==(n=i.title)&&void 0!==n?n:void 0,theme:null!==(t=i.theme)&&void 0!==t?t:void 0,shadow:null!==(a=i.withBackground)&&void 0!==a?a:void 0,spotlight:i.spotLight?Ot[i.spotLight]:void 0,"aria-hidden":null!==l})};Mt.displayName="Icon",Mt.fragment=ee(Z({},Pt),{__typename:"Icon"});var Lt=(0,a.J1)(ge()),Vt=function(e){var n=e.data;return r.createElement(R.E,{alt:n.description,url:n.link})};Vt.displayName="Illustration",Vt.fragment=ee(Z({},Lt),{__typename:"Illustration"});var xt=(0,a.J1)(fe()),Bt=function(e){var n,t,a=e.data,i=e.defaultMarkSize,o=e.className;return(null===(n=a.url)||void 0===n?void 0:n.value)?r.createElement(O.E,{className:o,description:a.description,id:a.id,name:a.id,size:a.markSize?O.c[a.markSize]:i,url:null===(t=a.url)||void 0===t?void 0:t.value}):null};Bt.displayName="Mark",Bt.fragment=ee(Z({},xt),{__typename:"Mark"});var Gt=(0,a.J1)(ve(),Mt.fragment,Bt.fragment,Vt.fragment),Jt=function(e){var n=e.data,t=e.defaultIconSize,a=e.defaultMarkSize,i=e.className,o=e.accessibility;switch(null==n?void 0:n.__typename){case"Icon":return r.createElement(Mt,{className:i,data:n,defaultIconSize:t,accessibility:o});case"Mark":return r.createElement(Bt,{className:i,data:n,defaultMarkSize:a});case"Illustration":return r.createElement(Vt,{data:n});default:return null}};Jt.displayName="UIGraphic",Jt.fragment=Gt;var Ut=(0,a.J1)(Te(),Jt.fragment),zt=function(e){var n=e.className,t=e.textSize,a=e.accessibility,i=e.data;return r.createElement(s.i,{className:n,space:"one",alignItems:"center"},r.createElement(s.j,null,r.createElement(Jt,{data:i.graphic,accessibility:a})),r.createElement(s.j,null,r.createElement(m.c,{size:t,"aria-hidden":null!==a},i.text)))};zt.fragment=Ut,zt.displayName="EGDSGraphicText";var jt=(0,a.J1)(Ie()),Ht=function(e){var n=e.className,t=e.align,a=e.size,i=e.accessibility,o=e.data.text;return r.createElement(m.c,{className:n,align:t,size:a,"aria-hidden":null!==i},o)};Ht.fragment=jt,Ht.displayName="EGDSPlainText";var qt=(0,a.J1)(Ee(),Ht.fragment,zt.fragment),$t=function(e){var n=e.className,t=e.textAlign,a=e.textSize,i=e.data;switch(null==i?void 0:i.__typename){case"EGDSPlainText":return r.createElement(Ht,{className:n,align:t,size:a,data:i});case"EGDSGraphicText":return r.createElement(zt,{className:n,textSize:a,data:i});default:return null}};$t.fragment=qt,$t.displayName="TripsLegacyEGDSText";var Wt=(0,a.J1)(ye(),Ht.fragment),Kt=(0,a.J1)(Se(),Wt),Yt=(0,a.J1)(_e(),Kt),Qt=(0,a.J1)(he(),Rt,wt,Yt);function Xt(e){return e.map((function(e){var n,t=e.schemaName,r=e.messageContent;try{n=JSON.parse(r)}catch(a){n=null}return{schemaName:t,messageContent:n}}))}function Zt(e){var n=nt(),t=(0,g.KY)(),a=r.useContext(ut).onEditCTAInToastClick;return r.useCallback((function(){if(e.button.action)switch(e.button.action.__typename){case"TripsNavigateToViewAction":var r=Xt(e.button.action.analytics.uisPrimeMessages);t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName,void 0,r);var i=e.button.action,o=i.viewUrl,s=i.displayMode;if(!o)return;n({status:"reset"}),"NEW_TAB"===s?window.open(o,"_blank"):window.location.href=o;break;case"TripsDismissAction":t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName),n({status:"reset"});break;case"TripsOpenDrawerAction":var l=Xt(e.button.action.analytics.uisPrimeMessages);t(e.button.action.analytics.referrerId,e.button.action.analytics.linkName,void 0,l),a(),n({status:"reset"})}}),[e,t,n,a])}var er=(0,a.J1)(be(),Qt,Ft.fragment),nr=function(e){var n,t=e.data,a=it().onDismiss,i=te((0,I.A9)(),1)[0],o=Zt(t),s=r.createElement(S.E,{onDismiss:a,actionCallback:o,actionText:t.button.primary||void 0,show:!0,autoHide:!0,verticalOffset:null===(n=i.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ft,{data:t.impressionTracking},s):s};nr.displayName="TripsInlineActionToast",nr.fragment=ee(Z({},er),{__typename:"TripsInlineActionToast"});var tr=(0,a.J1)(Ae(),Qt,Ft.fragment),rr=function(e){var n,t=e.data,a=it().onDismiss,i=Zt(t),o=te((0,I.A9)(),1)[0],s=r.createElement(S.E,{onDismiss:a,actionCallback:i,actionText:t.button.primary||void 0,show:!0,stacked:!0,autoHide:!0,verticalOffset:null===(n=o.toastState)||void 0===n?void 0:n.offset},t.primary);return t.impressionTracking?r.createElement(Ft,{data:t.impressionTracking},s):s};rr.displayName="TripsStackedActionToast",rr.fragment=ee(Z({},tr),{__typename:"TripsStackedActionToast"});var ar=(0,a.J1)(Ce(),Nt.fragment,nr.fragment,rr.fragment),ir=function(e){var n,t,a=e.data;return n=a,(t=[Nt,nr,rr].find((function(e){return e.fragment.__typename===n.__typename})))?r.createElement(t,{data:n}):null};ir.fragment=ar,ir.displayName="TripsToast";var or=(0,a.J1)(Fe()),sr=(0,a.J1)(De(),or);function lr(){var e=(0,P.m)().cache;return r.useCallback((function(n,t){var r,a={__typename:"TripsLocalSavedItem",id:n,checked:t},i=e.readQuery({query:sr}),o=null!==(r=null==i?void 0:i.localSavedItems.filter((function(e){return e.id!==n})))&&void 0!==r?r:[];e.writeQuery({query:sr,data:{localSavedItems:ae(o).concat([a])}})}),[e])}var cr=(0,a.J1)(Ne()),ur=(0,a.J1)(ke(),cr),mr=(0,a.J1)(we()),dr=(0,a.J1)(Re()),pr=(0,a.J1)(Oe(),mr,dr),gr=(0,a.J1)(Pe(),cr),fr=(0,a.J1)(Me()),vr=(0,a.J1)(Le(),cr),Tr=(0,a.J1)(Ve(),ur,vr,gr,pr,fr),Ir=(0,a.J1)(xe()),Er=(0,a.J1)(Be(),ir.fragment,Ir),yr=(0,a.J1)(Ge(),Tr),Sr={SAVE_ITEM_TO_TRIP_ACTION_ERROR:new D.SystemEvent(D.SystemEventLevel.ERROR,"SAVE_ITEM_TO_TRIP_ACTION_ERROR"),SAVE_ITEM_TO_TRIP_ACTION_SUCCESS:new D.SystemEvent(D.SystemEventLevel.INFO,"SAVE_ITEM_TO_TRIP_ACTION_SUCCESS")},_r=function(e,n){if("TripsView"===e.trip.saveItemToTrip.__typename&&e.trip.saveItemToTrip.toast)return Xn(r.createElement(ir,{data:e.trip.saveItemToTrip.toast}),n)},hr=function(e){var n=(0,p.R)().context,t=(0,D.useLoggerEvents)(Sr),a=(0,h.p)().htmlElement,i=ct(),o=te((0,v.useDialog)(i),2),s=o[0],l=o[1],c=te((0,v.useDialog)("trips-dialog"),2),u=c[0],m=c[1],d=lr(),g=Et(),T=(0,f.Yj)().publish,I=nt(),y=te((0,N.n)(Er),1)[0];if("TripsSaveItemToTripAction"===e.__typename){var S=e.tripId,_=e.saveItemInput;return{onClick:function(){if(_){s&&l.closeDialog(),u&&m.closeDialog();var e=_.itemId,i=_.pageLocation,o=_.source,c=_.subscriptionAttributes,p=_.tripItem;I({status:"loading"}),y({variables:{itemInput:{itemId:e,pageLocation:i,source:o,attributes:g(_.attributes),subscriptionAttributes:c?{anchorPrice:c.anchorPrice}:void 0,tripItem:p?{tripItemId:p.tripItemId,tripViewId:p.tripViewId}:void 0},tripId:S,context:n}}).then((function(n){if(n.data){var i,o=r.createElement(at,{handler:{onDismiss:function(e,n){return function(e){T(new E.z3("TRIP_TOAST",{state:"DISMISS",usage:"TRIP_ITEM_SAVED",dismissedByAction:e}))}(n)}}},_r(n.data,a||document.body));I({status:o?"complete":"reset",toastElement:o,refetch:!0});var s=n.data.trip.saveItemToTrip;return"TripsView"===s.__typename&&(null===(i=s.tripsSideEffects)||void 0===i?void 0:i.length)&&s.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(d(e.tripItemId,e.toggleState),T(new E.ch("TRIP_ITEM_SAVED",{tripItemId:e.tripItemId,toggleState:e.toggleState})))})),t.SAVE_ITEM_TO_TRIP_ACTION_SUCCESS.log({message:"Save item to trip succeeded.",variables:{tripItemId:e,tripViewId:S}}),Promise.resolve()}return Promise.reject(new Error("response.data is null"))})).catch((function(n){I({status:"error"}),t.SAVE_ITEM_TO_TRIP_ACTION_ERROR.log({message:"Save item to trip failed.",variables:{tripItemId:e,tripViewId:S},error:n})}))}}}}},br=(0,a.J1)(Je()),Ar=function(e){var n,t=e.className,a=e.cloneElement,i=e.data,o=e.children;return r.createElement(g.ee,{className:t,cloneElement:a,referrerId:i.referrerId,linkName:null!==(n=i.linkName)&&void 0!==n?n:i.referrerId,intersectionOptions:{threshold:.5}},o)};Ar.displayName="ClientSideImpressionEventAnalytics",Ar.fragment=br;var Cr=(0,a.J1)(Ue(),Ar.fragment),Fr=(0,a.J1)(ze()),Dr={ERROR_MARK_TRIPS_COACHMARK_AS_SEEN:new D.SystemEvent(D.SystemEventLevel.ERROR,"ERROR_MARK_TRIPS_COACHMARK_AS_SEEN")},Nr=function(e){var n=e.data,t=e.triggerRef,a=e.pageName,i=te((0,r.useState)(!0),2),o=i[0],l=i[1],u=te((0,r.useState)(!1),2),f=u[0],v=u[1],T=n.body,I=n.title,E=n.button,y=n.impressionAnalytics,S=n.dismissEventAnalytics,_=E||{},h=_.primary,b=_.analytics,A=(0,g.KY)(),C=te((0,N.n)(Fr),1)[0],F=(0,D.useLoggerEvents)(Dr),k=(0,p.R)().context,w=(0,r.useCallback)((function(e,n){var t;(null===(t=e[0])||void 0===t?void 0:t.isIntersecting)&&v(!0),n.disconnect()}),[t]),R=te((0,g.BL)(w,{threshold:1}),1)[0],O=(0,r.useCallback)((function(e){l(!1),e&&A(e.referrerId,e.linkName)}),[A]),P=(0,r.useCallback)(function(){var e,n=(e=function(e){var n,t,r,i;return oe(this,(function(o){switch(o.label){case 0:O(e),n={pageName:a},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,C({variables:Z({context:k},n)})];case 2:return r=o.sent(),(null===(t=r.data)||void 0===t?void 0:t.markTripsCoachmarkAsSeen)||F.ERROR_MARK_TRIPS_COACHMARK_AS_SEEN.log({success:!1}),[3,4];case 3:return i=o.sent(),F.ERROR_MARK_TRIPS_COACHMARK_AS_SEEN.log({success:!1,error:i}),[3,4];case 4:return[2]}}))},function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){Q(i,r,a,o,s,"next",e)}function s(e){Q(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[]),L=(0,r.useCallback)((function(){P(S),window.removeEventListener("scroll",L),v(!1)}),[P]),V=(0,r.useCallback)((function(){return P(b)}),[]);(0,r.useEffect)((function(){if(f)return window.addEventListener("scroll",L),function(){window.removeEventListener("scroll",L)}}),[f]);var x=(0,r.useMemo)((function(){return r.createElement(c.b,{padding:"six"},r.createElement(s.i,{direction:"column"},r.createElement(s.j,null,r.createElement(m.c,{theme:"light",size:400,weight:"medium",align:"left"},I)),r.createElement(s.j,null,r.createElement(c.b,{padding:{blockstart:"one"}},r.createElement("div",null,r.createElement(m.c,{theme:"light",weight:"regular",align:"left"},T)))),r.createElement(s.j,null,r.createElement(c.b,{padding:{blockstart:"eight"}},r.createElement("div",null,r.createElement(s.i,{alignItems:"end",direction:"column"},r.createElement(s.j,null,r.createElement(M.E,{onClick:V,inverse:!0},h))))))))}),[I,T,h,V]);return n&&o?r.createElement("div",{ref:R},r.createElement(d.oC,{triggerRef:t},y?r.createElement(Ar,{data:y},x):x)):null};Nr.fragment=Cr,Nr.displayName="TripsCoachMark";var kr=(0,a.J1)(je()),wr=(0,a.J1)(He()),Rr=(0,a.J1)(qe()),Or=(0,a.J1)($e(),wr,Rr),Pr=function(e){var n=e.data,t=e.favouriteSwitchOnChange,a=n.button,i=function(e){var n=e.accessibility,r=e.disabled,a=e.primary;return{"arial-label":n||a,disabled:r,isFullWidth:!0,size:L.E.LARGE,onClick:t}};switch(null==a?void 0:a.__typename){case"UIPrimaryButton":return r.createElement(M.E,Z({},i(a)),a.primary);case"UISecondaryButton":return r.createElement(V.E,Z({},i(a)),a.primary)}return null};Pr.fragment=Or,Pr.displayName="TripSaveItemButtonView";var Mr=(0,a.J1)(We(),Pr.fragment),Lr=function(e){var n=e.favouriteSwitchOnChange,t=e.data;return"TripSaveItemButtonView"===t.__typename&&t.button?r.createElement(Pr,{data:t,favouriteSwitchOnChange:n}):null};Lr.fragment=Mr,Lr.displayName="TripSaveItemView";var Vr=(0,A.UT)(void 0),xr={BOTTOM:"bottom",CENTER:"centered",FULL:"full",SIDE:"side"},Br=(0,a.J1)(Ke(),Ct.fragment),Gr=function(e){var n=e.dialogName,t=e.data,a=e.children,i=e.toolBar,o=e.triggerRef,s=te((0,v.useDialog)(n),3),l=s[0],u=s[2],d=t.tripsViewHeader,p=t.type,g=null!=d?d:{},f=g.primary,T=g.secondaries,I=p?xr[p]:void 0,E=r.createElement("div",null,f&&r.createElement(c.b,{margin:T&&0!==T.length?{blockend:"three"}:{blockend:"six"}},r.createElement(m.E,{tag:"h1",size:4},f)),Array.isArray(T)&&T.map((function(e,n){return r.createElement(c.b,{key:"trip-subheading-".concat(n),padding:{blockend:"six"}},r.createElement("div",null,r.createElement(m.b,{tag:"p"},e)))})),a),y=r.createElement(r.Fragment,null,"bottom"===I?E:r.createElement(c.b,{margin:{small:"four",medium:"six"}},E)),S=r.createElement(x.h,{isVisible:l},r.createElement(u,null,r.createElement(F.LM,null,r.createElement(F.NP,null,r.createElement(x.e,{isVisible:!0,type:null!=I?I:"full",autoFocus:!0,returnFocusOnClose:!0,triggerRef:null!=o?o:null},i,r.createElement(x.f,{key:"".concat(n,"-composable-drawer-dialog-content")},y))),r.createElement(F.rw,null,r.createElement(x.e,{isVisible:!0,type:null!=I?I:"side",sideSheetLayout:{position:"trailing",columns:6},triggerRef:null!=o?o:null,centeredSheetSize:"small",autoFocus:!0,returnFocusOnClose:!0},i,r.createElement(x.f,{padded:!1},y))),r.createElement(F.zQ,null,r.createElement(x.e,{isVisible:!0,type:null!=I?I:"side",sideSheetLayout:{position:"trailing",columns:4},triggerRef:null!=o?o:null,centeredSheetSize:"small",autoFocus:!0,returnFocusOnClose:!0},i,r.createElement(x.f,{padded:!1},y))))));return t.impressionTracking?r.createElement(Ct,{data:t.impressionTracking},S):S};Gr.displayName="TripsComposableDrawer",Gr.fragment=Br;var Jr=(0,a.J1)(Ye()),Ur=function(e){var n=e.data,t=ne(e,["data"]);if(!n||!n.primary)return null;var a=n.primary,i=n.icon,o=n.width,s=n.accessibility,l="MATCH_PARENT_CONTAINER"===o;return r.createElement(M.E,Z({"aria-label":(null==s?void 0:s.label)?s.label:a,isFullWidth:l},t),i&&r.createElement(w.a,{name:i.id,size:w.E.MEDIUM}),a)};Ur.displayName="TripsPrimaryButton",Ur.fragment=ee(Z({},Jr),{__typename:"TripsPrimaryButton"});var zr=(0,a.J1)(Qe()),jr=function(e){var n=e.data,t=e.isFullWidth,a=void 0===t||t,i=e.actionProps;if(!n||!n.primary)return null;var o,s=n.primary,l=n.icon,u=n.disabled,m=n.accessibility;return r.createElement(c.b,{margin:{blockstart:"three"}},r.createElement("div",null,r.createElement(V.E,ee(Z({"aria-label":null!==(o=null==m?void 0:m.label)&&void 0!==o?o:s,disabled:u},i),{isFullWidth:a}),l&&r.createElement(w.a,{name:l.id,size:w.E.MEDIUM}),s)))};jr.displayName="TripsSecondaryButton",jr.fragment=ee(Z({},zr),{__typename:"TripsSecondaryButton"}),jr.getKey=function(e){return e.primary};var Hr=(0,a.J1)(Xe()),qr=function(e){var n=e.data,t=ne(e,["data"]);if(!n||!n.primary&&!n.icon)return null;var a=n.primary,i=n.icon,o=n.disabled,s=n.width,l=n.accessibility,c="MATCH_PARENT_CONTAINER"===s;return r.createElement(B.E,Z({size:a?L.E.MEDIUM:L.E.LARGE,"aria-label":(null==l?void 0:l.label)?l.label:null!=a?a:null==i?void 0:i.description,disabled:o,className:a?"":"uitk-button-only-icon",isFullWidth:c},t),i&&r.createElement(w.a,{name:i.id}),a)};qr.displayName="TripsTertiaryButton",qr.fragment=ee(Z({},Hr),{__typename:"TripsTertiaryButton"});var $r=(0,a.J1)(Ze()),Wr=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Qn(this,"data",{inputFields:[]}),Qn(this,"stateFieldName","validatedInputs"),Qn(this,"events",["addInputField","updateInputValue","updateInputErrorMessage","removeInputField"]),Qn(this,"update",(function(e,n,t){switch(e){case"addInputField":return ee(Z({},n),{inputFields:ae(n.inputFields).concat([{inputId:t.data.inputId,inputValue:t.data.inputValue,currentErrorMessage:void 0,validations:t.data.validations}])});case"updateInputValue":return ee(Z({},n),{inputFields:ae(n.inputFields.map((function(e){return e.inputId===t.data.inputId?ee(Z({},e),{inputValue:t.data.inputValue}):e})))});case"updateInputErrorMessage":return ee(Z({},n),{inputFields:ae(n.inputFields.map((function(e){return e.inputId===t.data.inputId?ee(Z({},e),{currentErrorMessage:t.data.currentErrorMessage}):e})))});case"removeInputField":return ee(Z({},n),{inputFields:ae(n.inputFields.filter((function(e){return t.data.inputId!==e.inputId})))});default:return Z({},n)}}))},Kr=/^[a-zA-Z0-9.!#$%&*+=?^_`{|}~-]+@[a-zA-Z0-9_-]+(\.\w{2,3})+$/,Yr=function(e,n){var t="";if(!(null==n?void 0:n.length))return t;var r=e.trim(),a=r.length;return n.every((function(e){switch(e.__typename){case"EGDSRequiredInputValidation":return!(r.length<1)||(t=e.errorMessage,!1);case"EGDSMaxLengthInputValidation":return!(a>e.maxLength)||(t=e.errorMessage,!1);case"EGDSMinLengthInputValidation":return!(a<e.minLength)||(t=e.errorMessage,!1);case"MultiEmailValidation":if(r.includes(",")){if(!r.split(",").map((function(e){return e.trim()})).every((function(e){return!!e.match(Kr)})))return t=e.errorMessage,!1}else if(!r.match(Kr))return t=e.errorMessage,!1;return!0;case"SingleEmailValidation":return!!r.match(Kr)||(t=e.errorMessage,!1);case"EGDSRegexInputValidation":return!!r.match(e.pattern)||(t=e.errorMessage,!1);default:return!0}})),t},Qr={TRIPS_MUTATION_SEND_INFO:new D.SystemEvent(D.SystemEventLevel.INFO,"TRIPS_MUTATION_SEND_INFO"),TRIPS_MUTATION_SEND_SUCCESS_INFO:new D.SystemEvent(D.SystemEventLevel.INFO,"TRIPS_MUTATION_SEND_SUCCESS_INFO"),TRIPS_MUTATION_SEND_ERROR:new D.SystemEvent(D.SystemEventLevel.ERROR,"TRIPS_MUTATION_SEND_ERROR"),TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO:new D.SystemEvent(D.SystemEventLevel.INFO,"TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO")},Xr=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"inputs",s=(0,p.R)().context,l=(0,D.useLoggerEvents)(Qr),c=te((0,I.A9)(),2),u=c[0],m=c[1],d=ct(),g=te((0,v.useDialog)(d),2)[1],f=(0,C.uU)(a).emit,T=(0,h.p)().htmlElement,E=nt(),y=(0,G.n4)(e),S=te((0,N.n)(e),1)[0];return{onClick:function(){E({status:"loading"}),l.TRIPS_MUTATION_SEND_INFO.log({message:"Sending ".concat(y),variables:n});var e=n.inputIds,a=ne(n,["inputIds"]),c=u.validatedInputs.inputFields.filter((function(n){return e.includes(n.inputId)}));if(function(e,n){return!!e.length&&e.every((function(e){var t=Yr(e.inputValue,e.validations);return n({type:"updateInputErrorMessage",payload:{inputId:e.inputId,currentErrorMessage:t}}),""===t||!e.validations}))}(c,m)){var d=c.map((function(e){return{key:e.inputId,value:e.inputValue}}));f();var p=Z(X({context:s},o,d),a);g.closeDialog(),e.forEach((function(e){m({type:"removeInputField",payload:{inputId:e}})})),S({variables:p}).then((function(e){l.TRIPS_MUTATION_SEND_SUCCESS_INFO.log({message:"".concat(y," mutation complete"),variables:n});var a=t(e.data,T);E({status:a?"complete":"reset",toastElement:a,refetch:r}),null==i||i(e.data)})).catch((function(e){E({status:"error"}),l.TRIPS_MUTATION_SEND_ERROR.log({message:"".concat(y," mutation failed on send"),variables:n,error:e})}))}else{E({status:"reset"}),l.TRIPS_MUTATION_SEND_INPUTS_NOT_VALIDATED_INFO.log({message:"".concat(y," mutation failed because some inputs validations failed"),variables:n,requiredVariables:c});var v=u.validatedInputs.inputFields.find((function(e){return""!==Yr(e.inputValue,e.validations)}));if(v){var I;null===(I=document.getElementById(v.inputId))||void 0===I||I.focus()}}}}},Zr=(0,a.J1)(en(),Tr),ea=(0,a.J1)(nn()),na=(0,a.J1)(tn(),Tr),ta=new D.SystemEvent(D.SystemEventLevel.INFO,"TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO"),ra=(0,a.J1)(rn(),Tr),aa=(0,a.J1)(an()),ia=(0,a.J1)(on(),Tr),oa=(0,a.J1)(sn(),ia),sa=(0,A.UT)(void 0),la=(0,a.J1)(ln(),ir.fragment,Ir),ca=(0,a.J1)(cn()),ua={UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR:new D.SystemEvent(D.SystemEventLevel.ERROR,"UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR"),UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS:new D.SystemEvent(D.SystemEventLevel.INFO,"UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS")},ma={TripsInvalidValidAction:function(){},TripsSaveItemToTripAction:hr,TripsUnsaveItemFromTripAction:function(e){var n=(0,p.R)().context,t=(0,D.useLoggerEvents)(ua),a=(0,h.p)().htmlElement,i=te((0,N.n)(la),1)[0],o=ct(),s=te((0,v.useDialog)(o),2)[1],l=lr(),c=(0,f.Yj)().publish,u=nt();if("TripsUnsaveItemFromTripAction"===e.__typename){var m=e.tripItem,d=e.tripEntity,g=m.tripItemId,T=m.tripViewId;return{onClick:function(){s.closeDialog(),u({status:"loading"}),i({variables:{tripItem:{tripItemId:g,tripViewId:T},tripEntity:d,context:n}}).then((function(e){if(e.data){var n,i=function(e,n){if("TripsView"===e.trip.unsaveItemFromTrip.__typename&&e.trip.unsaveItemFromTrip.toast)return Xn(r.createElement(ir,{data:e.trip.unsaveItemFromTrip.toast}),n)}(e.data,a);u({status:i?"complete":"reset",toastElement:i,refetch:!0});var o=e.data.trip.unsaveItemFromTrip;return"TripsView"===o.__typename&&(null===(n=o.tripsSideEffects)||void 0===n?void 0:n.length)&&o.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(l(e.tripItemId,e.toggleState),c(new E.nD("TRIP_ITEM_UNSAVED",{tripItemId:e.tripItemId,toggleState:e.toggleState})))})),t.UNSAVE_ITEM_FROM_TRIP_ACTION_SUCCESS.log({message:"Unsave item from trip success",variables:{tripItemId:g,tripViewId:T}}),Promise.resolve()}return Promise.reject(new Error("response.data is null"))})).catch((function(e){u({status:"error"}),t.UNSAVE_ITEM_FROM_TRIP_ACTION_ERROR.log({message:"Unsave item from trip failed",variables:{tripItemId:g,tripViewId:T},error:e})}))}}}},TripsDismissDrawerAction:function(){var e=ct(),n=te((0,v.useDialog)(e),2)[1];return{onClick:r.useCallback((function(){n.closeDialog()}),[n])}},TripsOpenCreateNewTripDrawerForItemAction:function(e){var n=Et();if("TripsOpenCreateNewTripDrawerForItemAction"===e.__typename){var t=e.createTripMetadata;if(t){var r=t.saveItemInput;if(r){var a=r.itemId,i=r.pageLocation,o=r.attributes,s=r.subscriptionAttributes,l={type:"TripCreationDrawerOptions",queryInputs:{item:{itemId:a,saveItemInput:{itemId:a,pageLocation:i,attributes:n(o),subscriptionAttributes:s?{anchorPrice:s.anchorPrice}:void 0}}}};return{onClick:function(){Vr(l)}}}}}},TripsCreateTripFromItemAction:function(e){var n=Et(),t=lr();if("TripsCreateTripFromItemAction"===e.__typename){var r=e.saveItemInput,a=e.inputIds;if(r){var i=r.itemId,o=r.pageLocation,s=r.attributes,l=r.subscriptionAttributes,c={inputIds:a,itemInput:{itemId:i,pageLocation:o,attributes:n(s),subscriptionAttributes:l?{anchorPrice:l.anchorPrice}:void 0}};return Xr(Er,c,_r,!0,[],(function(e){var n,r=null==e?void 0:e.trip.saveItemToTrip;"TripsView"===(null==r?void 0:r.__typename)&&(null===(n=r.tripsSideEffects)||void 0===n?void 0:n.length)&&r.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&t(e.tripItemId,e.toggleState)}))}),"newTripInputs")}}},TripsNavigateToViewAction:function(e){var n=(0,k.c)().navigate;if("TripsNavigateToViewAction"===e.__typename){var t=e.viewUrl,r=e.displayMode;return t?Z({href:t,target:"NEW_TAB"===r?"_blank":"_self"},n&&{onClick:function(e){return n({event:e,absoluteURL:t})}}):{}}},TripsDismissAction:function(e){var n=lt(),t=te((0,v.useDialog)(n),2)[1],r=nt();if("TripsDismissAction"===e.__typename)return{onClick:function(){r({status:"reset"}),t.closeDialog()}}},TripsLinkAction:function(e){var n;return(null==e||null===(n=e.resource)||void 0===n?void 0:n.value)?{href:e.resource.value,target:"EXTERNAL"===e.target?"_blank":"_self",rel:"EXTERNAL"===e.target?"noopener":""}:{}},TripsFormAction:function(e){var n=Et(),t=lr(),a=(0,g.KY)(),i=te((0,I.A9)(),1)[0],o=(0,f.Yj)().publish,s=r.useCallback((function(e){var n=i.validatedInputs.inputFields.find((function(n){return n.inputId===e}));return n?n.inputValue:void 0}),[i.validatedInputs.inputFields]),l=r.useRef(new Set);if(r.useEffect((function(){var n;"TripsFormAction"===e.__typename&&(null===(n=e.validatedInputAnalytics)||void 0===n||n.forEach((function(e){var n=e.egdsElementId,t=e.referenceValue,r=e.analytics;if(!l.current.has(n)){var i=s(n);void 0!==i&&i!==t&&(a(r.referrerId,r.linkName),l.current.add(n))}})))}),[e,s,a]),"TripsFormAction"===e.__typename){var c=e.validatedInputIds,u=e.formData,m=e.type;if("TripsCreateTripFromItem"===(null==u?void 0:u.__typename)){var d=u.input,p=d.itemId,v=d.source,T=d.pageLocation,y=d.attributes,S=d.subscriptionAttributes;if(!c.length)return{};if("CREATE_NEW_TRIP_FROM_ITEM"===m){var _={inputIds:c,itemInput:{itemId:p,pageLocation:T,source:v,attributes:n(y),subscriptionAttributes:S?{anchorPrice:S.anchorPrice}:void 0}};return Xr(Er,_,(function(e,n){var t,a;if("TripsView"===e.trip.saveItemToTrip.__typename)return null!==(a=(null===(t=e.trip.saveItemToTrip)||void 0===t?void 0:t.toast)&&Xn(r.createElement(ir,{data:e.trip.saveItemToTrip.toast}),n))&&void 0!==a?a:void 0}),!0,[],(function(e){var n,r=null==e?void 0:e.trip.saveItemToTrip;"TripsView"===(null==r?void 0:r.__typename)&&(null===(n=r.tripsSideEffects)||void 0===n?void 0:n.length)&&r.tripsSideEffects.forEach((function(e){"TripsChangeSaveItemState"===e.__typename&&(t(e.tripItemId,e.toggleState),o(new E.ch("TRIP_ITEM_SAVED",{tripItemId:e.tripItemId,toggleState:e.toggleState})))}))}),"newTripInputs")}return{}}}},TripsOpenSaveToTripDrawerAction:function(e){var n=(0,D.useLoggerEvents)({TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO:ta}),t=ct(),r=te((0,v.useDialog)(t),2)[1],a=Et();if("TripsOpenSaveToTripDrawerAction"===(null==e?void 0:e.__typename)){var i=e.input,o=i.itemId,s=i.pageLocation,l=i.attributes,c=i.subscriptionAttributes,u=i.tripItem,m={type:"TripSaveItemDrawerOptions",queryInputs:{item:{itemId:o,pageLocation:s,attributes:a(l),subscriptionAttributes:c?{anchorPrice:c.anchorPrice}:void 0,tripItem:u?{tripItemId:u.tripItemId,tripViewId:u.tripViewId}:void 0}}};return{onClick:function(){n.TRIPS_OPEN_SAVE_TO_TRIP_DRAWER_ACTION_INFO.log({message:"Save to trip button clicked",variables:{tripItemId:o}}),r.openDialog(),Vr(m)}}}},TripsOpenDialogAction:function(e){var n=lt(),t=te((0,v.useDialog)(n),2)[1];if("TripsOpenDialogAction"===e.__typename){var r=e.modalDialog;return r?{onClick:function(){sa(r),t.openDialog()}}:{}}}};var da=function(e){var n=(0,g.KY)(),t=function(e){return Boolean(e&&Object.keys(ma).find((function(n){return e.__typename===n})))}(e)?e:{__typename:"TripsInvalidValidAction"},r=ma[t.__typename](t);return"TripsInvalidValidAction"!==t.__typename&&r?Z({onClickCapture:function(){var e=t.analytics.uisPrimeMessages.map((function(e){return{messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName}}));n(t.analytics.referrerId,t.analytics.linkName,!1,e)}},r):{}},pa=(0,a.J1)(un(),Ur.fragment,$r,Rt,na,Zr,oa),ga=function(e){var n=e.data,t=nt(),a=(0,i.q)(t),o=da(n.action),s=ee(Z({},o),{disabled:n.disabled||o.disabled||"loading"===(null==a?void 0:a.status)});return r.createElement(Ur,Z({data:n},s))};ga.displayName="PrimaryButton",ga.fragment=ee(Z({},pa),{__typename:"TripsPrimaryButton"});var fa=(0,a.J1)(mn(),yr,aa),va=function(e){var n=e.data,t=nt(),a=(0,i.q)(t),o=da(null==n?void 0:n.action);if(!(null==n?void 0:n.primary))return null;var s=n.primary,l=n.icon,c=n.width,u=n.__typename,m=n.disabled,d="MATCH_PARENT_CONTAINER"===c,p=ee(Z({},o),{disabled:m||o.disabled||"loading"===(null==a?void 0:a.status)});switch(u){case"TripsPrimaryButton":return r.createElement(M.E,Z({isFullWidth:d},p),l&&r.createElement(w.a,{name:l.id,size:w.E.MEDIUM}),s);case"TripsSecondaryButton":return r.createElement(V.E,Z({isFullWidth:d},p),l&&r.createElement(w.a,{name:l.id,size:w.E.MEDIUM}),s);case"TripsTertiaryButton":return r.createElement(B.E,Z({isFullWidth:d},p),l&&r.createElement(w.a,{name:l.id,size:w.E.MEDIUM}),s);default:return null}};va.displayName="DialogActionElement",va.fragment=fa;var Ta=(0,a.J1)(dn()),Ia=function(e){var n,t=e.data;return r.createElement(r.Fragment,null,null===(n=t.secondaries)||void 0===n?void 0:n.map((function(e,n){return r.createElement(m.c,{key:"".concat(n)},e)})))};Ia.displayName="EmbeddedContentList",Ia.fragment=Ta;var Ea=function(e){var n=e.data,t=n.heading,a=n.buttons,i=n.content;return r.createElement(J.a,{dialogShow:!0,returnFocusOnClose:!0},r.createElement(J.b,{key:"trips-dialog-inline-content"},t&&r.createElement(m.E,{tag:"h1",size:5},t),null==i?void 0:i.map((function(e,n){return r.createElement(Ia,{data:e,key:n})})),r.createElement(c.b,{margin:{blockstart:"four"}},r.createElement(s.i,{space:"three"},null==a?void 0:a.map((function(e,n){return r.createElement(s.j,{grow:1,key:"trips-dialog-inline-action-element-".concat(n)},r.createElement(c.b,null,r.createElement(va,{data:e})))}))))))},ya=(0,a.J1)(pn(),va.fragment,Ia.fragment),Sa=function(e){var n,t=e.data,a=lt(),i=te((0,v.useDialog)(a),3),o=i[0],s=i[2];return t.heading||(null===(n=t.content)||void 0===n?void 0:n.length)?r.createElement(x.h,{isVisible:o},r.createElement(s,null,r.createElement(Ea,{data:t}))):null};Sa.displayName="ModalDialog",Sa.fragment=ya;var _a=(0,a.J1)(gn(),Sa.fragment),ha=(0,a.J1)(fn(),jr.fragment,$r,ea,na,Zr,ra,_a),ba=function(e){var n=e.data,t=e.isFullWidth,a=da(n.action);return r.createElement(jr,{actionProps:a,data:n,isFullWidth:t})};ba.displayName="SecondaryButton",ba.fragment=ee(Z({},ha),{__typename:"TripsSecondaryButton"}),ba.getKey=function(e){return e.primary};var Aa=(0,a.J1)(vn(),qr.fragment,$r,na,Zr),Ca=function(e){var n=e.data,t=da(n.action);return r.createElement(qr,Z({data:n},t))};Ca.displayName="TertiaryButton",Ca.fragment=ee(Z({},Aa),{__typename:"TripsTertiaryButton"});var Fa,Da=(0,a.J1)(Tn()),Na=function(e){var n=e.data;if(!n)return null;var t=n.primary,a=n.secondaries,i=n.illustration;return r.createElement(c.b,{margin:{small:{blockend:"six"},medium:{block:"twelve"}}},r.createElement(U.i,null,r.createElement(s.i,{justifyContent:"center",direction:"column",alignItems:"center"},r.createElement(r.Fragment,null,r.createElement(s.j,{maxWidth:"24x"},(null==i?void 0:i.url)&&r.createElement(R.E,{alt:i.description,url:i.url})),(t||(null==a?void 0:a.length)>0)&&r.createElement(c.b,{margin:{blockstart:"three"}},r.createElement("div",null,t&&r.createElement(m.E,{tag:"h3",size:5,align:"center"},t),Array.isArray(a)&&a.map((function(e,n){return r.createElement(m.c,{size:300,key:"trip-illustration-subheading-".concat(n)},e)}))))))))};Na.displayName="TripsIllustrationCardFragment",Na.fragment=ee(Z({},Da),{__typename:"TripsIllustrationCard"});var ka=(X(Fa={},z.t.SMALL,"small"),X(Fa,z.t.LARGE,"large"),Fa),wa={lowtier:"lowtier",midtier:"midtier",hightier:"hightier",vip:"vip",extrahightier:"extrahightier"},Ra={deal:"deal",member:"member",trip:"trip",supplierpromo:"supplierpromo",vmc:"vmc"},Oa={standard:"standard",emphasis:"emphasis",info:"info",featured:"featured",brand:"brand",warning:"warning",positive:"positive"},Pa=(0,a.J1)(In()),Ma=function(e){var n=e.className,t=e.badgeSize,a=e.data,i=a.text,o=a.theme,s=a.accessibility,l=a.size,c=l?ka[l]:void 0;return i?r.createElement(z.r,{className:n,a11yText:null!=s?s:void 0,text:i,size:null!=t?t:c,theme:o?wa[o]:void 0}):null};Ma.fragment=Pa,Ma.displayName="EGDSLoyaltyBadge";var La=(0,a.J1)(En()),Va=function(e){var n,t=e.className,a=e.data,i=a.text,o=a.theme,s=a.accessibility;return i&&o?r.createElement(z.s,{className:t,a11yText:null!=s?s:void 0,text:i,theme:null!==(n=Ra[o])&&void 0!==n?n:"deal"}):null};Va.fragment=La,Va.displayName="EGDSProgramBadge";var xa=(0,a.J1)(yn(),Jt.fragment),Ba=function(e){var n=e.className,t=e.badgeSize,a=e.data,i=a.graphic,o=a.text,s=a.theme,l=a.accessibility,u=a.size,d=u?ka[u]:void 0;return o?!s&&i?r.createElement("div",{className:n},r.createElement(Jt,{data:i,defaultIconSize:w.E.EXTRA_SMALL,defaultMarkSize:O.c.EXTRA_SMALL}),r.createElement(c.b,{padding:{inlinestart:"one"}},r.createElement(m.c,{size:200,inline:!0},a.text))):r.createElement(z.p,{className:n,a11yText:null!=l?l:void 0,text:o,size:null!=t?t:d,theme:s?Oa[s]:void 0}):null};Ba.fragment=xa,Ba.displayName="EGDSStandardBadge";var Ga=(0,a.J1)(Sn(),Ba.fragment,Ma.fragment,Va.fragment),Ja=function(e){var n=e.className,t=e.size,a=e.data;switch(a.__typename){case"EGDSStandardBadge":return r.createElement(Ba,{className:n,badgeSize:t,data:a});case"EGDSLoyaltyBadge":return r.createElement(Ma,{className:n,badgeSize:t,data:a});case"EGDSProgramBadge":return r.createElement(Va,{className:n,data:a});default:return null}};Ja.fragment=Ga,Ja.displayName="TripsLegacyEGDSBadge";var Ua=function(e){var n=e.src,t=e.alt,a=e.placeholderImage,i=void 0===a||a;return r.createElement(r.Fragment,null,n?r.createElement(j.b,{src:n,alt:t,placeholderImage:i}):r.createElement("div",{"data-stid":"placeholder-image",className:"uitk-image-placeholder uitk-image-placeholder-image"}))},za=(0,a.J1)(_n(),Ct.fragment,Ja.fragment),ja=function(e){var n=e.data,t=e.cardRightSideLinkSection,a=e.cardIconSection,i=n.primary,o=n.secondaries,u=n.badgeList;return r.createElement(c.b,{padding:"three"},r.createElement(s.i,{direction:"column",space:"one"},u&&u.length>0&&r.createElement(s.j,null,r.createElement(s.i,{wrap:"wrap"},u.map((function(e,n){return r.createElement(s.j,{key:"trip-image-slim-card-".concat(i,"-").concat(n)},r.createElement(c.b,{margin:{blockend:"half",inlineend:"one"}},r.createElement(Ja,{size:z.t.SMALL,data:e})))})))),i&&r.createElement(H.E,{rows:1,columns:2},r.createElement(H.E,null,r.createElement(m.E,{size:6,overflow:"truncate-2-lines"},i)),r.createElement(H.E,null,r.createElement(l.d,{type:"absolute",cloneElement:!0,position:{top:"zero",right:"zero"}},r.createElement("div",null,a,t)))),null==o?void 0:o.map((function(e,n){return r.createElement(s.j,{key:"trip-image-slim-card-".concat(n)},r.createElement(m.c,{size:300,overflow:"truncate-2-lines"},e))}))))},Ha=function(e){var n,t,a=e.data,i=e.middleSection,o=e.cardLeftSideLinkSection,l=e.cardMiddleLinkSection,u=e.cardRightSideLinkSection,m=e.cardIconSection,d=a.impressionTracking,p=a.thumbnail,g=r.createElement(c.b,{margin:{block:"three"}},r.createElement(U.i,{border:!0,overflow:!0},r.createElement(s.i,null,p&&r.createElement(s.j,{minWidth:"16x",shrink:0},r.createElement(U.m,{padded:["blockstart","blockend","inlinestart"]},r.createElement(j.a,{ratio:j.E.R1_1,roundcorner:!0},r.createElement(Ua,{src:null!==(n=p.url)&&void 0!==n?n:void 0,alt:null!==(t=p.description)&&void 0!==t?t:void 0})),o)),r.createElement(s.j,null,r.createElement("div",null,l)),r.createElement(s.j,{grow:1},r.createElement(U.m,{padded:!1},null!=i?i:r.createElement(ja,{data:a,cardIconSection:m,cardRightSideLinkSection:u}))))));return d?r.createElement(Ct,{data:d},g):g};Ha.displayName="ImageSlimCard",Ha.fragment=ee(Z({},za),{__typename:"TripsImageSlimCard"});var qa=(0,a.J1)(hn(),Mt.fragment,Bt.fragment,Vt.fragment,Ct.fragment),$a=function(e){var n=e.data,t=e.actionProps,a=e.isActionAvailable,i=n.graphic,o=n.primary,l=n.secondaries,u=n.accessibility,d=n.impressionTracking,p=r.createElement(c.b,{margin:{blockstart:"three"}},r.createElement(U.i,{border:!0,overflow:!0},r.createElement(U.m,null,r.createElement(c.b,{margin:o&&!l?{block:"two"}:"unset"},r.createElement(s.i,{space:"two",alignItems:"center"},r.createElement(r.Fragment,null,i&&r.createElement(c.b,{padding:{inline:"three"}},r.createElement("div",null,r.createElement(s.j,null,r.createElement(Jt,{data:i,defaultIconSize:w.E.MEDIUM,defaultMarkSize:O.c.MEDIUM})))),r.createElement(s.j,{grow:1},r.createElement("div",null,o&&r.createElement(m.E,{tag:"h3",size:6},o),Array.isArray(l)&&l.map((function(e,n){return r.createElement(m.c,{size:300,spacing:"one",key:"trip-subheading-".concat(n)},e)})))),a&&r.createElement(s.j,null,r.createElement(w.a,{name:"chevron_right","data-testid":"chevron_right"})))))),(t.href||t.onClick)&&r.createElement(U.q,null,t.href?r.createElement("a",Z({},t),null==u?void 0:u.label):r.createElement("button",Z({type:"button"},t),null==u?void 0:u.label))));return d?r.createElement(Ct,{data:d},p):p};$a.displayName="SlimCard",$a.fragment=ee(Z({},qa),{__typename:"TripsSlimCard"});var Wa=(0,a.J1)(bn(),yr,ca,$r),Ka={inlinestart:"one"},Ya={blockstart:"three",inlineend:"three"},Qa=function(e){var n,t,a=e.data,i=e.disableAriaForIconLabel,o=void 0===i?"false":i,l=a.label,u=a.icon;return r.createElement(c.b,{padding:Ya},r.createElement(U.m,null,r.createElement(s.i,{alignItems:"center",wrap:"wrap",justifyContent:"space-around"},u&&r.createElement(w.a,{name:u.id,id:u.id,description:u.description,title:null!==(n=u.title)&&void 0!==n?n:void 0,"data-testid":u.id,theme:null!==(t=u.theme)&&void 0!==t?t:"default"}),l&&r.createElement(c.b,{margin:Ka},r.createElement(m.c,{size:400,overflow:"wrap","aria-hidden":o},l)))))};Qa.displayName="CardIcon",Qa.fragment=ee(Z({},Wa),{__typename:"TripsIcon"});var Xa=(0,a.J1)(An(),Ha.fragment,yr,ca,$r,Qa.fragment),Za=function(e){var n,t,a=e.data,i=da(a.primaryAction),o=da(a.secondaryAction),s=da(null!==(t=null===(n=a.cardIcon)||void 0===n?void 0:n.action)&&void 0!==t?t:null),l=a.accessibility,c=a.cardIcon,u=null==c?void 0:c.action,m=null==u?void 0:u.accessibility,d=r.useMemo((function(){return o?r.createElement(U.q,null,o.href?r.createElement("a",ee(Z({},o),{"aria-hidden":"true"}),null==l?void 0:l.label):r.createElement("button",ee(Z({type:"button"},o),{"aria-hidden":"true"}),null==l?void 0:l.label)):null}),[l,o]),p=r.useMemo((function(){return i?r.createElement(U.q,null,i.href?r.createElement("a",Z({},i),null==l?void 0:l.label):r.createElement("button",ee(Z({type:"button"},i),{"aria-hidden":"true"}),null==l?void 0:l.label)):null}),[l,i]),g=r.useMemo((function(){return s?r.createElement(U.q,null,r.createElement("button",Z({type:"button"},s),null==m?void 0:m.label)):null}),[m,s]),f=r.useMemo((function(){return c&&r.createElement(Qa,{data:c,disableAriaForIconLabel:"true"})}),[c]);return r.createElement(Ha,{data:a,cardLeftSideLinkSection:d,cardMiddleLinkSection:p,cardRightSideLinkSection:g,cardIconSection:f})};Za.displayName="ImageSlimCard",Za.fragment=ee(Z({},Xa),{__typename:"TripsImageSlimCard"}),Za.getKey=function(e){return e.primary};var ei=(0,a.J1)(Cn()),ni=function(e){var n=e.data,t=n.primary,a=n.secondaries,i=n.image;return r.createElement(c.b,{padding:{blockend:"six"}},r.createElement(U.i,null,r.createElement(s.i,null,r.createElement(s.j,{minWidth:150,shrink:0},r.createElement(j.a,{ratio:j.E.R3_2,roundcorner:!0,imageFit:"cover"},r.createElement(j.b,{src:null==i?void 0:i.url,alt:null==i?void 0:i.description,placeholderImage:!0}))),r.createElement(U.m,{padded:["inlinestart"]},r.createElement("div",null,r.createElement(m.E,{overflow:"truncate-3-lines",tag:"h3",size:5,align:"left"},t),null==a?void 0:a.map((function(e,n){return r.createElement(s.j,{key:"trip-item-recall-card-".concat(n)},r.createElement(U.m,{padded:["blockstart"]},r.createElement(m.c,{size:300},e)))})))))))};ni.displayName="ItemRecallCard",ni.fragment=ee(Z({},ei),{__typename:"TripsItemRecallCard"});var ti=(0,a.J1)(Fn(),$a.fragment,Rt),ri=function(e){var n=e.data,t=da(null==n?void 0:n.action),a=n.action;return r.createElement($a,{data:n,actionProps:t,isActionAvailable:Boolean(null==a?void 0:a.__typename)})};ri.displayName="SlimCard",ri.fragment=ee(Z({},ti),{__typename:"TripsSlimCard"}),ri.getKey=function(e){return e.primary};var ai=function(e){var n=e.elements;return n&&n.length?r.createElement(q.E,{hasRequiredFieldIndicator:!0,name:"trips-form"},n.map((function(e,n){return r.createElement(c.b,{key:"trips-form-item-".concat(n),margin:{blockend:"three"}},r.createElement("div",null,e))}))):null},ii=(0,a.J1)(Dn()),oi=(0,a.J1)(Nn()),si=(0,a.J1)(kn()),li=(0,a.J1)(wn()),ci=(0,a.J1)(Rn()),ui=(0,a.J1)(On()),mi=(0,a.J1)(Pn()),di=((0,a.J1)(Mn()),(0,a.J1)(Ln(),ii,oi,si,li,ci,ui,mi));function pi(e){return"EGDSMaxLengthInputValidation"===e.__typename}var gi=function(e){var n=e.data,t=te((0,I.A9)(),2),a=t[0],i=t[1];if(r.useEffect((function(){var e;n&&(a.validatedInputs.inputFields.some((function(e){return e.inputId===n.egdsElementId}))||i({type:"addInputField",payload:{inputId:n.egdsElementId,inputValue:null!==(e=n.value)&&void 0!==e?e:"",validations:n.validations}}))}),[null==n?void 0:n.egdsElementId]),!(null==n?void 0:n.egdsElementId))return null;var o,s=n.egdsElementId,l=n.label,u=n.placeholder,m=n.instructions,d=n.required,p=n.leftIcon,g=n.validations,f="MULTIPLE"===n.inputType,v=f?null==g?void 0:g.find(pi):void 0,T=a.validatedInputs.inputFields.find((function(e){return e.inputId===s})),E=null==T?void 0:T.currentErrorMessage,y=m?{primary:m}:void 0,S={id:s,icon:null==p?void 0:p.leftIconId,name:s,label:null!=l?l:"",placeholder:null!=u?u:"",value:null!==(o=null==T?void 0:T.inputValue)&&void 0!==o?o:"",required:null!=d&&d,invalid:E,instruction:y,onChange:function(e){if(i({type:"updateInputValue",payload:{inputId:s,inputValue:e.target.value}}),v){var n=Yr(e.target.value,g);i({type:"updateInputErrorMessage",payload:{inputId:s,currentErrorMessage:n}})}},onBlur:function(e){e.preventDefault();var n=e.target.value,t=Yr(n,g);i({type:"updateInputErrorMessage",payload:{inputId:s,currentErrorMessage:t}})}},_=f?$.e:$.b;return r.createElement(c.b,{margin:{blockend:"three"}},r.createElement("div",null,r.createElement(_,Z({"data-stid":"trips-input-".concat(s)},S))))};gi.displayName="TripsValidatedInput",gi.fragment=ee(Z({},di),{__typename:"TripsValidatedInput"});var fi=(0,a.J1)(Vn(),ga.fragment,ba.fragment,gi.fragment),vi=function(e){var n=e.data.elements,t=St(n,[ga,ba,gi]);return r.createElement(ai,{elements:t})};vi.displayName="FormContainer",vi.fragment=ee(Z({},fi),{__typename:"TripsFormContainer"});var Ti=(0,a.J1)(xn(),Ft.fragment),Ii=function(e){var n=e.data,t=e.children,a=n.heading,i=n.subheadings,o=n.tripsListSubTexts,s="IMPORTANT"===n.theme?"six":"twelve",l="ADAPTIVE"===n.layout,u=0;r.Children.forEach(t,(function(e){var n,t;r.isValidElement(e)&&"TripsFullBleedImageCard"===(null==e||null===(t=e.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.__typename)&&(u+=1)}));var d,p,g,f=function(e){var n,t;return"TripsFullBleedImageCard"===(null===(t=e.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.__typename)&&u>1?1:2},v=function(e){var n,r,a;return l||e?l&&"TripsIllustrationCard"===(null==t||null===(a=t[0])||void 0===a||null===(r=a.props)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.__typename)?"sixteen":void 0:"six"},T=function(){var e,n,r;if(l&&"TripsIllustrationCard"===(null==t||null===(r=t[0])||void 0===r||null===(n=r.props)||void 0===n||null===(e=n.data)||void 0===e?void 0:e.__typename))return"sixteen"},I=r.createElement(c.b,{margin:l?{blockstart:"eight",inline:T()}:{blockstart:s},padding:{inline:v(!1)}},r.createElement("div",null,r.createElement(c.b,{padding:{inline:v(!0)},margin:{inline:T()}},r.createElement("section",null,a&&r.createElement(m.E,{tag:"h2",size:5},a),i||o?r.createElement(c.b,{margin:{block:"three"}},r.createElement("div",null,null==i?void 0:i.map((function(e){return r.createElement(m.b,{key:e},e)})),null==o?void 0:o.map((function(e){return r.createElement(m.c,{key:e,size:100},e)})))):null,l?r.createElement(c.b,{margin:{blockstart:"four"}},r.createElement(H.E,{columns:2,space:"TripsSlimCard"===(null==t||null===(g=t[0])||void 0===g||null===(p=g.props)||void 0===p||null===(d=p.data)||void 0===d?void 0:d.__typename)?"one":"four"},r.Children.map(t,(function(e,n){return r.isValidElement(e)?r.createElement(H.a,{key:e.key||n,colSpan:f(e)},r.createElement("div",null,e)):null})))):t))));return n.impressionAnalytics?r.createElement(Ft,{data:n.impressionAnalytics},I):I};Ii.displayName="TripsSectionContainer",Ii.fragment=Ti,Ii.getKey=function(e){return e.heading};var Ei=(0,a.J1)(Bn(),Ii.fragment,ga.fragment,ba.fragment,Ca.fragment,Za.fragment,ri.fragment),yi=function(e){var n=e.data,t=n.elements,a=St(t,[ri,Za,ga,ba,Ca]);return r.createElement(Ii,{data:n},a)};yi.displayName="SectionContainer",yi.fragment=ee(Z({},Ei),{__typename:"TripsSectionContainer"});var Si=(0,a.J1)(Gn(),Ca.fragment),_i=function(e){var n,t=e.data,a=e.dialogName,i=t.actions,o=i.primary,l=o.accessibility,c=o.action,u=i.secondaries,m=(0,g.KY)(),d=te((0,v.useDialog)(a),2)[1],p=u&&r.createElement(s.i,{justifyContent:"space-between"},u.map((function(e){return r.createElement(s.j,{key:e.primary},r.createElement(Ca,{data:e}))})));return r.createElement(W.b,{key:"".concat(a,"-composable-drawer-toolbar"),navigationContent:{onClick:function(){c&&m(c.analytics.referrerId,c.analytics.linkName),d.closeDialog()},navIconLabel:null!==(n=null==l?void 0:l.label)&&void 0!==n?n:void 0,navType:"close"},toolbarActionContent:p})};_i.fragment=Si,_i.displayName="Toolbar";var hi=(0,a.J1)(Jn(),Gr.fragment,yi.fragment,vi.fragment,ga.fragment,ba.fragment,Ca.fragment,Za.fragment,ri.fragment,_i.fragment,Na.fragment,ni.fragment),bi=function(e){var n,t=e.data,a=e.refetch,o=t.elements,s=ct(),l=St(o,[yi,vi,ga,ba,Ca,Za,ri,Na,ni]),c=(0,i.q)(Vr),u=null==c?void 0:c.favoriteSwitchRef;if(!l)return null;var m=(null===(n=t.tripsViewHeader)||void 0===n?void 0:n.toolbar)?r.createElement(_i,{data:t.tripsViewHeader.toolbar,dialogName:s}):null;return r.createElement(r.Fragment,null,r.createElement(Gr,{triggerRef:u,dialogName:s,data:t,toolBar:m},l),r.createElement(ot,{refetch:a}))};bi.displayName="ComposableDrawer",bi.fragment=ee(Z({},hi),{__typename:"TripsComposableDrawer"});var Ai=(0,a.J1)(Un(),bi.fragment),Ci=new D.SystemEvent(D.SystemEventLevel.ERROR,"FETCH_TRIP_CREATION_VIEW_ERROR"),Fi=function(e){var n,t,a=e.inputs,i=(0,p.R)().context,s=(0,h.p)().htmlElement,l=(0,D.useLoggerEvents)({FETCH_TRIP_CREATION_VIEW_ERROR:Ci}),c=(0,_.useLocalization)().formatText,u=ee(Z({},a),{context:i}),m=(0,o.I)(Ai,{variables:u,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),d=m.data,g=m.loading,f=m.error;return f?(l.FETCH_TRIP_CREATION_VIEW_ERROR.log({error:f}),Xn(r.createElement(S.E,{show:!0},c("trip.error.detail.message")),s)):r.createElement(r.Fragment,null,g&&Xn(r.createElement(y.a,{visible:!0}),s),"TripsComposableDrawer"===(null==d||null===(t=d.trip)||void 0===t||null===(n=t.creation)||void 0===n?void 0:n.__typename)&&r.createElement(bi,{data:d.trip.creation}))};Fi.displayName="TripCreationDrawer";var Di=(0,a.J1)(zn(),bi.fragment),Ni=new D.SystemEvent(D.SystemEventLevel.ERROR,"FETCH_TRIPS_PLAN_VIEW_ERROR"),ki=function(e){var n,t,a=e.inputs,i=(0,p.R)().context,s=(0,h.p)().htmlElement,l=(0,D.useLoggerEvents)({FETCH_TRIPS_PLAN_VIEW_ERROR:Ni}),c=(0,_.useLocalization)().formatText,u=ee(Z({},a),{context:i}),m=(0,o.I)(Di,{variables:u,fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),d=m.data,g=m.loading,f=m.error,v=m.refetch;return f?(l.FETCH_TRIPS_PLAN_VIEW_ERROR.log({error:f}),Xn(r.createElement(S.E,{show:!0},c("trip.error.detail.message")),s)):r.createElement(r.Fragment,null,g&&Xn(r.createElement(y.a,{visible:!0}),s),"TripsComposableDrawer"===(null==d||null===(t=d.trips)||void 0===t||null===(n=t.plan)||void 0===n?void 0:n.__typename)&&r.createElement(bi,{data:d.trips.plan,refetch:v}))};ki.displayName="TripSaveItemDrawer";var wi=function(e){switch(e.type){case"TripSaveItemDrawerOptions":return r.createElement(ki,{inputs:{item:e.queryInputs.item}});case"TripCreationDrawerOptions":return r.createElement(Fi,{inputs:{metadata:{saveItemInput:e.queryInputs.item.saveItemInput}}});default:return null}},Ri=dt,Oi=(0,a.J1)(jn(),Tr,kr,Lr.fragment,Cr),Pi=function(e){var n,t,a,y,S=e.data,_=e.source,h=e.heartLayoutPosition,b=e.saveItemCallback,A=e.removeItemCallback,D=e.showRedOutline,N=S.itemId,k=S.initialChecked,w=S.save,R=S.remove,O=S.attributes,P=S.source,M=S.viewType,L=S.coachmark,V=r.useMemo((function(){return Math.random().toString(36).slice(2,5)}),[]),x="trip-save-item-".concat(V),B=te(r.useState(N),2),G=B[0],J=B[1],U=(0,g.KY)(),z=ct(),j=te((0,v.useDialog)(z),2)[1],H=(0,i.q)(Vr),q=Et(),$=(0,p.R)().context,W=(0,T.useExperiment)("Saving_anonymous_signinscreen_web"),K=W.exposure,Y=W.logExperiment,Q=(0,T.useExperiment)("one_click_save"),X=Q.exposure,ee=Q.logExperiment,ne=(0,T.useExperiment)("one_click_save_cars_lx_web"),re=ne.exposure,ae=ne.logExperiment,ie=(0,T.useExperiment)("Disable_heart_icon_bug_fix"),oe=ie.exposure,se=ie.logExperiment,le=(0,T.useExperiment)("Persist_saving_anonymous"),ce=le.exposure,ue=le.logExperiment,me=(0,T.useExperiment)("Heart_RedOutline_LodgingLX"),de=me.exposure,pe=me.logExperiment,ge=(0,T.useExperiment)("Saving_for_Identified_Users").exposure,fe=(0,T.useExperiment)("NewSaveIcon_HomePage_Web"),ve=fe.exposure,Te=fe.logExperiment,Ie=(0,T.useExperiment)("Web_Save_Consistency_HP_LP"),Ee=Ie.exposure,ye=Ie.logExperiment,Se=(0,F.eg)({viewSizes:F.pf}),_e=nt(),he=(0,i.q)(_e);(0,r.useEffect)((function(){J(N)}),[N]);var be,Ae={__typename:"TripsSaveItemToTripAction",analytics:w.analytics,saveItemInput:{itemId:G,pageLocation:P,source:_,attributes:O,subscriptionAttributes:null,tripItem:null}},Ce=hr(Ae),Fe=(0,o.I)(sr,{fetchPolicy:"cache-only"}).data;if(!te((0,I.A9)(),1)[0].validatedInputs)throw new Error("TripSaveItem must be wrapped with a provider that provides ValidatedInputsState");var De,Ne,ke=null!==(be=null==Fe||null===(n=Fe.localSavedItems.find((function(e){return e.id===G})))||void 0===n?void 0:n.checked)&&void 0!==be?be:k,we=1===oe.bucket&&"loading"===(null==he?void 0:he.status)&&((null==H?void 0:H.queryInputs.item.itemId)===G||sessionStorage.getItem("itemId")===G),Re=null!==(De=ke?R.accessibility:w.accessibility)&&void 0!==De?De:void 0,Oe=ke?R.analytics:w.analytics,Pe=ke?R.label:w.label,Me=ke?A:b,Le=r.useRef(null),Ve={isAuthenticated:"AUTHENTICATED"===(Ne=null===(t=$.identity)||void 0===t?void 0:t.authState),isAnonymous:"ANONYMOUS"===Ne,isIdentified:"IDENTIFIED"===Ne},xe=Ve.isIdentified,Be=Ve.isAuthenticated,Ge=Ve.isAnonymous,Je=null===(a=window.location)||void 0===a?void 0:a.search,Ue=null===(y=window.location)||void 0===y?void 0:y.pathname,ze=!1,je=function(e){return{isCarsV2Source:pt(e),isLodgingSource:gt(e),isActivitiesSource:ft(e),isPackagesSource:vt(e),isLodgingOrActivitiesSource:Tt(e)}}(_),He=je.isCarsV2Source,qe=je.isLodgingOrActivitiesSource,$e=je.isPackagesSource,We=r.useRef(null),Ke=r.useRef(null),Ye=function(){return 0!==X.bucket||1===re.bucket},Qe=function(){return 1===ge.bucket},Xe=function(){return 1===K.bucket},Ze=function(){return Xe()&&!Be},en=function(){return 0===Ee.bucket},nn=function(){return 1===ce.bucket||!en()},tn=r.useMemo((function(){return{type:"TripSaveItemDrawerOptions",queryInputs:{item:{itemId:G,source:_,pageLocation:P,attributes:q(O),subscriptionAttributes:void 0}},favoriteSwitchRef:Le}}),[G,_,P,O,q]),rn=1===X.bucket||1===re.bucket,an=!en();(0,f._H)("TRIP_ITEM_SAVED",E.ch,{onSuccess:function(e){(rn||an)&&sessionStorage.setItem("itemId",e.payload.tripItemId)}});var on=function(){return ke||0===X.bucket&&0===re.bucket&&!ke&&!Ze()&&en()||Ye()&&!Be&&!xe&&!Xe()||xe&&!Qe()&&Ye()&&!Xe()},sn=function(){return!Ze()&&(xe&&Qe()&&Ye()||Ye())||!en()},ln=r.useCallback((function(e){var n,t,r="/login?".concat((t="".concat(Ue).concat(Je),"enable_login=true&redirectTo=".concat(encodeURIComponent(t)))),a=null==Oe||null===(n=Oe.uisPrimeMessages)||void 0===n?void 0:n.map((function(e){var n=e.schemaName,t=e.messageContent;return{schemaName:n,messageContent:JSON.parse(t)}}));Oe&&U(Oe.referrerId,Oe.linkName,void 0,a),Ge&&ue(ce),Be||(Y(K),nn()&&sessionStorage.setItem("savedItemId",G),setTimeout((function(){Xe()&&(window.location.href=r)}),500)),Me&&Me(),null==e||e.stopPropagation(),_e({status:"reset"}),Le.current=document.activeElement,ee(X),ae(re),se(oe),ye(Ee),sessionStorage.removeItem("itemId"),on()?(j.openDialog(),Vr(tn)):sn()&&(null==Ce?void 0:Ce.onClick)&&(Ce.onClick(),sessionStorage.setItem("itemId",G))}),[Oe,U,j,Me,tn,$]);(0,r.useEffect)((function(){var e=sessionStorage.getItem("savedItemId")||null;nn()&&G&&e===G&&Be&&(sessionStorage.removeItem("savedItemId"),ln())}),[]);var cn=te(r.useState(Pe),2),un=cn[0],mn=cn[1];r.useEffect((function(){Se!==F.pf.SMALL?mn(Pe):mn("")}),[Se,Pe]);var dn,pn=r.useMemo((function(){return r.createElement("div",{"data-stid":"outlined-save-button",id:x,ref:We},r.createElement(d.XO,{key:x,checked:ke,accessibilityLabel:Re,accentOutlineHighlighted:!0,onClick:ln,text:un||void 0}),L&&r.createElement(Nr,{triggerRef:We,data:L,pageName:P}))}),[x,Re,ke,ln,_,we]),gn=r.useMemo((function(){return r.createElement("div",{"data-stid":"save-button",ref:Ke},r.createElement(u.a,{key:x,id:x,label:Re,checked:ke,onChange:ln,disabled:we}),L&&r.createElement(Nr,{triggerRef:Ke,data:L,pageName:P}))}),[x,Re,ke,ln,we]),fn=r.useMemo((function(){return r.createElement(s.i,{direction:"row",alignItems:"center"},r.createElement(s.j,null,gn),r.createElement(s.j,null,r.createElement(F.LM,null,r.createElement(F.rw,null,r.createElement(c.b,{padding:{inlineend:"four"}},r.createElement(m.c,{whiteSpace:"nowrap","data-stid":"save-item-label"},Pe))))))}),[gn,Pe]),vn=r.useCallback((function(){qe&&pe(de),Te(ve);var e=function(){return 1===de.bucket&&qe||He||$e||D||1===ve.bucket&&function(e){return"ENTRY"===e}(P)?pn:Pe?fn:gn};return h?r.createElement(l.d,{type:h.type,position:h.position},e()):e()}),[h,_,Pe,fn,gn,pn]);return r.createElement(mt,{onEditCTAInToastClick:function(){if(rn||an){var e;if(sessionStorage.getItem("itemId"))J(null!==(e=sessionStorage.getItem("itemId"))&&void 0!==e?e:"");Vr(tn),j.openDialog()}}},r.createElement(C.ek,null,M?r.createElement(Lr,{data:M,favouriteSwitchOnChange:ln}):vn(),(null==H?void 0:H.queryInputs.item.itemId)===G&&r.createElement(wi,Z({},H)),(dn=(Ye()||!en())&&"undefined"!=typeof sessionStorage&&sessionStorage.getItem("itemId")===G,("complete"===(null==he?void 0:he.status)?!ze&&(ze=!0,dn):dn)&&r.createElement(ot,null))))};Pi.fragment=Oi,Pi.displayName="sharedui-TripSaveItem";var Mi=(0,a.J1)(Hn(),_a,ra),Li=function(e){var n,t,a=e.data,i=null!==(t=a.primary)&&void 0!==t?t:void 0,o="negative"===(null===(n=a.icon)||void 0===n?void 0:n.theme),s=da(a.action),l=s.onClick,c=s.onClickCapture,m=r.useCallback((function(){null==l||l(),null==c||c()}),[l,c]);return r.createElement(u.E,{checked:o,onChange:m,a11yLabel:i})};Li.displayName="TripsSaveItemButton",Li.fragment=Mi;var Vi=(0,a.J1)(qn(),Rt),xi=function(e){var n,t=e.data,a="TripsNavigateToViewAction"===(null===(n=t.action)||void 0===n?void 0:n.__typename)?t.action:void 0,i=da(t.action);return r.createElement(r.Fragment,null,!a&&t.primary&&r.createElement(m.c,{size:200},t.primary),a&&t.primary&&r.createElement(K.E,{size:"small"},r.createElement("a",Z({},i),t.primary)))};xi.displayName="TripsViewContentItem",xi.fragment=Vi;var Bi=(0,a.J1)($n(),xi.fragment),Gi=function(e){var n=e.data;return r.createElement(r.Fragment,null,n.items.map((function(e,t){return r.createElement(xi,{data:e,key:"".concat(n.__typename,"-").concat(t)})})))};Gi.displayName="TripsInlineContent",Gi.fragment=Bi;var Ji=(0,a.J1)(Wn(),Gi.fragment,Li.fragment),Ui=function(e){var n=e.data;return r.createElement(U.i,{padded:!0,border:!0},n.graphicText&&r.createElement(s.i,{alignItems:"center"},"Illustration"===n.graphicText.graphic.__typename&&r.createElement(s.j,{alignSelf:"center",grow:0},r.createElement(U.m,{padded:!1},r.createElement(R.E,{url:n.graphicText.graphic.url,alt:n.graphicText.graphic.description}))),r.createElement(s.j,{grow:1},r.createElement(U.m,{padded:["inlinestart"]},r.createElement(m.E,null,n.graphicText.text)))),r.createElement(c.c,null),r.createElement(s.i,{alignItems:"center"},r.createElement(s.j,{grow:1},r.createElement(U.m,{padded:!1},r.createElement(m.c,{spacing:"one"},n.heading),r.createElement(Gi,{data:n.primary}))),r.createElement(s.j,{grow:0,alignSelf:"center"},r.createElement(U.m,{padded:["inlinestart"]},r.createElement(Li,{data:n.saveItemButton})))))};Ui.displayName="TripsSaveItemDetails",Ui.fragment=Ji;(0,a.J1)(Kn(),Li.fragment,Ui.fragment);var zi={data:{offset:0},stateFieldName:"toastState",events:["setOffset"],update:function(e,n,t){return"setOffset"===e?ee(Z({},n),{offset:t.data.offset}):n}}}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/shopping-pwa/shared-ui-trips-save-item.44bdf07da797d9be3767.js.map